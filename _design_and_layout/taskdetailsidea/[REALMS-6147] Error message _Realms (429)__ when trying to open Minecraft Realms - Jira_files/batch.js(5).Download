WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:rte-saving-kb-shortcuts', location = 'js/editor-saving-kb-shortcuts.js' */
define("jira/editor/saving-kb-shortcuts",["jquery","jira/editor/analytics","jira/util/navigator","jira/util/data/meta","jira/util/formatter"],function(c,h,l,a,g){function e(m){return(m.ctrlKey||(l.isMac()&&m.metaKey))&&(m.keyCode===13||(!l.isMac()&&(m.keyCode===10)))}function b(){return(a.get("keyboard-accesskey-modifier")||"").split("+").map(function(m){return m.trim().toLowerCase()+"Key"})}function k(){var m="s";return m&&m.length===1?m.toUpperCase().charCodeAt(0):0}var j=k();var f=b();function i(m){if(!j||j!==m.keyCode){return false}return f.every(function(n){return m[n]})}function d(m){m.getInstance().relayEvent("keydown",function(n){if(e(n)||i(n)){n.preventDefault();m.serialize().then(function(){h.sendEvent("editor.instance.submit");c(m.$textarea.prop("form")).submit()})}},true)}return{enable:d}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:schema-builder', location = 'js/editor-schema-builder.js' */
define("jira/editor/schema-builder",["jira/editor/tinymce","jquery","underscore","jira/util/logger"],function(n,b,m,o){var e=function(){this.noBreak=[];this.noNest=[];this.customElementChildren={};this.customElementAttrs={};this.validChildren=[];this.unwantedAttributes=[];this.extendedValidElements=[];this.baseSchema="html5";this.validElements=[]};e.prototype.withCustomElement=function(r,s,q){if(!f(r)){o.error("Could not add custom element: incorrect `name` given:",r,"(see https://www.w3.org/TR/custom-elements/#valid-custom-element-name)");return this}if(!c(s)){o.error("Could not add custom element: incorrect `children` given:",s);return this}if(!g(q)){o.error("Could not add custom element: incorrect `attributes` given:",q);return this}if(false===s){s=[]}else{if(undefined===s){s=["p","#comment"]}else{s.push("#comment")}}if(!q){q=[]}this.customElementChildren[r]=m.uniq(s);this.customElementAttrs[r]=m.uniq(q);return this};e.prototype.withBaseSchema=function i(q){this.baseSchema=q;return this};e.prototype.withValidElements=function l(q){this.validElements=q;return this};e.prototype.withNoBreak=function p(q){this.noBreak.push.apply(this.noBreak,q);return this};e.prototype.withNoSelfNest=function h(q){this.noNest.push.apply(this.noNest,q.map(function(r){return[r,r]}));return this};e.prototype.setValidChildren=function d(r,q){this.validChildren.push(r+"["+q+"]");return this};e.prototype.withExtendedValidElements=function(q){this.extendedValidElements.push.apply(this.extendedValidElements,q);return this};e.prototype.withNoNest=function h(q){this.noNest.push.apply(this.noNest,q);return this};e.prototype.withUnwantedAttributes=function j(q){this.unwantedAttributes.push.apply(this.unwantedAttributes,q);return this};e.prototype.build=function k(){var A=this.baseSchema;var r=[];var s=[];var q=[];var t=[];var y={};this.noBreak.forEach(function(C){v(C)});this.noNest.forEach(function(C){u.apply(null,C)});r.push.apply(r,Object.keys(this.customElementChildren));b.each(this.customElementChildren,function(C,D){y[C]=D.reduce(function(E,F){E[F]={};return E},{})});s.push.apply(s,this.validChildren);q=a(this.validElements,this.unwantedAttributes,A);t.push.apply(t,m.map(this.customElementAttrs,function(D,C){return C+(D.length?"["+D.join("|")+"]":"")}));t.push.apply(t,this.extendedValidElements);return{getValidChildren:function x(){return s.join(",")},getValidElements:function B(){return q.join(",")},getExtendedValidElements:function z(){return t.join(",")},getCustomElements:function(){return r.join(",")},getType:function w(){return A},fixChildren:function(C){b.extend((C||{}).children,y)}};function u(C,D){s.push("-"+C+"["+D+"]")}function v(C){u(C,"br")}};return e;function a(t,r,s){var u=new n.html.Schema({schema:s});var q=u.elements;q.img.attributesRequired=["src"];q.img.attributes.imagetext={};q.img.attributesOrder.push("imagetext");return t.map(function(x){var w=q[x];if(!w){return false}var z=(w.removeEmptyAttrs)?"!":"";var y="";if(w.paddEmpty){y="#"}else{if(w.removeEmpty){y="-"}}var v=w.attributesOrder.map(function(A){var B="";if((w.attributesRequired||[]).indexOf(A)!==-1){B="!"}return B+A}).filter(function(A){return r.indexOf(A)===-1});return y+x+z+"["+v.join("|")+"]"}).filter(function(v){return !!v})}function f(q){return typeof q==="string"&&q.indexOf("-")>0}function c(q){if(m.isArray(q)){return m.every(q,function(r){return typeof r==="string"})}return false===q||undefined===q}function g(q){if(m.isArray(q)){return m.every(q,function(r){return typeof r==="string"})}return undefined===q}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:schema-builder', location = 'js/editor-supported-operations.js' */
define("jira/richeditor/editor-supported-operations",["underscore"],function(b){var g=["bold","italic","underline","bullet-list","numbered-list","h1","h2","h3","h4","h5","h6","paragraph","paragraph-quote","block-quote","monospace","delete","superscript","subscript","cite","hr","color","icon","attachment","code","panel","noformat","table","undo","redo"];var f=["br","span","a","p","div"];var a=d(g,f);return{getWikiOperations:function c(){return g},getRequiredHtmlTags:function e(){return a},mapWikiOperationToHtmlTags:d};function d(j,h){var l={bold:["strong","b"],italic:["em","i"],underline:["ins","u"],"bullet-list":["li","ul"],"numbered-list":["li","ol"],paragraph:[],"paragraph-quote":["blockquote"],"block-quote":["blockquote"],monospace:["samp","tt","code"],"delete":["del"],superscript:["sup"],subscript:["sub"],color:["font"],icon:["img"],attachment:["a","img","sup"],code:["pre"],panel:["b"],noformat:["pre"],table:["table","thead","tbody","tr","th","td","tfoot","caption","colgroup","col"],undo:[],redo:[]};var k=b.map(j,function(m){return l[m]||[m]});k.push(h||[]);var i=b.flatten(k);return b.uniq(i)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:schema', location = 'js/editor-schema.js' */
define("jira/editor/schema",["jira/editor/schema-builder","jira/richeditor/editor-supported-operations","jira/editor/tinymce","jquery"],function(e,a,k,d){var b=["strong","b","em","i","tt","code","samp","sub","sup","del","cite","panel-title"];var h=[["td","table"],["th","table"],["td","p"],["th","p"]];var g=[];var c=["strong/b"];g.push("xml:lang");g.push("xml:space");var f={};f.getSchemaSpecBuilder=function(l){if(undefined===l){l=new e()}return l.withValidElements(a.getRequiredHtmlTags()).withNoBreak(b).withNoSelfNest(b).withNoNest(h).withUnwantedAttributes(g).withExtendedValidElements(c).withCustomElement("panel-title",["span","#text"],["style"]).setValidChildren("pre","br|span|#text|pre|p|panel-title")};f.getPasteSchemaSpecBuilder=function(l){if(undefined===l){l=f.getSchemaSpecBuilder()}return l.withUnwantedAttributes(["contenteditable"])};f.getPasteInsidePreSchemaSpecBuilder=function(l){if(undefined===l){l=new e()}return l.withValidElements(["br","span","p","pre"]).withUnwantedAttributes(["style"])};f.getSchemaFromSpec=function(m){var l=new k.html.Schema({schema:m.getType(),custom_elements:m.getCustomElements(),valid_children:m.getValidChildren(),valid_elements:m.getValidElements(),extended_valid_elements:m.getExtendedValidElements()});m.fixChildren(l);return l};function j(l){if("textContent" in document.body){l=l.replace(/(<br>|<br \/>)/g,"\n")}var m=d("<div>").addClass("richeditor-sanitize").append(l)[0];try{d(m).appendTo(document.body);return AJS.escapeHTML(m.textContent||m.innerText)}finally{d(m).remove()}}f.sanitizeHtml=function i(n,o,s){var l=d(o.selection.getStart()).add(o.selection.getEnd()).add(o.selection.getNode());if(l.is("pre, pre > *")){n=l.clone().html(j(n)).prop("outerHTML")}if(l.is("panel-title, panel-title > *")){n=j(n)}var p=f.getSchemaFromSpec(s);var q=new k.html.DomParser(o.settings,p);var m=new k.html.Serializer(o.settings,p);var r=q.parse(n,{forced_root_block:undefined});return m.serialize(r)};return f});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:i18n', location = '/js/editor-i18n.js' */
define("jira/editor/i18n",["jira/editor/tinymce"],function(a){a.addI18n("en",{Cut:"Cut","Header 2":"Header 2","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Your browser doesn\'t support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.",Div:"Div",Paste:"Paste",Close:"Close","Font Family":"Font Family",Pre:"Pre","Align right":"Align right","New document":"New document",Blockquote:"Blockquote","Numbered list":"Numbered list","Increase indent":"Increase indent",Formats:"Formats",Headers:"Headers","Select all":"Select all","Header 3":"Header 3",Blocks:"Blocks",Undo:"Undo",Strikethrough:"Strikethrough","Bullet list":"Bullet list","Header 1":"Header 1",Superscript:"Superscript","Clear formatting":"Clear formatting","Font Sizes":"Font Sizes",Subscript:"Subscript","Header 6":"Header 6",Redo:"Redo",Paragraph:"Paragraph",Ok:"Ok",Bold:"Bold",Code:"Code",Italic:"Italic","Align center":"Align center","Header 5":"Header 5","Decrease indent":"Decrease indent","Header 4":"Header 4","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.",Underline:"Underline",Cancel:"Cancel",Justify:"Justify",Inline:"Inline",Copy:"Copy","Align left":"Align left","Visual aids":"Visual aids","Lower Greek":"Lower Greek",Square:"Square",Default:"Default","Lower Alpha":"Lower Alpha",Circle:"Circle",Disc:"Disc","Upper Alpha":"Upper Alpha","Upper Roman":"Upper Roman","Lower Roman":"Lower Roman",Name:"Name",Anchor:"Anchor","You have unsaved changes are you sure you want to navigate away?":"You have unsaved changes are you sure you want to navigate away?","Restore last draft":"Restore last draft","Special character":"Special character","Source code":"Source code","Right to left":"Right to left","Left to right":"Left to right",Emoticons:"Emoticons",Robots:"Robots","Document properties":"Document properties",Title:"Title",Keywords:"Keywords",Encoding:"Encoding",Description:"Description",Author:"Author",Fullscreen:"Fullscreen","Horizontal line":"Horizontal line","Horizontal space":"Horizontal space","Insert/edit image":"Insert/edit image",General:"General",Advanced:"Advanced",Source:"Source",Border:"Border","Constrain proportions":"Constrain proportions","Vertical space":"Vertical space","Image description":"Image description",Style:"Style",Dimensions:"Dimensions","Insert image":"Insert image","Insert date/time":"Insert date/time","Remove link":"Remove link",Url:"Url","Text to display":"Text to display",Anchors:"Anchors","Insert link":"Insert link","New window":"New window",None:"None","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",Target:"Target","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?","Insert/edit link":"Insert/edit link","Insert/edit video":"Insert/edit video",Poster:"Poster","Alternative source":"Alternative source","Paste your embed code below:":"Paste your embed code below:","Insert video":"Insert video",Embed:"Embed","Nonbreaking space":"Nonbreaking space","Page break":"Page break","Paste as text":"Paste as text",Preview:"Preview",Print:"Print",Save:"Save","Could not find the specified string.":"Could not find the specified string.",Replace:"Replace",Next:"Next","Whole words":"Whole words","Find and replace":"Find and replace","Replace with":"Replace with",Find:"Find","Replace all":"Replace all","Match case":"Match case",Prev:"Prev",Spellcheck:"Spellcheck",Finish:"Finish","Ignore all":"Ignore all",Ignore:"Ignore","Insert row before":"Insert row before",Rows:"Rows",Height:"Height","Paste row after":"Paste row after",Alignment:"Alignment","Column group":"Column group",Row:"Row","Insert column before":"Insert column before","Split cell":"Split cell","Cell padding":"Cell padding","Cell spacing":"Cell spacing","Row type":"Row type","Insert table":"Insert table",Body:"Body",Caption:"Caption",Footer:"Footer","Delete row":"Delete row","Paste row before":"Paste row before",Scope:"Scope","Delete table":"Delete table","Header cell":"Header cell",Column:"Column",Cell:"Cell",Header:"Header","Cell type":"Cell type","Copy row":"Copy row","Row properties":"Row properties","Table properties":"Table properties","Row group":"Row group",Right:"Right","Insert column after":"Insert column after",Cols:"Cols","Insert row after":"Insert row after",Width:"Width","Cell properties":"Cell properties",Left:"Left","Cut row":"Cut row","Delete column":"Delete column",Center:"Center","Merge cells":"Merge cells","Insert template":"Insert template",Templates:"Templates","Background color":"Background color","Text color":"Text color","Show blocks":"Show blocks","Show invisible characters":"Show invisible characters","Words: {0}":"Words: {0}",Insert:"Insert",File:"File",Edit:"Edit","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Content editor",Tools:"Tools",View:"View",Table:"Table",Format:"Format"})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:wrm', location = 'js/editor-wrm.js' */
define("jira/editor/wrm",["exports","wrm/data"],function(a,b){var c=b.claim("com.atlassian.jira.plugins.jira-editor-plugin:wrm.editor-data")||{};a.isAttachmentsAllowed=function(){return c.allowedAttachments};a.getResources=function(){return c.resources};a.getConverters=function(){return c.converters}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter-util', location = '/js/converter/util/color-converter.js' */
define("jira/editor/converter/util/color-converter",["exports"],function(a){a.colorToHex=function b(d){if(d.substr(0,1)==="#"){return d}var g=/(.*?)rgb\((\d+), (\d+), (\d+)\)/.exec(d);var h=g[2];var f=g[3];var c=g[4];var e=[h,f,c].map(function(i){return("00"+parseInt(i).toString(16)).slice(-2)});return g[1]+"#"+e.join("")}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter-util', location = '/js/converter/util/strings.js' */
define("jira/editor/converter/util/strings",["jira/editor/util/strings","exports","jquery","underscore"],function(c,e,g,j){var i="/images/icons/emoticons/";var b="/secure/attachment/";var d="/secure/thumbnail/";var f="/secure/temporaryattachment/";e.asBooleanOrString=function a(m){var l=m?m.toLowerCase():"";var k=m;if(l==="true"){k=true}else{if(l==="false"){k=false}}return k};e.startsWith=function(l,k){if(j.isEmpty(l)){return false}if(j.isEmpty(k)){return false}return l.indexOf(k)===0};e.endsWith=function(l,k){if(j.isEmpty(l)){return false}if(j.isEmpty(k)){return false}return l.indexOf(k)+k.length===l.length};e.substringAfter=function(m,k){if(j.isEmpty(m)){return m}if(j.isEmpty(k)){return""}var l=m.indexOf(k);if(l<0){return""}return m.substring(l+k.length)};e.substringBefore=function(m,k){if(j.isEmpty(m)){return m}if(j.isEmpty(k)){return""}var l=m.indexOf(k);if(l<0){return""}return m.substring(0,l)};e.contains=function(m,k){if(j.isEmpty(m)){return false}var l=m.indexOf(k);return l>=0};e.repeat=function(l,k){if(j.isEmpty(l)){return""}return new Array(k+1).join(l)};e.length=function(k){if(j.isEmpty(k)){return 0}return k.length};e.replace=function(p,m,k){if(j.isEmpty(p)){return""}if(j.isEmpty(m)){return""}if(typeof k==="undefined"){k=""}var q=0;var n=p.indexOf(m);while(n>=0){var l=p.substring(0,n);var o=p.substring(n+m.length);p=l+k+o;q=n+k.length;n=p.indexOf(m,q)}return p.substring(n,p.length)};e.hashCode=function h(m){var k;var n=0;if(!m){return""}for(var l=0;l<m.length;l+=1){k=m.charCodeAt(l);n=(n*31)+k;n|=0}return""+n};e.resolveUrl=function(l,m){if(!l){return}var k=g(document.createElement("base")).prop("href",m).appendTo("head");try{return g(document.createElement("a")).prop("href",l).prop("href")}finally{k.remove()}};e.getBaseUrl=function(){return document.location.origin+document.location.pathname};e.getContextUrl=function(){return document.location.origin+AJS.contextPath()};e.getFilenameFromHref=function(n,o){var l=n.split("/");var m=l[l.length-1];if(!o){var q=l[l.length-2];var p=q+"_";if(m.indexOf(p)===0){m=m.substring(p.length)}}else{var k=m.indexOf("_");if(k>0){m=m.substring(k+1)}}m=m.replace(new RegExp("\\+","g")," ");return decodeURIComponent(m)};e.isAttachmentPath=function(k){return e.contains(k,b)};e.isTemporaryAttachmentPath=function(k){return e.contains(k,f)};e.isThumbnailPath=function(k){return e.contains(k,d)};e.isEmotePath=function(k){return e.contains(k,i)};e.getFilenameFromError=function(k){return c.getFilenameFromError(k)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter-util', location = '/js/converter/util/uri.js' */
define("jira/editor/converter/util/uri",["exports","atlassian/libs/uri-1.14.1"],function(a,b){a.decodeUri=function(c){return b.decodeQuery(c||"",true)};a.encodeUri=function(c){return b.encodeQuery(c||"",true)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter-util', location = '/js/converter/util/rte-strings.js' */
define("jira/editor/converter/util/rte-strings",["exports","underscore"],function(a,b){a.isWhitespace=function(e){if(b.isEmpty(e)){return false}var d={"\t":1,"\n":1,"\u0020":1,"\u0009":1,"\u000A":1,"\u000D":1,"\u000C":1,"\u200B":1};var c=true;b.each(e,function(f){c=c&&(f in d)});return c};a.trim=function(c){if(b.isEmpty(c)){return""}return this.trimLeading(this.trimTrailing(c))};a.trimTrailing=function(d){if(b.isEmpty(d)){return""}var c;for(c=d.length-1;c>=0;c--){if(!this.isWhitespace(d[c])){break}}return d.substring(0,c+1)};a.trimLeading=function(d){if(b.isEmpty(d)){return""}var c;for(c=0;c<d.length;c++){if(!this.isWhitespace(d[c])){break}}return d.substring(c,d.length)};a.parseHtml=function(c){var e=new DOMParser();var d=e.parseFromString(c,"text/html").body;return d}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:context-detector', location = 'js/context-detector.js' */
define("jira/editor/context-detector",["jira/editor/converter/util/rte-strings","underscore","jquery"],function(a,h,e){var d="pre,.code.panel,.preformatted.panel,.panelHeader,panel-title";var i="table";var f="a";var g={};g.detectPre=function(j){return c(j,d)};g.detectTable=function(j){return c(j,i)};g.detectA=function(j){return c(j,f)};g.detectPreWithinSelection=function(j){return b(j,d)};return g;function c(k,j){return e(k||{}).closest(j).length>0}function b(k,j){try{return e((h.isString(k)?a.parseHtml(k):k)||{}).find(j).length>0}catch(l){return false}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:context-manager', location = 'js/context-manager.js' */
define("jira/editor/context-manager",["jira/editor/context-detector","backbone","underscore"],function(b,d,a){var c=function(e){this._disableStates={all:null,table:null,a:null};this._tagList=a.difference(Object.keys(this._disableStates),"all");this._editorInstance=e;e.on("selection:update",function(g){var f=g.insidePreformatted||g.preformattedSelected;this._setDisable(f,"all");this._setDisable(f||g.insideTable,"table");this._setDisable(f||g.insideA,"a")}.bind(this));e.on("tabs:changed",function(){this._setDisable(false,"all");this._setDisable(false,"table");this._setDisable(false,"a")}.bind(this));a.extend(this,d.Events)};c.prototype._setDisable=function(f,e){if(this._disableStates[e]===f){return}this._disableStates[e]=f;this.trigger("change:"+e,{disableState:f});if("all"===e){this._tagList.forEach(function(g){this._setDisable(f,g)},this)}};c.prototype.isPreContextActive=function(){return true===this._disableStates.all};c.prototype.isContextActive=function(e){return true===this._disableStates[e]};c.prototype.getPasteSchemaForContext=function(){return b.detectPre(this._editorInstance.editor.selection.getNode())?this._editorInstance.pasteInsidePreSchemaSpec:this._editorInstance.pasteSchemaSpec};return c});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:selection', location = 'js/editor-selection.js' */
define("jira/editor/selection",["jira/editor/constants"],function(b){var a=function(d){this.editor=d};a.prototype.trimSelection=function(){var j=false;var g=this.editor.selection.getRng();if(g.collapsed){return false}if(!g.toString().trim()){g.collapse(true);this.editor.selection.setRng(g);this.editor.focus();return true}var k=g.startContainer;var d=g.startOffset;var e=g.endContainer;var h=g.endOffset;if(k&&k.nodeType===Node.TEXT_NODE){var i=k.nodeValue.substring(d);var f=c(i,b.LEFT_WHITESPACE_MATCHER);if(f){j=true;if(i.length===f.length){g.setStartAfter(k)}else{g.setStart(k,d+f.length)}}}if(e&&e.nodeType===Node.TEXT_NODE){var i=e.nodeValue.substring(0,h);var f=c(i,b.RIGHT_WHITESPACE_MATCHER);if(f){j=true;if(i.length===f.length){g.setEndBefore(e)}else{g.setEnd(e,h-f.length)}}}if(j){this.editor.selection.setRng(g)}return j};a.prototype.hasSelection=function(){return !this.editor.selection.getRng().collapsed};return a;function c(f,e){var d=f.match(e);return(null!==d)?d[0]:""}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:instance', location = 'js/editor-instance.js' */
define("jira/editor/instance",["jira/dialog/dialog","jira/editor/analytics","jira/editor/analytics-shortcuts","jira/util/navigator","jira/editor/tinymce","jira/editor/context-manager","jira/editor/context-detector","jira/editor/schema","jira/editor/selection","wiki-edit/SpeechRecognition","jira/util/logger","jquery","backbone","underscore","wrm/context-path"],function(h,k,i,q,o,p,j,g,f,b,n,d,m,l,c){var a=function(s,r){this.element=s;this.options=l.extend({},r)};l.extend(a.prototype,m.Events);var e=27;a.prototype.init=function(s){this.editor=s;this.operationOverride={};this.analyticsShortcuts=new i(this.editor);this.selection=new f(this.editor);this.editor.on("NodeChange",function(w){var u=k.startMeasure();if(!w){return}if(w.element.nodeName.toLowerCase()==="img"){this.editor.fire("content")}var v=d(w.element);this.trigger("selection:update",{insidePreformatted:j.detectPre(v),preformattedSelected:j.detectPreWithinSelection(this.editor.selection.getContent()),insideTable:j.detectTable(v),insideA:j.detectA(v)});u.measure("nodechange")}.bind(this));this.editor.on("change SetContent blur",this._onChange.bind(this));this.editor.on("keyup",l.debounce(this._onChange.bind(this),1000));this.editor.on("init",function(v){var u=v.target;["tt","del","sup","sub","cite"].forEach(function(x){u.formatter.register(x,{block:x,remove:"all"})});var w=u.formatter.get("removeformat");if(w.length>0&&typeof w[0]==="object"){w[0].selector+=",tt"}});s.on("keydown",function(u){if(u.isDefaultPrevented()){return}var v=d(s.selection.getStart());if(u.keyCode===o.util.VK.ENTER&&!u.shiftKey&&v.is("td > p, th > p, th > br, td > br, td, th")){u.preventDefault();s.execCommand("InsertLineBreak",false,u)}if(h.current&&u.keyCode===e){h.current.hide(true,{reason:h.HIDE_REASON.cancel,})}if(u.keyCode===o.util.VK.ENTER&&(v.is("panel-title, panel-title *")||v.parent().hasClass("panelHeader"))){u.preventDefault()}});var r=function(){if((/(Edge)\/(\d+)\.(\d+)/).test(q._getUserAgent())){return"edge"}else{if(q.isIE()){return"ie"}else{if(q.isChrome()){return"chrome"}else{if(q.isMozilla()){return"firefox"}else{if(q.isSafari()){return"safari"}}}}}return""};k.sendEvent("editor.instance.init");k.sendEvent("bundled.editor.instance.init");var t=r();if(t){k.sendEvent("editor.instance.init."+t)}this.contextManager=new p(this);s.contextManager=this.contextManager};a.prototype.getId=function(){return this.editor.id};a.prototype.relayEvent=function(s,t,r){this.editor.on(s,function(u){t(u)},r)};a.prototype.getAllowedOperations=function(){return["paragraph","h1","h2","h3","h4","h5","h6","monospace","paragraph-quote","block-quote","delete","superscript","subscript","cite","monospace-inline",":)",":(",":P",":D",";)","(y)","(n)","(i)","(/)","(x)","(!)","(+)","(-)","(?)","(on)","(off)","(*)","(*r)","(*g)","(*b)","(*y)","bold","italic","underline","color","bullet-list","numbered-list","mention","table","code","noformat","panel","hr","speech","link","link-mail","link-anchor","link-attachment","image","image-attachment","attachment","editorInsertContent","editorInsertContentInNewLine","editorReplaceContent","editorReplaceContentInNewLine"]};a.prototype._isOperationSupported=function(r){var s=this.getAllowedOperations().filter(function(t){if(t instanceof Object){return t.name===r}else{return t===r}});return s.length>0};a.prototype._assertOperationIsSupported=function(r){if(!this._isOperationSupported(r)){n.error("Operation not supported:",r)}};a.prototype._selectedTextSanitized=function(){return g.sanitizeHtml(this.editor.selection.getContent(),this.editor,this.pasteInsidePreSchemaSpec)};a.prototype.executeOperation=function(A,x){this._assertOperationIsSupported(A);var t=this._mapOperationNameToTinymce(A);var y=this.operationOverride[A];if(y){k.sendEvent("editor.instance.operation."+A);y(x);return true}if("editorReplaceContentInNewLine"===A){this.editor.execCommand("mceReplaceContent",false,"<br />"+x.content)}else{if("editorReplaceContent"===A){this.editor.execCommand("mceReplaceContent",false,x.content)}else{if("editorInsertContentInNewLine"===A){this.editor.insertContent("<br />"+x.content)}else{if("editorInsertContent"===A){this.editor.insertContent(x.content)}else{if("hr"===A){this.editor.insertContent("<hr />")}else{if("color"===A){this.editor.execCommand("ForeColor",true,x)}else{if(["h1","h2","h3","h4","h5","h6","paragraph","paragraph-quote","block-quote","monospace","monospace-inline","cite"].indexOf(A)>-1){this.editor.execCommand("mceToggleFormat",true,t)}else{if(["bold","italic","underline","delete","superscript","subscript"].indexOf(A)>-1){if(this.selection.trimSelection()){if(!this.selection.hasSelection()){k.sendEvent("editor.instance.selection.collapsed",{op:A});return false}else{k.sendEvent("editor.instance.selection.trimmed",{op:A})}}this.editor.execCommand(t,true)}else{if(["bullet-list","numbered-list"].indexOf(A)>-1){this.editor.execCommand(t,true)}else{if(this._emoticonSourceMap(A)){var z;if(AJS&&AJS.contextPath){z=AJS.contextPath()}else{z=""}var w=z+"/images/icons/emoticons/"+this._emoticonSourceMap(A);this.editor.insertContent('<img class="emoticon" src="'+w+'" height="16" width="16" align="absmiddle" alt="" border="0">')}else{if("link"===A){var v=(this._selectedTextSanitized()||"link title");this.editor.selection.setContent("["+v+"|http://example.com]")}else{if("link-anchor"===A){var v=(this._selectedTextSanitized()||"anchor");this.editor.selection.setContent("[#"+v+"]")}else{if("link-mail"===A){var v=(this._selectedTextSanitized()||"mail@example.com");this.editor.selection.setContent("[mailto:"+v+"]")}else{if("mention"===A){var v=(this._selectedTextSanitized()||"Mention someone by typing their name...");this.editor.selection.setContent("@");var s=this.getSelectionStart();this.editor.selection.setContent(v);this.setSelectionStart(s)}else{if("attachment"===A&&x.attachment){if(x.attachment.type==="image"){var r=x.attachment.href||c()+"/images/icons/attach/image.gif";if(x.attachment.thumbnailable){r=r.replace("/attachment/","/thumbnail/")}var u=JIRA.Editor.Tags.Templates.attachedImage({source:r,filename:x.attachment.name})}else{var u=JIRA.Editor.Tags.Templates.attachedFile({title:x.attachment.name,href:x.attachment.href,filename:x.attachment.name})}this.editor.insertContent(u)}else{if("code"===A){var v=(this._selectedTextSanitized()||"// code placeholder"+"\n");this.editor.selection.setContent('<pre class="code panel" data-language="code-java">'+v+"</pre>")}else{if("panel"===A){var v=(this.editor.selection.getContent()||"Some text with a title");this.editor.selection.setContent('<div class="plain panel" style="border-width: 1px;"><panel-title>'+"My title"+"</panel-title><p>"+v+"</p></div>")}else{if("noformat"===A){var v=(this._selectedTextSanitized()||"*no* further _formatting_ is done here");this.editor.selection.setContent('<pre class="noformat panel">'+v+"</pre>")}else{if("table"===A){var v=(this.editor.selection.getContent()||("Col"+" A1"));this.editor.selection.setContent('<div class="table-wrap"><table class="confluenceTable mce-item-table" data-mce-selected="1"><tbody><tr><th class="confluenceTh">'+"Heading"+' 1</th><th class="confluenceTh">'+"Heading"+' 2</th></tr><tr><td class="confluenceTd">'+v+'</td><td class="confluenceTd">Col A2</td></tr></tbody></table></div>');k.sendEvent("editor.instance.table.toolbar")}else{if("speech"===A){b.start(null,this)}else{if(["link-attachment","image","image-attachment"].indexOf(A)>-1){n.warn("Not supported yet "+A);return false}else{n.warn("Unsupported operation "+A);return false}}}}}}}}}}}}}}}}}}}}}k.sendEvent("editor.instance.operation."+A);this.trigger("content");n.trace("jira.editor.operation.executed");return true};a.prototype._mapOperationNameToTinymce=function(r){var s={bold:"Bold",italic:"Italic",underline:"Underline","bullet-list":"InsertUnorderedList","numbered-list":"InsertOrderedList",blockquote:"mceBlockQuote",paragraph:"p","paragraph-quote":"blockquote","block-quote":"blockquote",monospace:"samp","monospace-inline":"samp-inline","delete":"strikethrough",superscript:"superscript",subscript:"subscript"};if(r in s){return s[r]}return r};a.prototype._emoticonSourceMap=function(s){var r={":)":"smile.png",":(":"sad.png",":P":"tongue.png",":D":"biggrin.png",";)":"wink.png","(y)":"thumbs_up.png","(n)":"thumbs_down.png","(i)":"information.png","(/)":"check.png","(x)":"error.png","(!)":"warning.png","(+)":"add.png","(-)":"forbidden.png","(?)":"help_16.png","(on)":"lightbulb_on.png","(off)":"lightbulb.png","(*)":"star_yellow.png","(*r)":"star_red.png","(*g)":"star_green.png","(*b)":"star_blue.png","(*y)":"star_yellow.png","(flag)":"flag.png","(flagoff)":"flag_grey.png"};if(s in r){return r[s]}};a.prototype.focus=function(){if(!this.editor.initialized||this.editor.removed||this.editor.destroyed){n.warn("bypassing `editor-instance.focus` because the editor instance hasn't initialized yet or already removed");return this}this.editor.focus();this.editor.nodeChanged();return this};a.prototype.destroy=function(){this.editor.contextManager=null;this.editor.remove();k.sendEvent("editor.instance.destroy");k.sendEvent("bundled.editor.instance.destroy")};a.prototype.setContent=function(u,t,r){var s={};if(t){s={format:"raw"}}s.no_events=r;u=u||"";this.editor.setContent(u,s);this.lastContent=this.getContent();if(!r){this.trigger("content")}};a.prototype.replaceSelection=function(r){this.editor.selection.setContent(r);this.trigger("content")};a.prototype.selectAll=function(){this.editor.selection.select(this.editor.getBody(),true)};a.prototype.getSelectionStart=function(){return this.editor.selection.getRng(true)};a.prototype.setSelectionStart=function(s){var r=this.editor.selection.getRng(true);r.setStart(s.startContainer,s.startOffset);this.editor.selection.setRng(r)};a.prototype.getContent=function(s){var r={};if(s){r={format:"raw"}}return this.editor.getContent(r)};a.prototype._onChange=function(){if(this.editor.destroyed){return}var r=this.getContent();var s=r!==this.lastContent;this.lastContent=r;if(!this.hidden&&s){this.trigger("content",this.getContent())}};a.prototype.getSelectedContent=function(r){if(r){return this.editor.selection.getContent({format:"text"})}else{return this.editor.selection.getContent()}};a.prototype.addShortcut=function(r,s){this.editor.addShortcut(r,"",s)};a.prototype.removeShortcut=function(r){this.editor.shortcuts.remove(r)};a.prototype.addOperationOverride=function(r,s){this._assertOperationIsSupported(r);this.operationOverride[r]=s};a.prototype.removeOperationOverride=function(r){this._assertOperationIsSupported(r);delete this.operationOverrideoperationOverride[r]};a.prototype.hide=function(){this.hidden=true;this.editor.hide()};a.prototype.show=function(){this.editor.show();delete this.hidden};a.prototype.isVisible=function(){return !this.editor.isHidden()};a.prototype.switchMode=function(r){this.trigger("switchMode",r)};a.prototype.enable=function(){this.editor.setProgressState(false)};a.prototype.disable=function(){this.editor.setProgressState(true)};return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:instance', location = 'js/editor-resources.js' */
define("jira/editor/resources",["jira/editor/tinymce","jira/editor/wrm","wrm/require","jquery"],function(e,g,b,f){var d={};var c={};d.loadPlugins=function(h){var i=h.filter(function(j){return j.resource}).map(function(j){e.PluginManager.urls[j.name]=j.resource;return"wr!"+j.resource});return i.length>0?b(i):new f.Deferred().resolve()};d.require=function(h){return b(h.filter(function(i){return !c[i]}).map(function(i){return"wr!"+i}))};d.loadCssResources=function(){return new f.Deferred().resolve(a(g.getResources())).promise()};return d;function a(h){if(typeof h!=="object"||!h.length){return[]}return h.map(function(i){return i.replace(",","%2C")})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:api', location = 'js/editor-create.js' */
define("jira/editor/create",["jira/editor/instance","jira/editor/resources","jira/editor/schema","jira/editor/customizer","jira/editor/height-helper","jira/util/navigator","jira/editor/tinymce","jquery","underscore"],function(b,a,f,h,e,k,i,d,g){var j=function(l){this.element=l;this.settings={toolbar:false,menubar:false,elementpath:false};this.plugins=[]};j.prototype.build=function(){var m=new d.Deferred();var o=this;var l=new b(o.element);var n=new e(this.element);var q=-2;var p=g.extend(this.settings,{plugins:["autoresize","lists","table"],language:"en",content_style:k.isIE()?"body#tinymce {min-height: 10px}":"",autoresize_on_init:true,autoresize_max_height:n.getMaxHeight()+q,autoresize_min_height:n.getMinHeight()+q,autoresize_bottom_margin:0,allow_conditional_comments:false,object_resizing:"img:not(.emoticon)",end_container_on_empty_block:true,browser_spellcheck:true,table_toolbar:"tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",hidden_input:false,target:this.element,autoresize_overflow_padding:8,relative_urls:false,convert_urls:false,branding:false,formats:{underline:[{inline:"ins",remove:"all"},{inline:"u",remove:"all"},{inline:"span",styles:{textDecoration:"underline"},exact:true}],strikethrough:[{inline:"del",remove:"all"},{inline:"strike",remove:"all"},{inline:"span",styles:{textDecoration:"line-through"},exact:true}]},setup:function(r){m.notify(l);l.init(r);r.on("init",function(){r.getContainer().classList.add("jira-editor-container");l.schemaSpec.fixChildren(r.schema);m.resolve(l)});r.on("focus",function(){d(o.element).trigger("click").trigger("focusin")})}});d.when(a.loadCssResources(),a.loadPlugins(this.plugins)).then(function(r){this.plugins.forEach(function(t){require(t.name).configure(l,p)},this);var s=f.getSchemaSpecBuilder();h.getCustomizeSettingCallbacks().forEach(function(t){t(p,i,s)});c(s,p,l);p.content_css=r;if(document.readyState==="interactive"){i.dom.EventUtils.Event.domLoaded=true}if(document.body.contains(this.element)){i.init(p)}else{m.reject()}}.bind(this));return m.promise()};j.prototype.withElement=function(l){this.element=l;return this};j.prototype.withPlugin=function(m,l){this.plugins.push({name:m,resource:l});return this};j.prototype.withMeta=function(l){this.meta=l;return this};return{builder:function(l){return new j(l)}};function c(o,m,l){var n=o.build();m.schema=n.getType();m.custom_elements=n.getCustomElements();m.valid_children=n.getValidChildren();m.valid_elements=n.getValidElements();m.extended_valid_elements=n.getExtendedValidElements();l.schemaSpec=n;l.pasteSchemaSpec=f.getPasteSchemaSpecBuilder(o).build();l.pasteInsidePreSchemaSpec=f.getPasteInsidePreSchemaSpecBuilder().build()}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:renderer', location = '/js/converter/html-renderer.js' */
define("jira/editor/html-renderer",["wrm/context-path","jquery","underscore"],function(b,d,c){var a=function(f,e){e=e||{};var g=c.extend({rendererType:"atlassian-wiki-renderer",unrenderedMarkup:f,forWysiwyg:true},e);return d.ajax({url:b()+"/rest/api/1.0/render",contentType:"application/json",type:"POST",data:JSON.stringify(g),dataType:"html"})};return{renderMarkup:a}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:mentions', location = 'js/plugins/mentions/mentions-util.js' */
define("jira/editor/plugins/mentions/mentions-util",["jquery","underscore"],function(e,c){var a=8203;var b=65279;var d=function(g){g.preventDefault();g.stopPropagation();g.stopImmediatePropagation()};var f={isMentionNode:function(g){if(!g){return false}return e(g).is("a.user-hover")},isCaretAfterMention:function(g){return this.getMentionBeforeCaret(g)!=null},getMentionBeforeCaret:function(h){var g=this.getPreviousNode(h).node;if(this.isMentionNode(g)){return g}return null},getPreviousNode:function(m){var i=function(p){if(p.nodeType===Node.TEXT_NODE){return p.nodeValue.length}else{if(p.nodeType===Node.ELEMENT_NODE){return p.childNodes.length}else{return undefined}}};var n=m.getSelection();var j=n.anchorNode;var l=n.anchorOffset;var h={node:j,offset:n.anchorOffset};if(n.isCollapsed&&j){if(j.nodeType===Node.ELEMENT_NODE&&j.childNodes){var o=n.anchorOffset-1;if(o<0){j=j.childNodes[0];l=0;var g=this._getPreviousSiblingSkipEmptyTextNodes(j,l);if(g){return{node:g,offset:i(g)}}}else{var k=o===j.childNodes.length-1;j=j.childNodes[o];l=i(j);var g=this._getPreviousSiblingSkipEmptyTextNodes(j,l,k);if(g){return{node:g,offset:i(g)}}}}else{if(j.nodeType===Node.TEXT_NODE){var g=this._getPreviousSiblingSkipEmptyTextNodes(j,l);if(g){return{node:g,offset:g===j?l:i(g)}}}}}return h},_getPreviousSiblingSkipEmptyTextNodes:function(i,k,h){h=h||false;var g=i;var j;while((j=this._isContentBeforeCursorEmpty(g,k,h)).outcome){g=g.previousSibling;k=undefined;h=j.relaxed}return g},_isContentBeforeCursorEmpty:function(i,l,k){var j={outcome:true,relaxed:false};var g={outcome:false,relaxed:false};var h={outcome:true,relaxed:true};if(i&&i.nodeType===Node.TEXT_NODE){if(c.isUndefined(l)){l=i.nodeValue.length}if(l===0){return j}if(l===1&&this._isEmptyCharacter(i.nodeValue.charCodeAt(0))&&i.nodeValue.length===1){return j}if(k){if(l===1&&i.nodeValue===" "){return h}}}return g},_isEmptyCharacter:function(g){return g===a||g===b},selectMention:function(h,g,i){if(g){d(g)}i.selection.select(h)}};return f});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:mentions', location = 'js/plugins/mentions/mention.js' */
define("jira/editor/plugins/mentions/mention-rte",["jira/mention/mention-matcher","jquery","jira/mention/mention","underscore","jira/editor/plugins/mentions/mentions-util"],function(c,e,b,a,f){var d=b.extend({init:function(h,i,g){b.prototype.init.call(this,h);this.editor=i;this.skipProcessing=g},_replaceCurrentUserName:function(h,g){if(this._selectMentionText()){this.editor.execCommand("mceInsertContent",false,this._renderMentionLink(h,g))}},_selectMentionText:function(){var o=this._getDocument();var p=this._getSelection();if(p&&p.isCollapsed){var l=this._getNodeForUsernameRetrieval();var g=this._getPreviousSiblingsTextNodes(l.node);if(g.length>0){var h=g[0];var n=g[g.length-1];var j=l.offset;var i=this._getStringFormPreviousSiblingsTextNodes(g,j);var k=c.getLastWordBoundaryIndex(i,true);var m=o.createRange();m.setStart(h,k+1);m.setEnd(n,j);this.editor.selection.setRng(m);return true}}else{return false}},_renderMentionLink:function(h,g){return JIRA.Editor.Tags.Templates.mentionlink({username:h,displayname:g})},_getUserNameFromInput:function(){if(a.isFunction(this.skipProcessing)&&this.skipProcessing()){return null}var h=this._getSelection();if(h&&h.isCollapsed){var i=this._getNodeForUsernameRetrieval();var g=this._getPreviousSiblingsTextNodes(i.node);var j=this._getStringFormPreviousSiblingsTextNodes(g,i.offset);this.currentUserName=c.getUserNameFromCurrentWord(j,j.length);return this.currentUserName}else{return null}},_getStringFormPreviousSiblingsTextNodes:function(g,l){var k="";for(var h=0;h<g.length;h=h+1){var j=g[h];if(h===g.length-1){k=k+j.nodeValue.substring(0,l)}else{k=k+j.nodeValue}}return k},_getPreviousSiblingsTextNodes:function(h){var g=[];if(h&&h.nodeType===Node.TEXT_NODE){for(var i=h;i;i=i.previousSibling){if(i.nodeType===Node.TEXT_NODE){g.unshift(i);if(i.nodeValue.indexOf("@")>=0||i.nodeValue.indexOf("[~")>=0){return g}}else{break}}}return[]},_getNodeForUsernameRetrieval:function(){return f.getPreviousNode(this._getDocument())},_getSelection:function(){if(this.$textarea){var g=this.$textarea.get(0);if(g&&g.ownerDocument){return g.ownerDocument.getSelection()}}return null},_getDocument:function(){return this.$textarea.get(0).ownerDocument},_getOffsetTarget:function(){return e(this.editor.getContainer())}});return d});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:mentions-plugin', location = 'js/plugins/mentions/jira-mentions-plugin.js' */
define("jira/editor/plugins/mentions/jira-mentions",["jira/editor/tinymce","jquery","jira/editor/plugins/mentions/mention-rte","jira/editor/plugins/mentions/mentions-util"],function(e,f,b,h){var g=8;var d={9:"Tab",13:"Return",27:"Esc",38:"Up",40:"Down"};var a=function(i){var j=new f.Event("aui:keydown");j.key=d[i.which];j.shiftKey=i.shiftKey;j.ctrlKey=i.ctrlKey;j.altKey=i.altKey;j.target=i.target;arguments[0]=j;f.event.trigger(j,arguments,document,true)};var c=function(j,i){var l=i.$textarea.get(0).ownerDocument;i.mentioningInProgress=false;i.layerController.bind("showLayer",function(){i.mentioningInProgress=true}).bind("hideLayer",function(){i.mentioningInProgress=false});j.on("keydown",function k(n){var o=n.which in d&&i.mentioningInProgress===true;if(o){n.preventDefault();n.stopPropagation();a(n)}else{if(n.keyCode===g){if(h.isCaretAfterMention(l)){var m=h.getMentionBeforeCaret(l);h.selectMention(m,n,this)}}}},true)};e.create("tinymce.plugins.jira.JiraMentions",{init:function(i){var j=i.settings;if(j.jiramentions.mentionable){i.on("init",function(){var m=i.getBody();var l=function(){var o=i.selection.getSel();var p=o?f(o.anchorNode):null;if(p&&(p.parents("pre").length>0||p.parents("div.panelHeader,panel-title").length>0)){return true}};var k=j.jiramentions.issuekey;var n=j.jiramentions.projectkey;f(m).attr("data-issuekey",k);f(m).attr("data-projectkey",n);if(!m._controller){m._controller=new b(k,i,l)}m._controller.textarea(m);c(i,m._controller)})}}});e.PluginManager.add("jira.jiramentions",e.plugins.jira.JiraMentions);e.PluginManager.urls["jira.jiramentions"]=true;return{configure:function(i,j){j.plugins.push("jira.jiramentions");var k=i.element.$textarea.data();j.jiramentions={issuekey:k.issuekey,projectkey:k.projectkey,mentionable:i.element.$textarea.hasClass("mentionable")}}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:polyfil-string-ends-with', location = '/js/polyfills/stringEndsWithPolyfill.js' */
if(!String.prototype.endsWith){String.prototype.endsWith=function(b,a){if(a===undefined||a>this.length){a=this.length}return this.substring(a-b.length,a)===b}};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:resources', location = 'js/plugins/paste-plugin.js' */
define("jira/editor/plugins/paste",["jira/editor/tinymce","jira/editor/converter/util/strings","jira/editor/schema","jira/editor/analytics","jquery","wrm/context-path","dndattachment/ctrlv/utility","dndattachment/ctrlv/base64decode","jira/editor/wrm","jira/flag","jira/util/formatter"],function(m,a,f,k,c,d,i,g,e,b,j){var h=e.isAttachmentsAllowed();m.create("tinymce.plugins.jira.Paste",{});m.PluginManager.add("jira.paste",m.plugins.jira.Paste);m.PluginManager.urls["jira.paste"]=true;function l(o){if(o){var p=o.split(",")[0];var n=p.split(":");if(n.length>1){return n[1].split(";")[0]}}}return{configure:function(o,s){function p(u){var v=o.editor;if(v&&v.editorUpload&&v.editorUpload.blobCache){return v.editorUpload.blobCache.getByUri(u)}}var t={URL:{upload:function(){}},BLOB_URL:{upload:function(u,v){k.sendEvent("editor.instance.paste.addimage.nocache.http");n(u,v)}},DATA_URL:{upload:function(u,w){k.sendEvent("editor.instance.paste.addimage.nocache.image");var v=l(u)||"image/png";q(new Blob([g.decodeBase64DataUri(u)],{type:v}),w)}},TINYMCE_CACHED_BLOB:{upload:function(v,w){var u=p(v,o.editor);if(u){k.sendEvent("editor.instance.paste.addimage.cache");q(u.blob(),w)}else{console.warn("no cached blob found in cache")}}}};function r(v){var u=p(v,o.editor);if(u){return t.TINYMCE_CACHED_BLOB}else{if(v.match(/^((data|blob):http)|(blob:)/)){return t.BLOB_URL}else{if(v.match(/^(data|blob):image/)){return t.DATA_URL}}}return t.URL}function q(v,w){var u=i.convertBlobToImage(v,w);if(!i.dropFileToElement(u,o.element.$textarea)){console.warn("Uploading attachment failed. Check 'allow attachment' setting.");b.showWarningMsg("","Adding attachments is not supported for this screen.",{close:"auto"});o.editor.dom.remove(o.editor.dom.select('img[data-filename="'+w+'"]'))}}function n(v,w){var u=new XMLHttpRequest();u.open("GET",v,true);u.responseType="blob";u.onload=function(x){q(this.response,w)};u.send()}s.plugins.push("paste");s.paste_data_images=true;s.paste_preprocess=function(w,u){var v=o.contextManager.getPasteSchemaForContext();u.content=f.sanitizeHtml(u.content,o.editor,v)};s.paste_postprocess=function(y,w){k.sendEvent("editor.instance.paste");var x=c(w.node).find("img:first-child:last-child");if(x.length===1&&x.is("img")){var B=x[0].src;if(x.hasClass("emoticon")&&a.startsWith(B,document.location.origin+d()+"/images/icons/emoticons/")){k.sendEvent("editor.instance.paste.emoticon");return}k.sendEvent("editor.instance.paste.image");var v=B;if(a.isAttachmentPath(B)||a.isThumbnailPath(B)){v=a.getFilenameFromHref(B)}var A={source:B,filename:v,width:x.attr("width"),height:x.attr("height"),id:x.attr("id"),vspace:x.attr("vspace")};var z=r(B);if(z===t.DATA_URL||z===t.BLOB_URL||z===t.TINYMCE_CACHED_BLOB){if(!!h){v=i.generateFileName()+".png";z.upload(B,v);A.filename=v;var u=JIRA.Editor.Tags.Templates.image(A);x.replaceWith(c(u))}else{b.showWarningMsg("","Adding attachments has been disabled by your Jira administrator.",{close:"auto"});x.remove()}}else{var u=JIRA.Editor.Tags.Templates.image(A);x.replaceWith(c(u))}}else{k.sendEvent("editor.instance.paste.other")}};return s}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:resources', location = 'js/plugins/wiki-autoformat-plugin.js' */
define("jira/editor/plugins/wiki-autoformat",["jira/editor/tinymce","jira/editor/analytics","jquery","jira/util/version","jira/featureflags/feature-manager","jira/editor/html-renderer","jira/util/logger"],function(m,l,e,b,p,k,n){var c={_REGEXES_EMOTICON:{SMILE:/\B(:-?)$/,SAD:/\B(:-?)$/,CHEEKY:/\B(:-?)$/,CHEEKY_2:/\B(:-?)$/,LAUGH:/\B(:-?)$/,WINK:/\B(;-?)$/,THUMBS_UP:/\B(\(y)$/,THUMBS_DOWN:/\B(\(n)$/,INFORMATION:/\B(\(i)$/,TICK:/\B(\(\/)$/,CROSS:/\B(\(x)$/,WARNING:/\B(\(!)$/,PLUS:/\B(\(\+)$/,MINUS:/\B(\(-)$/,QUESTION:/\B(\(\?)$/,LIGHT_ON:/\B(\(on)$/,LIGHT_OFF:/\B(\(off)$/,YELLOW_STAR:/\B(\(\*)$/,YELLOW_STAR_2:/\B(\(\*y)$/,RED_STAR:/\B(\(\*r)$/,GREEN_STAR:/\B(\(\*g)$/,BLUE_STAR:/\B(\(\*b)$/,FLAG:/\B(\(flag)$/,FLAG_OFF:/\B(\(flagoff)$/,HEART:/\B(<)$/,BROKEN_HEAR:/\B(<\/)$/}};var j;function a(q){return e("<div></div>").append(q.cloneNode(true)).html()}function o(q,r,s){var w;var u;if(!r){throw new Error("text node is null")}if(r.nodeType!==Node.TEXT_NODE){r=r.childNodes[s-1];s=r.length}for(var v=r,t=s;v&&v.nodeType===Node.TEXT_NODE;v=v.previousSibling){if(t===-1){t=v.nodeValue.length}if(t>q){return{container:v,offset:t-q}}else{if(t===q){u=0;w=v.parentNode;while(v=v.previousSibling){u++}return{container:w,offset:u}}else{q-=t;t=-1}}}return null}function g(r){var s;var t;if(!r||!r.collapsed){throw new Error("range is null or not collapsed")}s=r.startContainer;t=r.startOffset;if(s.nodeType===Node.ELEMENT_NODE&&t>0){s=s.childNodes[r.startOffset-1];if(s.nodeType===Node.TEXT_NODE){t=s.nodeValue.length}else{return""}}else{if(s.nodeType!==Node.TEXT_NODE){return""}}var q=s.nodeValue.substring(0,t);for(var u=s.previousSibling;u&&u.nodeType===Node.TEXT_NODE;u=u.previousSibling){q=u.nodeValue+q}return q}function i(s,t,r,q){return{handles:function(y){if(typeof q==="string"){q=[q]}else{if(!q||!q.length){q=[]}}var u=false;var x=y.selection.getRng(true);var A=x.commonAncestorContainer||{};if(!x.collapsed){return false}var w=y.contextManager;if(w.isPreContextActive()){l.sendEvent("editor.instance.autoformat.prevented",{context:"pre"});return false}for(var z=0,v=q.length;z<v;++z){if(w.isContextActive(q[z])){l.sendEvent("editor.instance.autoformat.prevented",{context:q[z]});return false}}u=s.test(g(x));return u},execute:function(z,v){var w;var u;var y;var A=1;var x;var B;var C=d(v);if(C===32){z.execCommand("mceInsertContent",false,"&nbsp;")}else{z.execCommand("mceInsertContent",false,String.fromCharCode(C))}w=z.selection.getRng(true);u=g(w);if(u[u.length-1]==="|"){u+=" ";A=0}y=s.exec(u.substring(0,u.length-1));x=o(y[1].length+A,w.commonAncestorContainer,w.startOffset);w.setStart(x.container,x.offset);B=e(w.commonAncestorContainer);z.selection.setRng(w);t(y,z.selection.getRng(true));j=z.selection.getRng(true);if(r){v.preventDefault();v.stopPropagation();m.dom.Event.cancel(v);return false}}}}function d(q){return e.browser.msie?q.keyCode:q.which}function f(){this.handlers={}}f.prototype={registerHandler:function(r,q){if(!this.handlers[r]){this.handlers[r]=[]}this.handlers[r].push(q)},executeHandlers:function(t,s,r){var q=true;e.each(this.handlers[t]||[],function(u,v){if(v.handles(s)){q=v.execute(s,r);n.trace("jira.editor.wiki.autoformatted");return false}});return q}};function h(v){var w=new f();function x(M,Q,L,N,J,I){var O=M.charCodeAt(0);var K=AJS.contextPath()+"/images/icons/emoticons/"+J;var P;P=i(Q,function(){var R=v.dom.createHTML("img",{src:K,alt:v.getLang(N),title:v.getLang(N),border:0,"class":"emoticon emoticon-"+L,"data-emoticon-name":L,align:"absmiddle"});v.execCommand("mceInsertContent",false,R,{skip_undo:true})},true);this.imagePath=K;w.registerHandler(O,P)}var u=b.isGreaterThanOrEqualTo("7.0")?"png":"gif";var y=[new x(")",c._REGEXES_EMOTICON.SMILE,"smile","emotions_dlg.smile","smile."+u),new x("(",c._REGEXES_EMOTICON.SAD,"sad","emotions_dlg.sad","sad."+u),new x("P",c._REGEXES_EMOTICON.CHEEKY,"tongue","emotions_dlg.tongue","tongue."+u),new x("p",c._REGEXES_EMOTICON.CHEEKY_2,"cheeky","emotions_dlg.tongue","tongue."+u),new x("D",c._REGEXES_EMOTICON.LAUGH,"biggrin","emotions_dlg.biggrin","biggrin."+u),new x(")",c._REGEXES_EMOTICON.WINK,"wink","emotions_dlg.wink","wink."+u),new x(")",c._REGEXES_EMOTICON.THUMBS_UP,"thumbs_up","emotions_dlg.thumbs_up","thumbs_up."+u),new x(")",c._REGEXES_EMOTICON.THUMBS_DOWN,"thumbs_down","emotions_dlg.thumbs_down","thumbs_down."+u),new x(")",c._REGEXES_EMOTICON.INFORMATION,"information","emotions_dlg.information","information."+u),new x(")",c._REGEXES_EMOTICON.TICK,"check","emotions_dlg.check","check."+u),new x(")",c._REGEXES_EMOTICON.CROSS,"error","emotions_dlg.error","error."+u),new x(")",c._REGEXES_EMOTICON.WARNING,"warning","emotions_dlg.warning","warning."+u),new x(")",c._REGEXES_EMOTICON.PLUS,"add","emotions_dlg.add","add."+u),new x(")",c._REGEXES_EMOTICON.MINUS,"forbidden","emotions_dlg.forbidden","forbidden."+u),new x(")",c._REGEXES_EMOTICON.QUESTION,"help_16","emotions_dlg.help_16","help_16."+u),new x(")",c._REGEXES_EMOTICON.LIGHT_ON,"lightbulb_on","emotions_dlg.lightbulb_on","lightbulb_on."+u),new x(")",c._REGEXES_EMOTICON.LIGHT_OFF,"lightbulb","emotions_dlg.lightbulb","lightbulb."+u),new x(")",c._REGEXES_EMOTICON.YELLOW_STAR,"star_yellow","emotions_dlg.star_yellow","star_yellow."+u),new x(")",c._REGEXES_EMOTICON.YELLOW_STAR_2,"star_yellow","emotions_dlg.star_yellow","star_yellow."+u),new x(")",c._REGEXES_EMOTICON.RED_STAR,"star_red","emotions_dlg.star_red","star_red."+u),new x(")",c._REGEXES_EMOTICON.GREEN_STAR,"star_green","emotions_dlg.star_green","star_green."+u),new x(")",c._REGEXES_EMOTICON.BLUE_STAR,"star_blue","emotions_dlg.star_blue","star_blue."+u),new x(")",c._REGEXES_EMOTICON.FLAG,"flag","emotions_dlg.flag","flag."+u),new x(")",c._REGEXES_EMOTICON.FLAG_OFF,"flag_grey","emotions_dlg.flag_grey","flag_grey."+u)];var B=new Array();for(var E=0;E<y.length;E++){B[E]=new Image();B[E].src=y[E].imagePath}function t(L,J){var K=v.formatter.get(L)[0];var I=v.dom.create(K.inline,{style:K.styles});I.appendChild(document.createTextNode(J+"{$caret}"));v.execCommand("mceInsertContent",false,a(I),{skip_undo:true});v.formatter.remove(L)}var H={"*":"bold",_:"italic","~":"subscript","^":"superscript","+":"underline","-":"strikethrough"};e.each(H,function(I,K){var J=new RegExp("(?:[\\s\\xA0\\u200b\\uFEFF]+|^)(\\"+I+"(?=[^\\s"+I+"])([^"+I+"]*?[^\\s]))$");w.registerHandler(I.charCodeAt(0),i(J,function(L){t(K,L[2]);l.sendEvent("editor.instance.autoformat.format")},true))});v.formatter.register("samp-inline",{inline:"samp"});var q=/(?:[\s\xA0\u200b]+|^)({{(?=[^\s])([^}]*?[^\s])})$/;if(p.isFeatureEnabled("jira.renderer.consider.variable.format")){q=/(?:^|[^$])(?:[\s\xA0\u200b]+|^)({{(?=[^\s])([^}]*?[^\s])})$/}w.registerHandler("}".charCodeAt(0),i(q,function(I){t("samp-inline",I[2]);l.sendEvent("editor.instance.autoformat.inlinecode")},true));v.formatter.register("cite",{inline:"cite"});w.registerHandler("?".charCodeAt(0),i(/(?:[\s\xA0\u200b]+|^)(\?\?(?=[^\s])([^\?]*?[^\s])\?)$/,function(I){t("cite",I[2]);l.sendEvent("editor.instance.autoformat.cite")},true));for(var E=1;E<=6;E++){(function(I){w.registerHandler(" ".charCodeAt(0),i(new RegExp("^\\u200b?(h"+I+"\\.)$"),function(){v.execCommand("formatBlock",false,"h"+I,{skip_undo:true});l.sendEvent("editor.instance.autoformat.header")},true))})(E)}w.registerHandler(" ".charCodeAt(0),i(/^\u200b?(bq\.)$/,function(){v.execCommand("formatBlock",false,"blockquote",{skip_undo:true});l.sendEvent("editor.instance.autoformat.bq")},true));w.registerHandler(" ".charCodeAt(0),i(/[^-]*[\s](\-\-\-?)$/,function(I){var J=I[1].length===2?"\u2013":"\u2014";v.execCommand("mceInsertContent",false,J,{skip_undo:true});l.sendEvent("editor.instance.autoformat.dash")},false));var G=i(/(([^\s-]+)(\-\-\-?)([^\s-]+))$/,function(I){var J=I[3].length===2?"\u2013":"\u2014";v.execCommand("mceInsertContent",false,I[2]+J+I[4],{skip_undo:true})},false);w.registerHandler(" ".charCodeAt(0),G);w.registerHandler(m.util.VK.ENTER,G);var s=i(/^\u200b?(\-\-\-\-)$/,function(){v.execCommand("mceInsertContent",false,"<hr />",{skip_undo:true});l.sendEvent("editor.instance.autoformat.hr")},true);w.registerHandler(" ".charCodeAt(0),s);w.registerHandler(m.util.VK.ENTER,s);var A=/(\{code)$/;if(p.isFeatureEnabled("jira.renderer.consider.variable.format")){A=/(?:^|[^$])(\{code)$/}w.registerHandler("}".charCodeAt(0),i(A,function(){v.execCommand("mceInsertContent",false,'<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent"><pre class="code-java">{$caret} </pre></div></div>');l.sendEvent("editor.instance.autoformat.code")},true));var z=/(\{panel)$/;if(p.isFeatureEnabled("jira.renderer.consider.variable.format")){z=/(?:^|[^$])(\{panel)$/}w.registerHandler("}".charCodeAt(0),i(z,function(){v.execCommand("mceInsertContent",false,'<div class="plain panel"><panel-title>'+"My title"+"</panel-title><p>{$caret} </p></div>");l.sendEvent("editor.instance.autoformat.panel")},true));var F=/(\{noformat)$/;if(p.isFeatureEnabled("jira.renderer.consider.variable.format")){F=/(?:^|[^$])(\{noformat)$/}w.registerHandler("}".charCodeAt(0),i(F,function(){v.execCommand("mceInsertContent",false,'<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent"><pre>{$caret} </pre></div></div>');l.sendEvent("editor.instance.autoformat.noformat")},true));w.registerHandler(m.util.VK.ENTER,i(/(^\u200b?\|\|\s*(?:[^|]*\s?\|\|\s?)+$)/,function(K){var N="<table class='confluenceTable'><tr>";var M="";var I=true;var O=e(K[1].slice(2,-2).split("||")).map(function(P){P=e.trim(this);I=I&&P==="";return P});if(I){O[0]="editor.autoformat.sampletext.firstcell"}for(var L=0,J=O.length;L<J;L++){N+="<th class='confluenceTh'>"+O[L]+"</th>";M+="<td class='confluenceTd'>&#x200b;</td>"}N+="</tr><tr>"+M+"</tr></table>";v.execCommand("mceInsertContent",false,N,{skip_undo:true});v.selection.select(e(v.selection.getRng(true).commonAncestorContainer).parents("table").find(I?"th":"td")[0].childNodes[0]);e(v.selection.getRng().startContainer).parent().closest('[contenteditable="true"]').focus();l.sendEvent("editor.instance.table.autoformat.plain")},true,"table"));w.registerHandler(m.util.VK.ENTER,i(/(^\u200b?\|\s?(?:[^|]*\s?\|\s?)+$)/,function(K){var M="<table class='confluenceTable'><tr>";var I=true;var N=e(K[1].slice(1,-1).split("|")).map(function(O){O=e.trim(this);I=I&&O==="";return O});if(I){N[0]="editor.autoformat.sampletext.firstcell"}for(var L=0,J=N.length;L<J;L++){M+="<td class='confluenceTd'>"+N[L]+"</td>"}M+="</tr></table>";v.execCommand("mceInsertContent",false,M,{skip_undo:true});I&&v.selection.select(e(v.selection.getRng(true).commonAncestorContainer).parents("table").find("td")[0].childNodes[0]);e(v.selection.getRng().startContainer).parent().closest('[contenteditable="true"]').focus();l.sendEvent("editor.instance.table.autoformat")},true,"table"));e.each({"]":/(?:\s|^)((\[[^\[^\]]+))$/,"\r":/(?:\s|^)((\[[^\[^\]]+)(?:\]))$/," ":/(?:\s|^)((\[[^\[^\]]+)(?:\]))$/},function(I,J){w.registerHandler(I.charCodeAt(0),i(J,function(K,M){var L=K[1]+(K[1].endsWith("]")?"":"]");k.renderMarkup(L,v.settings.target.getRenderParams()).then(function(N){N=e(new DOMParser().parseFromString(N,"text/html").body).find("p").unwrap().html();v.execCommand("mceInsertContent",false,N,{skip_undo:true});l.sendEvent("editor.instance.autoformat.wikilink")})},true))});var D=i(/\b(((https?|ftp):\/\/|(www\.))[\w\.\$\-_\+!\*'\(\),/\?:@=&%#~;\[\]]+)$/,function(I){var J=I[3]?I[1]:"http://"+I[1];var K=v.dom.create("a",{href:J});K.appendChild(document.createTextNode(I[1]));v.execCommand("mceInsertContent",false,a(K),{skip_undo:true});v.getDoc().execCommand("unlink",false,{});l.sendEvent("editor.instance.autoformat.autolink")},false,"a");w.registerHandler(" ".charCodeAt(0),D);w.registerHandler(m.util.VK.ENTER,D);var r=i(/\b((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)$/i,function(I){var J=v.dom.create("a",{href:"mailto:"+I[1]});J.appendChild(document.createTextNode(I[1]));v.execCommand("mceInsertContent",false,a(J),{skip_undo:true});v.getDoc().execCommand("unlink",false,{})},false,"a");w.registerHandler(" ".charCodeAt(0),r);w.registerHandler(m.util.VK.ENTER,r);var C=function(K,J){var I=i(K,function(){v.execCommand("mceInsertContent",false,J,{skip_undo:true});l.sendEvent("editor.instance.autoformat.quickcorrect")},false);w.registerHandler(" ".charCodeAt(0),I);w.registerHandler(m.util.VK.ENTER,I)};C(/(?:\b|^)(jira)$/i,"Jira");C(/(?:\b|^)(bitbucket|[Bb]itBucket)$/,"Bitbucket");C(/(?:\b|^)(atlassian)$/,"Atlassian");C(/(?:\b|^)([Hh]ipchat)$/,"HipChat");v.on("keydown",function(I){var J=d(I);if(J===m.util.VK.ENTER){return w.executeHandlers(J,v,I)}},true);v.on("keypress",function(I){return w.executeHandlers(d(I),v,I)},true)}m.create("tinymce.plugins.jira.WikiAutoFormat",{init:function(q){q.on("init",function(){h(q)})}});m.PluginManager.add("jira.wikiautoformat",m.plugins.jira.WikiAutoFormat);m.PluginManager.urls["jira.wikiautoformat"]=true;return{configure:function(q,r){r.plugins.push("jira.wikiautoformat")}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:resources', location = 'js/plugins/prevent-default-plugin.js' */
define("jira/editor/plugins/prevent-default",["jira/editor/tinymce","jquery"],function(a,b){a.create("tinymce.plugins.jira.PreventDefaultPlugin",{init:function(c){var d=c.settings;c.on("init",function(){var f=c.getBody()._controller;if(f&&f.$textarea&&f.$textarea.get(0)){var g=f.$textarea.get(0).ownerDocument;if(g){var e=d.preventdefault.selector;b(g).on("click",e,function(h){h.preventDefault()})}}})}});a.PluginManager.add("jira.preventdefault",a.plugins.jira.PreventDefaultPlugin);a.PluginManager.urls["jira.preventdefault"]=true;return{configure:function(c,d){d.plugins.push("jira.preventdefault");d.preventdefault={selector:"a[contenteditable=false]"}}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:resources', location = 'js/plugins/editor-content-postprocess-plugin.js' */
define("jira/editor/plugins/editor-content-postprocess",["jira/editor/tinymce","jira/editor/converter/util/strings","jira/editor/util/temporaryAttachment","jira/editor/analytics"],function(i,b,a,h){var c=function(l,k){var j=l&&l.attr("class")||"";return j.indexOf(k)>=0};var f=function(j){j.parser.addAttributeFilter("class",function(k){var l=k.length;var m;while(l--){m=k[l];if(c(m,"user-hover")){m.attr("contenteditable","false");m.attr("tabindex","-1")}}})};var e=function(j){j.parser.addNodeFilter("h1,h2,h3,h4,h5,h6",function(l){var k=function(t,r){var s=t;var u=[];for(t=s.firstChild;t;t=t.next){if(t.name===r&&!t.firstChild){u.push(t)}}return u};var o=l.length;var p;while(o--){p=l[o];var n=k(p,"a");var m=n.filter(function q(r){return typeof r.attr("name")!=="undefined"});m.forEach(function(r){r.remove()})}})};var d=function(j){j.parser.addNodeFilter("div,pre",function(k){k.forEach(function(o){if(o.parent&&o.parent.name==="pre"&&o.name!=="panel-title"){o.unwrap()}if(!o.attr("class")&&o.name==="pre"){o.unwrap()}if(!c(o,"panel")||c(o,"panelHeader")||c(o,"panelContent")){return}if(c(o,"preformatted")){o.attr("class","noformat panel")}if(o.lastChild&&o.lastChild.firstChild&&/^code/.test(o.lastChild.firstChild.attr("class"))){o.attr("data-language",o.lastChild.firstChild.attr("class"));o.attr("class","code panel")}var m=o.firstChild;if(c(m,"panelHeader")){var n=m.attr("style");m.firstChild.unwrap();m.name="panel-title";m.attr("class",n)}var l=o.lastChild;if(c(l,"panel")||c(l,"panelContent")){var n=l.attr("style");if(c(o,"noformat")||c(o,"code")){l.firstChild.unwrap()}l.unwrap()}if(c(o,"noformat")||c(o,"code")){o.name="pre"}else{o.attr("class","plain panel")}})})};var g=function(j){j.parser.addNodeFilter("img",function(k){if(k.length===0){return}var m=a.getFormToken(j.getContainer());if(!m){console.warn("formToken not found, skipping invalid temporary attachment content post processing");return}var l=function(n){var o=n.attr("src");if(b.isTemporaryAttachmentPath(o)){var p="/secure/temporaryattachment/"+m;return !b.contains(o,p)}return false};k.filter(l).forEach(function(n){n.remove();h.sendEvent("editor.plugin.content-postprocess.temporary-attachment.removed")})})};i.create("tinymce.plugins.jira.EditorContentPostprocess",{init:function(j){j.on("PreInit",function(){g(j);f(j);e(j);d(j)})}});i.PluginManager.add("jira.editorcontentpostprocess",i.plugins.jira.EditorContentPostprocess);i.PluginManager.urls["jira.editorcontentpostprocess"]=true;return{configure:function(j,k){k.plugins.push("jira.editorcontentpostprocess");k.editor_content_postprocess={};return k}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/node-handler.js' */
define("jira/editor/converter/handlers/node-handler",["jira/editor/converter/util/strings","jira/editor/converter/util/rte-strings","jira/editor/converter/new-lines/new-lines","jira/lib/class","underscore","jquery"],function(d,c,a,b,i,e){var g={};var j=[];var h=b.extend({init:function h(k){this.node=k},before:function(){return new h.EmptyHandler()},processText:function(){return""},after:function(){return new h.EmptyHandler()},children:function(){var k=[];var m=this.node.childNodes;var l=i.filter(m,function(o,n){var p=this.createChildHandler(o,n,m.length);if(p.processText()===""){return true}if(c.isWhitespace(p.processText())&&d.contains(p.processText(),"\n")&&!p.preformatted){return false}return true},this);i.each(l,function(o,n){k.push(this.createBeforeChild(o,n,l.length));k.push(this.createChildHandler(o,n,l.length));k.push(this.createAfterChild(o,n,l.length))},this);return k},createBeforeChild:function(l,m,k){return new h.EmptyHandler()},createAfterChild:function(l,m,k){return new h.EmptyHandler()},createChildHandler:function(l,m,k){return h.createHandler(l)},newLinesBefore:function(){var k=h._isBlock(this.node.parentNode)||e(this.node).parents().is("th, td");if(h._isBlock(this.node)&&!(e(this.node).is(":first-child")&&k)){return a.single(true)}else{return a.empty()}},newLinesAfter:function(){return a.empty()}});h.EmptyHandler=h.extend({init:function f(k){this.node=k},before:function(){throw undefined},after:function(){throw undefined},processText:function(){return""},children:function(){return[]}});h.addHandler=function(k,l){k=k.toLowerCase();g[k]=l;j.push(k)};h.getHandler=function(k){var l=k.nodeName.toLowerCase();return g[(l+"."+(k.className||"")).toLowerCase()]||g[l]||j.reduce(function(n,m){return n||e(k).is(m)&&g[m]},null)||h};h.createHandler=function(k){return new (h.getHandler(k))(k)};h.isInsideTable=function(k){return e(k).parents("td").length>0||e(k).parents("th").length>0};h.singleNewLineExceptTable=function(l,k){if(h.isInsideTable(l)){return a.empty()}return a.single(k)};h._isBlock=i.memoize(function(l){if(!l||!l.tagName){return false}var m=document.createElement("div");var k=document.createElement(l.tagName);m.appendChild(k);document.body.appendChild(m);try{return window.getComputedStyle(k).display==="block"}finally{document.body.removeChild(m)}},function(k){if(!k||!k.tagName){return""}return k.tagName});h.isEmptyTextNode=function(k){if(!k){return false}return k.nodeType===Node.TEXT_NODE&&c.trim(k.nodeValue)===""};return h});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/empty-handler.js' */
define("jira/editor/converter/handlers/empty-handler",["jira/editor/converter/handlers/node-handler"],function(a){return a.EmptyHandler});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/block-handler.js' */
define("jira/editor/converter/handlers/block-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/new-lines/new-lines","jira/editor/converter/util/strings","jira/editor/converter/util/color-converter","jquery"],function(d,h,c,g,b,f){var a=d.extend({init:function a(i){this.wrapperNode=i;this.node=i.querySelector(".panelContent")||i;this.nodeHeader=i.querySelector("panel-title")||i.querySelector(".panelHeader");this.attrs=this.getAttrs();if(f(this.node).is(".panelContent")){this.workaroundTypingOutsideWrapper()}},workaroundTypingOutsideWrapper:function(){var i=f(this.wrapperNode);i.find("> p").before('<br data-mce-bogus="1">');if(this.node){var j=i.find("> :not(div.preformattedContent.panelContent, div.codeContent.panelContent, div.panelHeader, div.panelContent)");j.detach().appendTo(this.node)}else{this.node=this.wrapperNode}},getAttrs:function(){var i=[];if(this.nodeHeader){if(this.nodeHeader.textContent){i.push("title="+this.nodeHeader.textContent)}if(this.nodeHeader.style.borderBottomStyle){i.push("borderStyle="+this.nodeHeader.style.borderBottomStyle)}if(this.nodeHeader.style.borderBottomWidth&&this.nodeHeader.style.borderBottomWidth!=="1px"){i.push("borderWidth="+this.nodeHeader.style.borderBottomWidth)}if(this.nodeHeader.style.borderBottomColor){i.push("borderColor="+b.colorToHex(this.nodeHeader.style.borderBottomColor))}if(this.nodeHeader.style.backgroundColor){i.push("titleBGColor="+b.colorToHex(this.nodeHeader.style.backgroundColor))}}if(this.wrapperNode){if(this.wrapperNode.style.backgroundColor){i.push("bgColor="+b.colorToHex(this.wrapperNode.style.backgroundColor))}}return i.length>0?i.join("|"):""},createChildHandler:function(k,l,j){if(k.nodeType===Node.TEXT_NODE){return h.createPreformattedTextHandler(k)}else{if(k.tagName==="BR"){return h.newlineHandler()}else{if(k.tagName==="IMG"){if(!g.startsWith(k.src,"data")&&!g.startsWith(k.src,"blob")){return d.createHandler(k)}else{var i=document.createTextNode("(attachment)");return h.createTextHandler(i)}}else{if(k.tagName==="PRE"){return new e(k)}else{if(k.tagName==="PANEL-TITLE"){return new d.EmptyHandler(k)}else{return new e(k)}}}}}},children:function(){var i=d.prototype.children.apply(this,arguments);i.unshift(c.single(true));return i},newLinesBefore:function(){return d.singleNewLineExceptTable(this.wrapperNode,true)},newLinesAfter:function(){return d.singleNewLineExceptTable(this.wrapperNode,true)}});var e=d.extend({createChildHandler:a.prototype.createChildHandler,newLinesBefore:function(){return c.empty()},before:function(){return new d.EmptyHandler()},after:function(){return new d.EmptyHandler()}});return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/text-handler.js' */
define("jira/editor/converter/handlers/text-handler",["jira/featureflags/feature-manager","jira/editor/converter/util/strings","jira/editor/converter/util/rte-strings","jira/editor/converter/handlers/node-handler","jira/editor/context-detector"],function(b,f,a,d,c){var e=d.extend({init:function e(g){this.node=g;this.preformatted=this.node.preformatted},processText:function(){var h=this.node.textContent||"";if(this.node.preformatted){return h}if(!a.isWhitespace(h)){h=this.trimNewlines(h)}var g=h;if(b.isFeatureEnabled("jira.renderer.consider.variable.format")){g=g.replace(/([^$])({[^}]+})/g,"$1\\$2").replace(/(\$)({[^}]+)$/g,"$1\\$2")}else{g=g.replace(/{/g,"\\{")}if(c.detectTable(this.node)){g=f.replace(g,"|","\\|")}return g},children:function(){return[]},trimNewlines:function(n){var k;for(k=0;k<n.length;k++){if(!a.isWhitespace(n[k])){break}}var h;for(h=n.length-1;h>=0;h--){if(!a.isWhitespace(n[h])){break}}var l=n.substring(0,k);var m=n.substring(k,h+1);var g=n.substring(h+1);return f.replace(l,"\n","")+m+f.replace(g,"\n","")}});e.createTextHandler=function(g){var h=g;if(g instanceof Node){h=g.textContent}return new e({textContent:h||""})};e.createPreformattedTextHandler=function(g){var h=g;if(g instanceof Node){h=g.textContent}return new e({textContent:h||"",preformatted:true})};e.newlineHandler=function(){return new e({textContent:"\n",preformatted:true})};return e});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/heading-handler.js' */
define("jira/editor/converter/handlers/heading-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/handlers/empty-handler"],function(b,d,a){var e=b.extend({init:function e(f){this.node=f},newLinesBefore:function(){return b.singleNewLineExceptTable(this.node,true)},before:function(){var f=this.node.tagName;if(f in c){return d.createTextHandler(c[f])}return new a()},newLinesAfter:function(){return b.singleNewLineExceptTable(this.node)}});var c={};c.H1="h1. ";c.H2="h2. ";c.H3="h3. ";c.H4="h4. ";c.H5="h5. ";c.H6="h6. ";return e});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/bold-handler.js' */
define("jira/editor/converter/handlers/bold-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/factories/whitespace-extractor"],function(b,d,e){var c=b.extend({init:function a(f){this.node=f},before:function(){return d.createTextHandler("*")},after:function(){return d.createTextHandler("*")}});return e(c)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/emphasis-handler.js' */
define("jira/editor/converter/handlers/emphasis-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/factories/whitespace-extractor"],function(a,c,d){var b=a.extend({init:function e(f){this.node=f},before:function(){return c.createTextHandler("_")},after:function(){return c.createTextHandler("_")}});return d(b)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/monospaced-handler.js' */
define("jira/editor/converter/handlers/monospaced-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/factories/whitespace-extractor"],function(a,c){var b=a.extend({init:function d(e){this.node=e},before:function(){return c.createPreformattedTextHandler("{{")},after:function(){return c.createPreformattedTextHandler("}}")}});return b});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/link-handler.js' */
define("jira/editor/converter/handlers/link-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/handlers/image-handler","jira/editor/converter/handlers/empty-handler","jira/editor/converter/handlers/superscript-handler","jira/editor/converter/util/strings","jira/editor/converter/util/uri","jquery"],function(i,a,h,g,b,e,c,f){var d=i.extend({init:function(m){this.node=m;var l=this.node.getAttribute("href");var k=e.resolveUrl(l,e.getBaseUrl());var j=m.getAttribute("data-filename");if(d.isAnchor(l)){k=l}else{if(d.isAttachment(k)||j){this.attachment=j||e.getFilenameFromHref(k);if(f(m).find(">:first-child:last-child").is("img")){this.imageAttachment=this.attachment}}else{if(d.isIssue(k)){this.issueKey=e.substringAfter(k,e.getContextUrl()+"/browse/")}else{if(d.isProfile(k,m)){this.username=c.decodeUri(e.substringAfter(k,"ViewProfile.jspa?name="))}else{if(d.isWiki(k,m)){this.wikiLink=f(m).text()}}}}}this.href=k},before:function(){var j=f(this.node.previousSibling).is("a")?" ":"";if(this.imageAttachment){return a.createTextHandler(j+"!")}else{if(this.attachment){return a.createTextHandler(j+"[^")}else{if(this.issueKey){return new g()}else{if(this.username){return a.createTextHandler(j+"[~")}else{if(this.href||this.wikiLink){return a.createTextHandler(j+"[")}else{return new g()}}}}}},children:function(){if(this.imageAttachment){return[a.createTextHandler(""+this.imageAttachment)]}else{if(this.attachment){return[a.createTextHandler(""+this.attachment)]}else{if(this.username){return[a.createTextHandler(""+this.username)]}else{if(d.isAnchor(this.href,this.node)){return a.createTextHandler(this.href)}else{if(d.isMailto(this.href,this.node)){return this._filterMailtoChildren(this._super())}else{return this._super()}}}}}},after:function(){if(this.imageAttachment){var j=h.getAttrs(f(this.node).find("> img")[0]);return a.createTextHandler(j+"!")}else{if(this.attachment||this.wikiLink){return a.createTextHandler("]")}else{if(this.issueKey){return new g()}else{if(this.username){return a.createTextHandler("]")}else{if(this.href){if(this.href===f(this.node).text()||d.isAnchor(this.href,this.node)){return a.createTextHandler("]")}else{return a.createTextHandler("|"+this.href+"]")}}else{return new g()}}}}}},_filterMailtoChildren:function(j){if(j.length>=3&&(j[j.length-2] instanceof b)){j=j.splice(0,j.length-3)}return j}});d.isAttachment=function(j){if(/^\//.test(j)){j=window.location.origin+j}return e.startsWith(j,e.getContextUrl()+"/secure/attachment/")||e.startsWith(j,"../secure/attachment/")};d.isIssue=function(j){if(/^\//.test(j)){j=window.location.origin+j}return e.startsWith(j,e.getContextUrl()+"/browse/")};d.isProfile=function(j,k){return e.contains(j,"ViewProfile.jspa?name=")&&f(k).is(".user-hover")};d.isWiki=function(j,k){return e.contains(j,"/wiki/display/")&&e.endsWith(c.decodeUri(j),"/"+f(k).text())};d.isMailto=function(j,k){return e.startsWith(j,"mailto:")};d.isAnchor=function(j,k){return e.startsWith(j,"#")&&(!k||j===("#"+f(k).text()))};return d});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/linebreak-handler.js' */
define("jira/editor/converter/handlers/linebreak-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jquery"],function(a,c,b){return a.extend({init:function d(e){this.node=e},before:function(){return new a.EmptyHandler()},children:function(){return new a.EmptyHandler()},after:function(){if(!this.node.previousSibling&&!this.node.nextSibling&&b(this.node).parent().is("td, th")){return c.createTextHandler(" ")}else{if(this.node.previousSibling&&this.node.previousSibling.tagName==="BR"&&b(this.node).parent().is("td, th")){return new c({textContent:decodeURI("%C2%A0")+"\n",preformatted:true})}else{return c.newlineHandler()}}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/image-handler.js' */
define("jira/editor/converter/handlers/image-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/handlers/empty-handler","jquery","jira/editor/converter/util/strings","wrm/context-path"],function(j,a,f,c,b,d){var k="/images/icons/";var h="/images/icons/emoticons/";var g={EMOTE:"emote",EXTERNAL:"external-image",ATTACHMENT:"attachment-image",TEMPORARY_ATTACHMENT:"temporary-attachment-image",PLACEHOLDER:"placeholder"};var i=j.extend({init:function i(l){this.node=l;this.imageType=this._getImageType(l)},_getImageType:function(l){if(this.node.getAttribute("imagetext")){return g.PLACEHOLDER}var m=this.node.getAttribute("data-image-type");if(m){return m}var n=this.node.getAttribute("src");if(b.isEmotePath(n)&&l.classList.contains("emoticon")){if(b.contains(n,k+"mail_small")&&this.$(l).parents("a").is(".external-link")){return}return g.EMOTE}if(b.isAttachmentPath(n)||b.isThumbnailPath(n)||n.match(/^((data|blob):http)|(data:image)/)){return g.ATTACHMENT}if(b.isTemporaryAttachmentPath(n)){return g.TEMPORARY_ATTACHMENT}return g.EXTERNAL},before:function(){var m=this.node.previousSibling;var l=(m&&m.nodeType===Node.TEXT_NODE&&!b.endsWith(m.textContent," "))?" ":"";if(this.imageType&&this.imageType!==g.EMOTE){return a.createTextHandler(l+"!")}return new f()},children:function(){return this.imageType?a.createTextHandler(this._getImageSource()):new f()},after:function(){var m=this.node.nextSibling;var l=(m&&m.nodeType===Node.TEXT_NODE&&!b.startsWith(m.textContent," "))?" ":"";if(this.imageType&&this.imageType!==g.EMOTE){return a.createTextHandler("!"+l)}return new f()},_getImageSource:function(){if(this.imageType===g.PLACEHOLDER){return this.node.getAttribute("imagetext")}else{if(this.imageType===g.EMOTE){var l=this.node.getAttribute("src");var m=b.substringAfter(l,h).replace(/\.(png|gif)$/,"");if(m in e){return e[m]}if(b.startsWith(l,d())){return"!"+document.location.origin+l+"!"}}else{if(this.imageType===g.ATTACHMENT||this.imageType===g.TEMPORARY_ATTACHMENT||this.imageType===g.EXTERNAL){var o=this.node.getAttribute("data-filename")||this.node.getAttribute("href")||this.node.getAttribute("src");if(this.imageType===g.ATTACHMENT){o=b.getFilenameFromHref(o)}else{if(this.imageType===g.TEMPORARY_ATTACHMENT&&!this.node.getAttribute("data-filename")){o=b.getFilenameFromHref(o,true)}}var n=i.getAttrs(this.node);if(n){return o+n}return o}}}}});i.getAttrs=function(m){if(c(m).is("img.emoticon")){return""}var l=[];if(m.width){l.push("width="+m.width)}if(m.height){l.push("height="+m.height)}if(m.id){l.push("id="+m.id)}if(m.vspace){l.push("vspace="+m.vspace)}if(m.align){l.push("align="+m.align)}else{if(m.style.textAlign){l.push("align="+m.style.textAlign)}else{if(m.style["float"]){l.push("align="+m.style["float"])}}}if(b.isThumbnailPath(m.getAttribute("src"))){l.push("thumbnail")}return l.length>0?"|"+l.join(","):""};var e={smile:":)",sad:":(",tongue:":P",biggrin:":D",wink:";)",thumbs_up:"(y)",thumbs_down:"(n)",information:"(i)",check:"(/)",error:"(x)",warning:"(!)",add:"(+)",forbidden:"(-)",help_16:"(?)",lightbulb_on:"(on)",lightbulb:"(off)",star_yellow:"(*)",star_red:"(*r)",star_green:"(*g)",star_blue:"(*b)",flag:"(flag)",flag_grey:"(flagoff)"};return i});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/code-block-handler.js' */
define("jira/editor/converter/handlers/code-block-handler",["jira/editor/converter/handlers/block-handler","jira/editor/converter/handlers/text-handler","jquery"],function(a,d,c){var b=a.extend({init:function b(e){this._super(e);this.language=this.getLanguage()},getLanguage:function(){var e=c(this.node).is("pre")?this.node:this.node.querySelector("pre");var f=c(e).attr("data-language");return f?f.replace("code-",""):""},before:function(){var e=[];if(this.language){e.push(this.language)}if(this.attrs){e.push(this.attrs)}var e=(e.length)?":"+e.join("|"):"";return d.createPreformattedTextHandler("{code"+e+"}")},after:function(){return d.createPreformattedTextHandler("{code}")}});return b});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/noformat-handler.js' */
define("jira/editor/converter/handlers/noformat-handler",["jira/editor/converter/handlers/block-handler","jira/editor/converter/handlers/text-handler"],function(a,c){var b=a.extend({before:function(){var d=this.attrs?":"+this.attrs:"";return c.createPreformattedTextHandler("{noformat"+d+"}")},after:function(){return c.createPreformattedTextHandler("{noformat}")}});return b});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/list-type-matcher.js' */
define("jira/editor/converter/handlers/list-type-matcher",["jquery","underscore"],function(b,a){var c={};c.selectorBulletMap={};c.selectorBulletMap["ul:not(.alternate)"]="*";c.selectorBulletMap["ul.alternate"]="-";c.selectorBulletMap.ol="#";c.DEFAULT_DECORATOR="*";c.matchBullet=function(d){return a.find(c.selectorBulletMap,function(f,e){return b(d).is(e)})};c.getBulletDecorator=function(d){return c.matchBullet(d)||c.DEFAULT_DECORATOR};c.isListNode=function(d){return c.matchBullet(d)!=null};return c});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/list-handler.js' */
define("jira/editor/converter/handlers/list-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/handlers/empty-handler","jira/editor/converter/handlers/list-type-matcher","jquery","jira/editor/converter/new-lines/new-lines","jira/editor/context-detector"],function(d,f,a,h,e,c,b){return d.extend({init:function g(i,j){this.node=i;this.type=this.node.getAttribute("type");if(typeof j==="undefined"){this.depth=0}else{this.depth=j}this.bulletDecorator=h.getBulletDecorator(i)},createChildHandler:function(j){var i=d.getHandler(j);if(j.tagName==="LI"){return new i(j,this.depth,this.bulletDecorator)}else{return new i(j)}},before:function(){return new a()},newLinesBefore:function(){if(this.depth===0&&b.detectTable(this.node)&&this.node.previousSibling&&!d.isEmptyTextNode(this.node.previousSibling)){return c.single(true)}return c.empty()},newLinesAfter:function(){if(this.depth===0&&!e(this.node).is(":last-child")){return new c(2,true)}return c.empty()},createAfterChild:function(j,k,i){if(k!==i-1){return f.newlineHandler()}return new a()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/list-item-handler.js' */
define("jira/editor/converter/handlers/list-item-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/handlers/empty-handler","jira/editor/converter/handlers/list-type-matcher","jira/editor/converter/util/strings"],function(c,e,a,f,d){return c.extend({init:function b(g,i,h){this.node=g;if(typeof i==="undefined"){this.depth=0}else{this.depth=i}this.bulletDecorator=h},before:function(){var g=d.repeat(this.bulletDecorator,this.depth+1);return e.createTextHandler(" "+g+" ")},after:function(){return new a()},createBeforeChild:function(h,i,g){if(f.isListNode(h)){return e.newlineHandler()}return new a()},createChildHandler:function(i,j,h){var g=c.getHandler(i);if(f.isListNode(i)){return new g(i,this.depth+1)}else{return new g(i)}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/table-handler.js' */
define("jira/editor/converter/handlers/table-handler",["jira/editor/converter/handlers/node-handler","jira/editor/context-detector","jira/editor/converter/new-lines/new-lines"],function(d,c,b){return d.extend({init:function a(e){this.node=e},newLinesBefore:function(){var e=c.detectTable(this.node.previousElementSibling);return b.single(!e)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/table-row-handler.js' */
define("jira/editor/converter/handlers/table-row-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/handlers/empty-handler","jira/editor/converter/new-lines/new-lines"],function(c,e,a,b){return c.extend({init:function d(f){this.node=f},createBeforeChild:function(g,h,f){if(g.tagName==="TH"){return e.createTextHandler("||")}else{return e.createTextHandler("|")}},newLinesAfter:function(){return b.single()},createAfterChild:function(g,h,f){if(h===f-1){if(g.tagName==="TH"){return e.createTextHandler("||")}else{return e.createTextHandler("|")}}return new a()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/table-data-handler.js' */
define("jira/editor/converter/handlers/table-data-handler",["jira/editor/converter/handlers/node-handler"],function(b){return b.extend({init:function a(c){this.node=c}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/paragraph-handler.js' */
define("jira/editor/converter/handlers/paragraph-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/empty-handler","jira/editor/converter/new-lines/new-lines","jquery"],function(d,b,c,e){return d.extend({init:function a(f){this.node=f},newLinesBefore:function(){if(this.node.previousElementSibling===null&&e(this.node).parents().is("td, th, .panelContent, .panel")){return c.empty()}if(this.node.previousElementSibling!==null){return c.single()}return c.empty()},newLinesAfter:function(){if(e(this.node).is(":last-child")&&e(this.node).parents().is("td, th")){return c.empty()}return c.single(e(this.node).parents().is("td, th"))},before:function(){return new b()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/quote-handler.js' */
define("jira/editor/converter/handlers/quote-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler"],function(a,c){return a.extend({init:function b(d){this.node=d},before:function(){return c.createPreformattedTextHandler("{quote}")},after:function(){return c.createPreformattedTextHandler("{quote}")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/panel-handler.js' */
define("jira/editor/converter/handlers/panel-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/handlers/block-handler"],function(b,c,a){return a.extend({init:function d(e){if(e.firstChild&&e.className===e.firstChild.className){e=e.firstChild}this.node=e;this._super(e)},before:function(){var e=this.attrs?":"+this.attrs:"";return c.createPreformattedTextHandler("{panel"+e+"}")},createChildHandler:function(){return b.prototype.createChildHandler.apply(this,arguments)},after:function(){return c.createPreformattedTextHandler("{panel}")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/span-handler.js' */
define("jira/editor/converter/handlers/span-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/handlers/empty-handler","jira/editor/converter/util/strings","jira/editor/converter/util/color-converter","jquery"],function(d,g,a,f,b,e){var h=d.extend({init:function h(j){this.node=j;this.$node=e(this.node);var i=this.node.getAttribute("href");if(this.getStyle(this.node,"textDecoration")==="underline"){this.decorator="underline"}else{if(this.node.className==="error"){var l=this.$node.text();if(f.getFilenameFromError(l)){this.decorator="attachment-error"}}else{if(f.length(this.getStyle(this.node,"color"))>0){var k=this.getStyle(this.node,"color").toLowerCase();if(f.contains(k,"rgb")){this.color=b.colorToHex(k)}else{if(f.contains(k,"#")){this.color=k}else{if(k in c){this.color=c[k.toLowerCase()]}}}if(this.color!==undefined){this.decorator="color"}}else{if(this.node.className==="jira-issue-macro"&&this.$node.attr("data-jira-key")){this.decorator="jira-issue-macro"}}}}},before:function(){if(this.decorator==="attachment-error"){return g.createTextHandler("!")}else{if(this.decorator==="underline"){return g.createTextHandler("+")}else{if(this.decorator==="color"){return g.createPreformattedTextHandler("{color:"+this.color+"}")}}}return new a()},after:function(){if(this.decorator==="attachment-error"){return g.createTextHandler("!")}else{if(this.decorator==="underline"){return g.createTextHandler("+")}else{if(this.decorator==="color"){return g.createPreformattedTextHandler("{color}")}}}return new a()},children:function(){if(this.decorator==="attachment-error"){var i=f.getFilenameFromError(this.$node.text());return[g.createTextHandler(i)]}else{if(this.decorator==="jira-issue-macro"){return g.createTextHandler(this.$node.attr("data-jira-key"))}else{return this._super()}}},getStyle:function(j,i){if(i in this.node.style){return this.node.style[i]}return undefined}});var c={white:"#FFFFFF",silver:"#C0C0C0",gray:"#808080",black:"#000000",red:"#FF0000",maroon:"#800000",yellow:"#FFFF00",olive:"#808000",lime:"#00FF00",green:"#008000",aqua:"#00FFFF",teal:"#008080",blue:"#0000FF",navy:"#000080",purple:"#800080",orange:"#FFA500",brown:"#AA4B00",mahogany:"#C04000",pink:"#FFC0CB","yellow orche":"#CF912A",harlequin:"#3FFF00",mauvelous:"#EF98AA","dark red":"#8B0000",saffron:"#F4C430",sepia:"#704214",fuchsia:"#FF00FF",magenta:"#FF00FF",marsala:"#955251",indigo:"#000080"};return h});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/strikethrough-handler.js' */
define("jira/editor/converter/handlers/strikethrough-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/handlers/link-handler","jira/editor/converter/handlers/empty-handler","jira/editor/converter/factories/whitespace-extractor","jquery"],function(c,g,e,a,h,f){var d=c.extend({init:function b(i){this.node=i;if(f(i.parentNode).is("a[data-issue-key]")){this.isIssue=e.isIssue(f(i.parentNode).attr("href"))}},before:function(){return this.isIssue?new a():g.createTextHandler("-")},after:function(){return this.isIssue?new a():g.createTextHandler("-")}});return h(d)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/superscript-handler.js' */
define("jira/editor/converter/handlers/superscript-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/handlers/empty-handler","jira/editor/converter/util/strings","jira/editor/converter/factories/whitespace-extractor","jquery"],function(b,g,a,f,h,e){var c=b.extend({init:function d(i){this.node=i;if(e(this.node).parents("a").is(".external-link")&&f.endsWith(e(this.node).children().attr("src"),"images/icons/mail_small.gif")){this.dontExpand=true}},before:function(){return this.dontExpand?new a():g.createTextHandler("^")},after:function(){return this.dontExpand?new a():g.createTextHandler("^")}});return h(c)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/subscript-handler.js' */
define("jira/editor/converter/handlers/subscript-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/factories/whitespace-extractor"],function(b,d,e){var c=b.extend({init:function a(f){this.node=f},before:function(){return d.createTextHandler("~")},after:function(){return d.createTextHandler("~")}});return e(c)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/underline-handler.js' */
define("jira/editor/converter/handlers/underline-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/factories/whitespace-extractor"],function(b,d,e){var c=b.extend({init:function a(f){this.node=f},before:function(){return d.createTextHandler("+")},after:function(){return d.createTextHandler("+")}});return e(c)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/hr-handler.js' */
define("jira/editor/converter/handlers/hr-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/handlers/empty-handler"],function(b,c,a){return b.extend({init:function d(e){this.node=e},before:function(){return new a()},children:function(){var e=new c({textContent:"----",preformatted:true});return[e]},after:function(){return new a()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/cite-handler.js' */
define("jira/editor/converter/handlers/cite-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler"],function(a,c){return a.extend({init:function b(d){this.node=d},before:function(){return c.createTextHandler("??")},after:function(){return c.createTextHandler("??")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/external-handler.js' */
define("jira/editor/converter/handlers/external-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/new-lines/new-lines","jira/editor/converter","underscore"],function(d,f,c,e,b){var a=d.extend({init:function(g){this.node=g},children:function(){var g=this.external(this.getParams());return[f.createPreformattedTextHandler(g)]},getParams:function(){return Object.create(Object.prototype,{node:{value:this.node},innerMarkup:{get:function(){return e.handleMarkup(this.node.innerHTML)}}})}});a.forConverter=function(g){var h=AJS.namespace(g["function"]);if(!b.isFunction(h)){console.error(g["function"]," is not a function, this macro won't be supported by converter: ",g.selector," - it may result in data loss.");return}d.addHandler(g.selector,a.extend({external:h}))};a.Legacy=f.extend({init:function(g){this.node=g},processText:function(){var h=this.node.getAttribute("data-original-text");var g=this.node.getAttribute("data-command");return(h||"")+(this.node.innerText||this.node.textContent)+(g&&("{"+g+"}"))},newLinesBefore:function(){return this.node.getAttribute("data-new-line-before")==="true"?c.single(true):c.empty()},newLinesAfter:function(){return this.node.getAttribute("data-new-line-after")==="true"?c.single(true):c.empty()}});return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handler-mapper.js' */
define("jira/editor/converter/handler-mapper",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/handlers/heading-handler","jira/editor/converter/handlers/bold-handler","jira/editor/converter/handlers/emphasis-handler","jira/editor/converter/handlers/monospaced-handler","jira/editor/converter/handlers/linebreak-handler","jira/editor/converter/handlers/link-handler","jira/editor/converter/handlers/image-handler","jira/editor/converter/handlers/code-block-handler","jira/editor/converter/handlers/noformat-handler","jira/editor/converter/handlers/list-handler","jira/editor/converter/handlers/list-item-handler","jira/editor/converter/handlers/paragraph-handler","jira/editor/converter/handlers/strikethrough-handler","jira/editor/converter/handlers/superscript-handler","jira/editor/converter/handlers/subscript-handler","jira/editor/converter/handlers/underline-handler","jira/editor/converter/handlers/quote-handler","jira/editor/converter/handlers/panel-handler","jira/editor/converter/handlers/span-handler","jira/editor/converter/handlers/table-handler","jira/editor/converter/handlers/table-row-handler","jira/editor/converter/handlers/table-data-handler","jira/editor/converter/handlers/hr-handler","jira/editor/converter/handlers/cite-handler","jira/editor/wrm"],function(n,s,a,b,x,m,t,w,p,l,c,i,o,e,k,g,r,f,u,j,h,y,B,q,A,d,v){return{registerHandlers:function z(){var C=require("jira/editor/converter/handlers/external-handler");v.getConverters().forEach(C.forConverter);n.addHandler("pre.external-macro",C.Legacy);n.addHandler("H1",a);n.addHandler("H2",a);n.addHandler("H3",a);n.addHandler("H4",a);n.addHandler("H5",a);n.addHandler("H6",a);n.addHandler("A",w);n.addHandler("B",b);n.addHandler("STRONG",b);n.addHandler("BR",t);n.addHandler("EM",x);n.addHandler("I",x);n.addHandler("IMG",p);n.addHandler("TT",m);n.addHandler("CODE",m);n.addHandler("SAMP",m);n.addHandler("DIV.preformatted panel",c);n.addHandler("PRE.noformat panel",c);n.addHandler("DIV.code panel",l);n.addHandler("PRE.code panel",l);n.addHandler("PANEL-TITLE",n.EmptyHandler);n.addHandler("UL",i);n.addHandler("OL",i);n.addHandler("LI",o);n.addHandler("P",e);n.addHandler("DEL",k);n.addHandler("SUB",r);n.addHandler("SUP",g);n.addHandler("INS",f);n.addHandler("U",f);n.addHandler("TABLE",y);n.addHandler("TR",B);n.addHandler("CAPTION",B);n.addHandler("TD",q);n.addHandler("TH",q);n.addHandler("SPAN",h);n.addHandler("BLOCKQUOTE",u);n.addHandler("DIV.panel",j);n.addHandler("PRE.panel",j);n.addHandler("HR",A);n.addHandler("CITE",d);n.addHandler("#text",s)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/factories/whitespace-extractor.js' */
define("jira/editor/converter/factories/whitespace-extractor",["jira/editor/constants","jira/editor/converter/handlers/text-handler","jira/editor/converter/factories/left-trim","jira/editor/converter/factories/right-trim"],function(c,f,b,e){return function a(n){return n.extend({init:function h(o){this._super(o);this.leftWhitespaces=g(o.firstChild,c.LEFT_WHITESPACE_MATCHER);this.rightWhitespaces=g(o.lastChild,c.RIGHT_WHITESPACE_MATCHER);this.leftTrimChildren=!!this.leftWhitespaces;this.rightTrimChildren=!!this.rightWhitespaces},before:function l(){var o=this._super();return this._extractLeftSpaces(o)||o},after:function m(){var o=this._super();return this._extractRightSpaces(o)||o},createChildHandler:function j(p,r,o){var q=this._super(p,r,o);if(this.leftTrimChildren&&0===r){q=b(q)}if(this.rightTrimChildren&&o-1===r){q=e(q)}return q},_extractLeftSpaces:function k(o){if(!this.leftTrimChildren){return null}var p=d(o);return p(this.leftWhitespaces+o.processText())},_extractRightSpaces:function i(o){if(!this.rightTrimChildren){return null}var p=d(o);return p(o.processText()+this.rightWhitespaces)}})};function g(k,j){var i=(k&&k.textContent)||"";var h=i.match(j);return(null!==h)?h[0]:null}function d(h){return(h.preformatted)?f.createPreformattedTextHandler:f.createTextHandler}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/factories/left-trim.js' */
define("jira/editor/converter/factories/left-trim",["jira/editor/constants"],function(b){return function a(f){var d=Object.create(f);d.createChildHandler=function e(h,j,g){var i=Object.getPrototypeOf(d).createChildHandler.call(this,h,j,g);if(0===j){i=a(i)}return i};d.processText=function c(){return Object.getPrototypeOf(d).processText.call(this).replace(b.LEFT_WHITESPACE_MATCHER,"")};d._extractLeftSpaces=function(){};return d}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/factories/right-trim.js' */
define("jira/editor/converter/factories/right-trim",["jira/editor/constants"],function(b){return function a(f){var e=Object.create(f);e.createChildHandler=function d(h,j,g){var i=Object.getPrototypeOf(e).createChildHandler.call(this,h,j,g);if(g-1===j){i=a(i)}return i};e.processText=function c(){return Object.getPrototypeOf(e).processText.call(this).replace(b.RIGHT_WHITESPACE_MATCHER,"")};e._extractRightSpaces=function(){};return e}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/new-lines/new-lines.js' */
define("jira/editor/converter/new-lines/new-lines",["jira/lib/class"],function(a){var b=a.extend({init:function(c,d){this._lines=c;this._optional=d},newLines:function(){return this._lines},optional:function(){return this._optional}});b.empty=function(){return new b(0,true)};b.single=function(c){return new b(1,!!c)};return b});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/new-lines/new-lines-merger.js' */
define("jira/editor/converter/new-lines/new-lines-merger",["underscore","jira/editor/converter/util/strings","jira/editor/converter/new-lines/new-lines"],function(c,d,b){function a(f){var h=c.max(f.filter(function(i){return i.optional()}).map(function(i){return i.newLines()}));var g=f.filter(function(i){return !i.optional()}).reduce(function(i,j){return i+j.newLines()},0);return Math.max(g,h)}function e(f){f=c.filter(f,function(i){return i instanceof b||i!==""});var j=[];var k=[];for(var g=0;g<f.length;g++){var h=f[g];if(h instanceof b){j.push(h);continue}k.push(d.repeat("\n",a(j)));k.push(h);j=[]}return k}return{mergeNewLines:e,_newLinesNumber:a}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/html-converter.js' */
define("jira/editor/converter",["jquery","jira/editor/converter/util/rte-strings","jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/empty-handler","jira/editor/converter/new-lines/new-lines","jira/editor/converter/new-lines/new-lines-merger","jira/editor/converter/handler-mapper","jira/editor/analytics","exports"],function(d,b,l,e,a,h,j,k,c){j.registerHandlers();var i=function(r){if(r==null){return""}var q=[l.createHandler(r)];var o=[];while(q.length!==0){var p=q.pop();if(p instanceof e){continue}if(p instanceof a){o.push(p);continue}q.push(p.newLinesBefore());q.push(p.before());var n=p.children();q=q.concat(n);q.push(p.after());o.push(p.processText());o.push(p.newLinesAfter())}o=h.mergeNewLines(o);var m=b.trim(o.reverse().join(""));return m};var g=function(m){return i(b.parseHtml(m))};var f=function(o){var n=new d.Deferred();k.mark("rte-convert");try{var r=b.parseHtml(o);var p=(r?r.getElementsByTagName("*").length:0);var m=i(r);n.resolve(m);k.oneShotMeasure("rte-convert",{nodesCount:p})}catch(q){n.reject(q);k.oneShotMeasure("rte-convert",{nodesCount:-1})}return n.promise()};c.handleMarkup=g;c.convert=f});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:project-page', location = '/sidebar/navigation/items.js' */
require(["jquery"],function(a){a(document).on("click",'.aui-nav > [aria-expanded] > a.aui-nav-item[href="#"]',function(b){b.preventDefault();AJS.navigation(a(this).siblings(".aui-nav")).toggle()})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:change-project-type-dialog', location = '/includes/jira/dialog/changeProjectTypeDialog.soy' */
// This file was automatically generated from changeProjectTypeDialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.project.ChangeType.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.project == 'undefined') { JIRA.Templates.project = {}; }
if (typeof JIRA.Templates.project.ChangeType == 'undefined') { JIRA.Templates.project.ChangeType = {}; }


JIRA.Templates.project.ChangeType.changeProjectTypeDialog = function(opt_data, opt_ignored) {
  return '<section role="dialog" id="change-project-type-dialog-' + soy.$$escapeHtml(opt_data.projectId) + '" class="aui-layer aui-dialog2 aui-dialog2-medium" aria-hidden="true"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">' + soy.$$escapeHtml('Change project type') + '</h2></header><div class="aui-dialog2-content"></div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions form-footer"><div class="icon throbber"></div><button class="aui-button aui-button-primary dialog-change-button hidden">' + soy.$$escapeHtml('Change') + '</button><button class="aui-button aui-button-link dialog-close-button">' + soy.$$escapeHtml('Cancel') + '</button></div></footer></section>';
};
if (goog.DEBUG) {
  JIRA.Templates.project.ChangeType.changeProjectTypeDialog.soyTemplateName = 'JIRA.Templates.project.ChangeType.changeProjectTypeDialog';
}


JIRA.Templates.project.ChangeType.changeProjectTypeForm = function(opt_data, opt_ignored) {
  var output = '<form class="aui change-project-type-form"><div class="form-body"><div class="aui-group project-type-change-group"><div class="aui-item">' + JIRA.Templates.project.ChangeType.projectAvatar(opt_data) + '</div><div class="aui-item project-type-select-group">' + JIRA.Templates.project.ChangeType.projectTypeDropdown({projectTypeKey: opt_data.project.projectTypeKey, projectTypes: opt_data.projectTypes}) + '</div></div></div></form><p>';
  var helpLinkAnchor__soy21 = '<a href=' + soy.$$escapeHtml(opt_data.helpLink) + ' target="_blank">';
  output += soy.$$filterNoAutoescape(AJS.format('If you change the project type, you\x27\x27ll also change what your users can see and do with the project. {0}Check the differences here{1}',helpLinkAnchor__soy21,'</a>')) + '</p>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.project.ChangeType.changeProjectTypeForm.soyTemplateName = 'JIRA.Templates.project.ChangeType.changeProjectTypeForm';
}


JIRA.Templates.project.ChangeType.projectTypeDropdown = function(opt_data, opt_ignored) {
  var output = '<select class="project-type-select select" name="project-type">';
  var projectTypeList30 = opt_data.projectTypes;
  var projectTypeListLen30 = projectTypeList30.length;
  for (var projectTypeIndex30 = 0; projectTypeIndex30 < projectTypeListLen30; projectTypeIndex30++) {
    var projectTypeData30 = projectTypeList30[projectTypeIndex30];
    output += '<option class="imagebacked" data-icon="data:image/svg+xml;base64, ' + soy.$$escapeHtml(projectTypeData30.icon) + '" value="' + soy.$$escapeHtml(projectTypeData30.key) + '" ' + ((projectTypeData30.key == opt_data.projectTypeKey) ? ' selected ' : '') + '>' + soy.$$escapeHtml(projectTypeData30.formattedKey) + '</option>';
  }
  output += '</select>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.project.ChangeType.projectTypeDropdown.soyTemplateName = 'JIRA.Templates.project.ChangeType.projectTypeDropdown';
}


JIRA.Templates.project.ChangeType.updateTargetElement = function(opt_data, opt_ignored) {
  return '<img src="data:image/svg+xml;base64,' + soy.$$escapeHtml(opt_data.icon) + '" class="project-type-icon" /><span>' + soy.$$escapeHtml(opt_data.formattedKey) + '</span>';
};
if (goog.DEBUG) {
  JIRA.Templates.project.ChangeType.updateTargetElement.soyTemplateName = 'JIRA.Templates.project.ChangeType.updateTargetElement';
}


JIRA.Templates.project.ChangeType.projectAvatar = function(opt_data, opt_ignored) {
  return '<div class="project-avatar-header"><span class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img src="' + soy.$$escapeHtml(opt_data.project.avatarUrls['48x48']) + '" alt="' + soy.$$escapeHtml(opt_data.project.name) + '"></span></span><div class="project-header" title="' + soy.$$escapeHtml(opt_data.project.name) + '">' + soy.$$escapeHtml(opt_data.project.name) + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.project.ChangeType.projectAvatar.soyTemplateName = 'JIRA.Templates.project.ChangeType.projectAvatar';
}


JIRA.Templates.project.ChangeType.dialogSpinner = function(opt_data, opt_ignored) {
  return '<div class="dialog-spinner"></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.project.ChangeType.dialogSpinner.soyTemplateName = 'JIRA.Templates.project.ChangeType.dialogSpinner';
}


JIRA.Templates.project.ChangeType.successMsg = function(opt_data, opt_ignored) {
  return '' + soy.$$escapeHtml(AJS.format('You have just changed {0} to a {1} project type.',opt_data.projectName,opt_data.projectTypeName));
};
if (goog.DEBUG) {
  JIRA.Templates.project.ChangeType.successMsg.soyTemplateName = 'JIRA.Templates.project.ChangeType.successMsg';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:change-project-type-dialog', location = '/includes/jira/dialog/changeProjectTypeDialog.js' */
define("jira/project/admin/change-project-type-dialog",["jira/util/formatter","jquery","underscore","jira/analytics","jira/message","jira/ajs/select/single-select","wrm/context-path"],function(e,t,o,n,a,r,c){"use strict";function p(e){return t.ajax({url:c()+"/rest/internal/2/projects/"+e+"/changetypedata",dataType:"json",contentType:"application/json",type:"GET"})}function i(r){var p=t(".project-type-select",r.dialogBody),i=p.val()[0],s=o.findWhere(r.projectTypes,{key:i});t(".dialog-change-button",r.dialogBody).attr("disabled","disabled"),t(t.ajax({url:c()+"/rest/api/2/project/"+r.projectId+"/type/"+i,dataType:"json",contentType:"application/json",type:"PUT"}).done(function(){r.changeProjectTypeDialog.hide(),r.onProjectTypeChanged&&r.onProjectTypeChanged(r.trigger,s),a.showSuccessMsg(JIRA.Templates.project.ChangeType.successMsg({projectName:r.projectName,projectTypeName:s.formattedKey})),n.send({name:"administration.projecttype.change",properties:{projectId:r.projectId,sourceProjectType:d(r.sourceProjectType),destinationProjectType:d(i)}})}).fail(function(){t(".aui-dialog2-content",r.dialogBody).prepend(aui.message.error({content:e.format("We haven\'\'t been able to complete the project conversion. You could refresh the page and try again. If this doesn\'\'t work, contact {0}Support{1}.",'<a href="https://support.atlassian.com/">',"</a>")}))})).throbber({target:t(".throbber",r.dialogBody)})}function d(e){return e&&e.replace("_","")}function s(e,t,o){e==t?o.find(".dialog-change-button").attr("disabled","disabled"):o.find(".dialog-change-button").removeAttr("disabled")}function l(o){var n=t(JIRA.Templates.project.ChangeType.changeProjectTypeDialog({projectId:o.projectId})),a=AJS.dialog2(n);a.on("show",function(){t(".aui-dialog2-content",n).html(JIRA.Templates.project.ChangeType.dialogSpinner()),t(".dialog-spinner",n).spin(),t(".dialog-change-button",n).unbind("click").addClass("hidden")}),t(o.trigger).click(function(c){c.preventDefault(),a.show(),p(o.projectId).done(function(e){n.find(".aui-dialog2-content").html(JIRA.Templates.project.ChangeType.changeProjectTypeForm(e)),new r({element:t(".project-type-select",n),revertOnInvalid:!0,width:165}),n.find(".dialog-change-button").removeClass("hidden"),s(t(".project-type-select",n).val(),e.project.projectTypeKey,n);var c={dialogBody:n,changeProjectTypeDialog:a,projectName:e.project.name,projectTypes:e.projectTypes,trigger:o.trigger,projectId:o.projectId,onProjectTypeChanged:o.onProjectTypeChanged,sourceProjectType:e.project.projectTypeKey};t(".dialog-change-button",n).click(function(e){e.preventDefault(),i(c)}),t(".change-project-type-form",n).on("submit",function(e){e.preventDefault(),i(c)}),t(".project-type-select",n).on("change",function(o){s(t(this).val(),e.project.projectTypeKey,n)})}).fail(function(){t(".aui-dialog2-content",n).html(aui.message.error({content:e.format("We were unable to load data required for the project type change. You could refresh the page and try again. If this doesn\'\'t work, contact {0}Support{1}.",'<a href="https://support.atlassian.com/">',"</a>")}))})}),t(".dialog-close-button",n).click(function(e){e.preventDefault(),a.hide()})}return function(e){l(e)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:project-type-warning', location = '/static/projecttypes/warning/dialog/project-type-warning-dialog.js' */
define("jira/project/types/warning/dialog",["require"],function(e){"use strict";function t(t,a,r){var o=n(".project-type-warning-icon",r);i(o,"uninstalled-warning-dialog",function(i,r,o){return i.html(JIRA.Project.Types.Warning.dialog({title:t.title,firstParagraph:t.firstParagraph,secondParagraph:t.secondParagraph,callToActionText:t.callToActionText})),e("jira/project/admin/change-project-type-dialog")({trigger:n(".warning-dialog-change-project-type"),projectId:t.projectId,onProjectTypeChanged:a}),o(),!1},{width:375,gravity:"w"})}var n=e("jquery"),a=e("wrm/data"),i=e("aui/inline-dialog"),r=a.claim("project.type.warning.dialogs.data");return{init:function(e){e=e||{},e.sectionElement=e.sectionElement||n("body"),t(r,e.onProjectTypeChanged,e.sectionElement)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:project-type-warning', location = '/static/projecttypes/warning/dialog/templates/templates.soy' */
// This file was automatically generated from templates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Project.Types.Warning.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Project == 'undefined') { JIRA.Project = {}; }
if (typeof JIRA.Project.Types == 'undefined') { JIRA.Project.Types = {}; }
if (typeof JIRA.Project.Types.Warning == 'undefined') { JIRA.Project.Types.Warning = {}; }


JIRA.Project.Types.Warning.dialog = function(opt_data, opt_ignored) {
  return '<div class="project-type-warning-dialog"><p class="header"><span>' + soy.$$escapeHtml(opt_data.title) + '</span></p><p class="type-not-accessible-message">' + soy.$$escapeHtml(opt_data.firstParagraph) + '</p><p class="available-functionality-message">' + soy.$$escapeHtml(opt_data.secondParagraph) + '</p><div class="actions"><a class="warning-dialog-change-project-type" href="#">' + soy.$$escapeHtml(opt_data.callToActionText) + '</a></div></div>';
};
if (goog.DEBUG) {
  JIRA.Project.Types.Warning.dialog.soyTemplateName = 'JIRA.Project.Types.Warning.dialog';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-component', location = '/sidebar/component/navigation-item.js' */
define("jira/projects/sidebar/component/navigation-item",["jira/util/browser","jira/projects/libs/marionette"],function(a,b){return b.CompositeView.extend({ui:{link:"a.aui-nav-item"},events:{'simpleClick @ui.link:not([target="_blank"])':function(c){c.preventDefault();this.navigate()}},initialize:function(){this.id=this.$el.find(">a").attr("data-link-id");this.bindUIElements()},onDestroy:function(){this.unbind()},getElement:function(){return this.el},navigate:function(){if(!this.select()){return}var d=this.triggerPreventable("before:navigate");if(d.isPrevented){return false}var c=this.ui.link.attr("href");if(c){a.reloadViaWindowLocation(c)}return true},select:function(){var c=this.triggerPreventable("before:select");if(c.isPrevented){return false}this.$el.addClass("aui-nav-selected");this.trigger("select",c);return true},deselect:function(){if(!this.isSelected()){return true}var c=this.triggerPreventable("before:deselect");if(c.isPrevented){return false}this.$el.removeClass("aui-nav-selected");this.$el.find("a").blur();this.trigger("deselect",c);return true},isSelected:function(){return this.$el.hasClass("aui-nav-selected")},removeBadge:function(){this.$el.find(".aui-badge").remove()},getId:function(){return this.id},getSelectedNavigationItem:function(){if(this.isSelected()){return this}},hasASelectedItem:function(){return this.isSelected()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-component', location = '/sidebar/component/navigation-group.js' */
define("jira/projects/sidebar/component/navigation-group",["jira/projects/sidebar/component/navigation-group-factory","jira/projects/libs/marionette","jira/util/logger"],function(b,c,a){return c.CompositeView.extend({childEvents:{"before:select":function(d,f){this.retriggerPreventable("before:select",f);if(f.isPrevented){return}var e=this.deselect();if(!e){f.preventDefault()}},select:function(e,d){this.trigger("select",d)},"before:deselect":function(d,e){this.retriggerPreventable("before:deselect",e)},deselect:function(e,d){this.trigger("deselect",d)},"before:navigate":function(d,e){this.retriggerPreventable("before:navigate",e)},"before:navigate:prevented":function(d,e){this.trigger("before:navigate:prevented",e)}},initialize:function(){this.id=this.$el.attr("data-id");this.$(">ul>li").each(function(e,d){var f=b.build(d);var g=!!this.getItem(f.id);if(g){a.warn("Duplicated IDs detected. There are more than one NavigationItem with id data-link-id='"+f.id+"'")}this.proxyChildEvents(f);this.children.add(f,f.id)}.bind(this))},onDestroy:function(){this.unbind()},getElement:function(){return this.el},deselect:function(){var e=this.triggerPreventable("before:deselect");if(e.isPrevented){return false}var d=true;this.children.each(function(f){d=f.deselect()&&d});return d},getItem:function(d){return this.children.findByCustom(d)},getItemAt:function(d){return this.children.findByIndex(d)},getSelectedNavigationItem:function(){var d=this.children.find(function(e){return e.hasASelectedItem()});if(d){return d.getSelectedNavigationItem()}},hasASelectedItem:function(){return this.children.any(function(d){return d.hasASelectedItem()})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-component', location = '/sidebar/component/navigation-subgroup.js' */
define("jira/projects/sidebar/component/navigation-subgroup",["jira/projects/sidebar/component/navigation-group","underscore"],function(b,a){return b.extend({childEvents:{"before:select":function(c,d){b.prototype.childEvents["before:select"].apply(this,arguments);if(!d.isPrevented){this.expand()}}},initialize:function(){this.childEvents=a.extend({},b.prototype.childEvents,this.childEvents);b.prototype.initialize.apply(this,arguments);this.id=this.$el.find(">a[data-link-id]").attr("data-link-id")},expand:function(){this.$el.attr("aria-expanded","true")},collapse:function(){this.$el.attr("aria-expanded","false")},isExpanded:function(){return this.$el.attr("aria-expanded")==="true"},isSelected:function(){return this.$el.hasClass("aui-nav-selected")},getId:function(){return this.id},getSelectedNavigationItem:function(){if(this.isSelected()){return this}var c=this.children.find(function(d){return d.hasASelectedItem()});if(c){return c.getSelectedNavigationItem()}},hasASelectedItem:function(){if(this.isSelected()){return true}return this.children.any(function(c){return c.hasASelectedItem()})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-component', location = '/sidebar/component/navigation-group-factory.js' */
define("jira/projects/sidebar/component/navigation-group-factory",["exports","jira/projects/sidebar/component/navigation-item","jira/projects/sidebar/component/navigation-subgroup","jquery"],function(a,e,d,c){a.build=function b(g){var f;if(c(g).find("ul").length){f=new d({el:g})}else{f=new e({el:g})}return f}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-component', location = '/sidebar/component/component.js' */
define("jira/projects/sidebar/component",["jira/projects/sidebar/component/navigation-group","jira/projects/libs/marionette","jira/util/logger","wrm/data","jquery","underscore"],function(e,g,d,a,f,c){var b=Boolean(a.claim("is-global-sidebar"));return g.CompositeView.extend({childEvents:{"before:select":function(h,i){if(!this.hasASelectedItem()){i.isInitial=true}this.retriggerPreventable("before:select",i);if(!i.isPrevented){this.deselectAllGroups()}},select:function(i,h){this.trigger("select",h)},"before:deselect":function(h,i){this.retriggerPreventable("before:deselect",i)},deselect:function(i,h){this.trigger("deselect",h)},"before:navigate":function(h,i){this.retriggerPreventable("before:navigate",i)},"before:navigate:prevented":function(h,i){this.trigger("before:navigate:prevented",i)}},initialize:function(){this.render({force:true})},render:function(j){j=c.defaults({},j,{force:false});var i="el" in j;var n=i||j.force===true;var h=this.children.length>0;if(!n){return this}var m=this.triggerPreventable("before:render");if(m.isPrevented){return this}if(h){var l=this.triggerPreventable("before:detach");if(l.isPrevented){return this}this.destroyChildren({checkEmpty:false});this.trigger("detach")}if(i){var k=f(j.el);this.$el.replaceWith(k);this.setElement(k)}this.$(".aui-sidebar-group").each(c.bind(function(o,p){var r=new e({el:p});var q=!!this.getGroup(r.id);if(q){d.warn('Duplicated IDs detected. There are more than one NavigationGroup with id data-id="'+r.id+'"')}this.proxyChildEvents(r);this.children.add(r,r.id)},this));this.trigger("render");return this},deselectAllGroups:function(){this.children.call("deselect")},replaceGroup:function(h,j){var i=this.getGroup(h);i.$el.replaceWith(j.$el);j.cid=i.cid;this.children.remove(i);this.children.add(j,j.id)},getGroup:function(h){return this.children.findByCustom(h)},getGroupAt:function(h){return this.children.findByIndex(h)},getItem:function(h){return this.getDefaultGroup().getItem(h)},getElement:function(){return this.el},getDefaultGroup:function(){return this.getGroup("sidebar-navigation-panel")},isProjectSidebar:function(){return !b},getSelectedScopeFilterId:function(){return this.$(".scope-filter a.scope-filter-trigger").attr("data-scope-filter-id")},setReportsItemLink:function(i){var j=this.getGroup("sidebar-navigation-panel");var h=j.getItem("com.atlassian.jira.jira-projects-plugin:report-page");if(typeof h==="undefined"){h=j.getItem("com.pyxis.greenhopper.jira:global-sidebar-report")}if(h){h.ui.link.attr("href",i)}},getAUISidebar:function(){return AJS.sidebar(".aui-sidebar")},getContentContainer:function(){return this.$(".aui-sidebar-body .sidebar-content-container")},getSelectedNavigationItem:function(){return this.getDefaultGroup().getSelectedNavigationItem()},hasASelectedItem:function(){return this.getDefaultGroup().hasASelectedItem()},dim:function(){this.$el.attr({dimmed:"","aria-hidden":"true"})},undim:function(){this.$el.removeAttr("dimmed");this.$el.removeAttr("aria-hidden")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-component', location = '/sidebar/component/component-namespaces.js' */
(function(){var a=require("jira/projects/sidebar/component/navigation-group-factory");var b=require("jira/projects/sidebar/component");AJS.namespace("JIRA.Projects.Sidebar.Component",null,b);AJS.namespace("JIRA.Projects.Sidebar.Component.NavigationItem",null,require("jira/projects/sidebar/component/navigation-item"));AJS.namespace("JIRA.Projects.Sidebar.Component.NavigationSubgroup",null,require("jira/projects/sidebar/component/navigation-subgroup"));AJS.namespace("JIRA.Projects.Sidebar.Component.NavigationGroup",null,require("jira/projects/sidebar/component/navigation-group"));AJS.namespace("JIRA.Projects.Sidebar.Component.NavigationGroup.build",null,a.build)})();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-analytics', location = '/sidebar/analytics/hash.js' */
define("jira/projects/sidebar/analytics/hash",["underscore"],function(b){var e=[];function c(f,g){return f.indexOf(g)===0}function d(f,g){return f.substring(c(f,g)?g.length:0)}function a(g){var f;var j=0;if(!g){return""}for(var h=0;h<g.length;h+=1){f=g.charCodeAt(h);j=((j*32)-j)+f;j|=0}return j}return{prefixedHash:function(f){var g=b.find(e,b.partial(c,f))||"";return{prefix:g,hash:g+a(d(f,g))}},addPrefix:function(f){if(f&&!b.contains(e,f)){e.push(f)}},clearPrefixes:function(){e.length=0}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-analytics', location = '/sidebar/analytics/analytics.js' */
define("jira/projects/sidebar/analytics/analytics",["jira/api/projects/sidebar","jira/projects/sidebar/analytics/hash","jira/util/data/meta","jira/analytics","jquery"],function(h,f,d,j,g){function m(n){return f.prefixedHash(n||"NONE")}function b(n,o){j.send({name:"jira.project.centric.navigation.sidebar."+n,data:o})}var k="proj.config";function a(){return g('meta[name="admin.active.section"]').attr("content")==="atl.jira.proj.config"}function c(n){return i.indexOf([k,n].join("."))!==-1}function e(n){var p=n.getAUISidebar();var o=g();o=o.add(p.$el);o=o.add(p.submenus.inlineDialog);o.on("click","a",function(){var r=m(g(this).attr("data-link-id"));var q={id:r.hash,prefix:r.prefix};var t=d.get("sidebar-source-page");if(t){q.sidebarSourcePage=t}else{if(g(".issue-tools button.expand").length>0){q.sidebarSourcePage="search-el"}else{if(g(".navigation-tools button.collapse").length>0){q.sidebarSourcePage="fullscreen-el"}else{if(a()){var s=g('meta[name="admin.active.tab"]').attr("content");s=s.replace("com.atlassian.servicedesk.project-ui:","");if(c(s)){q.sidebarSourcePage=[k,s].join(".")}else{q.sidebarSourcePage=k}}}}}if(i.indexOf(q.sidebarSourcePage)===-1){q.sidebarSourcePage="unknown"}b("click.link",q)})}var i=["search-el","fullscreen-el","search","fullscreen","rapid-board","service-desk","proj.config","proj.config.view_project_summary","proj.config.view_project_issuetypes","proj.config.project-issuetypes-expand","proj.config.view_project_workflows","proj.config.view_project_screens","proj.config.view_project_fields","proj.config.view_project_versions","proj.config.view_project_components","proj.config.view_project_roles","proj.config.view_project_permissions","proj.config.view_project_issuesecurity","proj.config.view_project_notifications","proj.config.devstatus-admin-page-link","proj.config.hipchat-project-admin-page-link","proj.config.view_issue_collectors","proj.config.sd-project-request-types-item","proj.config.sd-project-request-security-item","proj.config.sd-project-portal-settings-item","proj.config.sd-project-feedback-settings-item","proj.config.sd-project-email-settings-item","proj.config.sd-project-confluence-kb-item","proj.config.sd-project-sidebar-sla","proj.config.sd-project-automation-item"];function l(){h.getSidebar().done(function(n){if(n.isProjectSidebar()){b("load.project")}else{b("load.global")}e(n)})}return{register:l}});AJS.namespace("JIRA.Projects.Sidebar.Analytics",null,require("jira/projects/sidebar/analytics/analytics"));AJS.namespace("JIRA.Projects.Sidebar.Analytics.Hash",null,require("jira/projects/sidebar/analytics/hash"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:scope-filter', location = '/sidebar/scopefilter/templates.soy' */
// This file was automatically generated from templates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Projects.Sidebar.ScopeFilter.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Projects == 'undefined') { JIRA.Projects = {}; }
if (typeof JIRA.Projects.Sidebar == 'undefined') { JIRA.Projects.Sidebar = {}; }
if (typeof JIRA.Projects.Sidebar.ScopeFilter == 'undefined') { JIRA.Projects.Sidebar.ScopeFilter = {}; }
if (typeof JIRA.Projects.Sidebar.ScopeFilter.Templates == 'undefined') { JIRA.Projects.Sidebar.ScopeFilter.Templates = {}; }


JIRA.Projects.Sidebar.ScopeFilter.Templates.collapsedContainer = function(opt_data, opt_ignored) {
  return '<div class="aui-sidebar-group aui-sidebar-group-actions collapsed-scope-filter-container"><!-- AUI sidebar does a if (!hasSubmenu) check while initializing submenu hence we need aui-nav element even if it is empty, so that our sidebar group gets properly initialized --><ul class="aui-nav"><!-- On first hover, while we are waiting for data, this content will be displayed in submenu inline dialog. Once we have data we will replace this with the actual data in DOM. Any further hover will clone the new DOM structure (actual data without progress indicator) and display in the submenu dialog. This is the only way I could find to pass a progress indicator to submenu inside dialog, because AUI does a destructive `submenuInlineDialog.innerHTML=` AFTER `sidebarSubmenuBeforeShow` event handler is executed, hence losing anything injected from it--><li><aui-spinner size="small" style="margin: auto"/></li></ul></div>';
};
if (goog.DEBUG) {
  JIRA.Projects.Sidebar.ScopeFilter.Templates.collapsedContainer.soyTemplateName = 'JIRA.Projects.Sidebar.ScopeFilter.Templates.collapsedContainer';
}


JIRA.Projects.Sidebar.ScopeFilter.Templates.collapsedScopeList = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  if (opt_data.selectableScopes || opt_data.createActions) {
    output += '<div class="aui-nav-heading" title="' + soy.$$escapeHtml('Boards in this project') + '"><strong class="collapsed-scope-header">' + soy.$$escapeHtml('Boards in this project') + '</strong></div><ul class="aui-nav collapsed-scope-list" title="' + soy.$$escapeHtml('Select a board') + '">';
    if (opt_data.selectedScope) {
      output += '<li class="scope-filter selected-scope-filter" title="' + soy.$$escapeHtml(opt_data.selectedScope.label) + '">' + soy.$$escapeHtml(opt_data.selectedScope.label) + '</li>';
      var scopeFilterList21 = opt_data.selectableScopes;
      var scopeFilterListLen21 = scopeFilterList21.length;
      for (var scopeFilterIndex21 = 0; scopeFilterIndex21 < scopeFilterListLen21; scopeFilterIndex21++) {
        var scopeFilterData21 = scopeFilterList21[scopeFilterIndex21];
        output += JIRA.Projects.Sidebar.ScopeFilter.Templates.collapsedSelectableItem({itemClass: 'scope-filter', anchorClass: scopeFilterData21.styleClass, label: scopeFilterData21.label, link: scopeFilterData21.link});
      }
    }
    if (opt_data.createActions && opt_data.createActions[0]) {
      output += '<hr/>';
      var createActionList31 = opt_data.createActions;
      var createActionListLen31 = createActionList31.length;
      for (var createActionIndex31 = 0; createActionIndex31 < createActionListLen31; createActionIndex31++) {
        var createActionData31 = createActionList31[createActionIndex31];
        output += JIRA.Projects.Sidebar.ScopeFilter.Templates.collapsedSelectableItem({itemClass: 'create-scope-action', anchorClass: createActionData31.styleClass, label: createActionData31.label, link: createActionData31.link});
      }
    }
    output += '</ul>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Projects.Sidebar.ScopeFilter.Templates.collapsedScopeList.soyTemplateName = 'JIRA.Projects.Sidebar.ScopeFilter.Templates.collapsedScopeList';
}


JIRA.Projects.Sidebar.ScopeFilter.Templates.scopeListError = function(opt_data, opt_ignored) {
  return '<div class="scope-filter-error-message-container"><div class="scope-filter-error-message">' + soy.$$escapeHtml('We\x27re having trouble retrieving the list of boards') + '</div><div class="aui-button aui-button-compact">' + soy.$$escapeHtml('Try again') + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Projects.Sidebar.ScopeFilter.Templates.scopeListError.soyTemplateName = 'JIRA.Projects.Sidebar.ScopeFilter.Templates.scopeListError';
}


JIRA.Projects.Sidebar.ScopeFilter.Templates.collapsedSelectableItem = function(opt_data, opt_ignored) {
  return '<li class="' + soy.$$escapeHtml(opt_data.itemClass) + '"><a href="' + soy.$$escapeHtml(opt_data.link) + '" title="' + soy.$$escapeHtml(opt_data.label) + '"' + ((opt_data.anchorClass) ? ' class="' + soy.$$escapeHtml(opt_data.anchorClass) + '"' : '') + '>' + soy.$$escapeHtml(opt_data.label) + '</a></li>';
};
if (goog.DEBUG) {
  JIRA.Projects.Sidebar.ScopeFilter.Templates.collapsedSelectableItem.soyTemplateName = 'JIRA.Projects.Sidebar.ScopeFilter.Templates.collapsedSelectableItem';
}


JIRA.Projects.Sidebar.ScopeFilter.Templates.renderScopefilterItems = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  if (opt_data.scopeFilterItems.length > 0) {
    output += '<div class="aui-dropdown2-section"><strong>' + soy.$$escapeHtml('Boards in this project') + '</strong><ul class="aui-list-truncate">';
    var itemList67 = opt_data.scopeFilterItems;
    var itemListLen67 = itemList67.length;
    for (var itemIndex67 = 0; itemIndex67 < itemListLen67; itemIndex67++) {
      var itemData67 = itemList67[itemIndex67];
      output += '<li><a href="' + soy.$$escapeHtml(itemData67.link) + '" title="' + soy.$$escapeHtml(itemData67.label) + '" data-scope-filter-id="' + soy.$$escapeHtml(itemData67.id) + '">' + soy.$$escapeHtml(itemData67.label) + '</a></li>';
    }
    output += '</ul></div>';
  } else if (! opt_data.canCreateScope) {
    output += '<div class="aui-dropdown2-section"><strong>' + soy.$$escapeHtml('Boards in this project') + '</strong><div class="empty-boards-list">' + soy.$$escapeHtml('No boards to display') + '</div></div>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Projects.Sidebar.ScopeFilter.Templates.renderScopefilterItems.soyTemplateName = 'JIRA.Projects.Sidebar.ScopeFilter.Templates.renderScopefilterItems';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:scope-filter', location = '/sidebar/scopefilter/templates.js' */
define("jira/projects/sidebar/scopefilter/templates",function(){return JIRA.Projects.Sidebar.ScopeFilter.Templates});AJS.namespace("JIRA.Projects.Sidebar.ScopeFilter.Templates",null,require("jira/projects/sidebar/scopefilter/templates"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:scope-filter', location = '/sidebar/scopefilter/model.js' */
define("jira/projects/sidebar/scopefilter/model",["underscore"],function(a){var b=function(c){this.selectedScope=null;this.createScopeActions=[];this.selectableScopes=[];this.setData(c)};b.prototype.setData=function(c){if(!c){return}if(c.selectedScope){this.selectedScope=c.selectedScope}if(c.createScopeActions.length){this.createScopeActions=c.createScopeActions}if(c.scopes.length){if(c.selectedScope){this.selectableScopes=a.reject(c.scopes,function(d){return d.label===this.selectedScope.label&&d.link===this.selectedScope.link},this)}else{this.selectableScopes=c.scopes}}};b.prototype.getSelectedScope=function(){return this.selectedScope};b.prototype.getSelectableScopes=function(){return this.selectableScopes};b.prototype.getCreateScopeActions=function(){return this.createScopeActions};b.prototype.shouldDisplayWhenSidebarIsCollapsed=function(){var d=this.createScopeActions.length>0;var c=this.selectableScopes.length>0;return d||c};return b});AJS.namespace("JIRA.Projects.Sidebar.ScopeFilter.Model",null,require("jira/projects/sidebar/scopefilter/model"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:scope-filter', location = '/sidebar/scopefilter/scopeFilterDropdownView.js' */
define("jira/projects/sidebar/scopefilter/scopefilter-view",["jquery","jira/projects/libs/marionette","jira/projects/sidebar/scopefilter/templates"],function(b,c,a){return c.ItemView.extend({template:a.renderScopefilterItems,events:{"aui-dropdown2-show":"show"},initialize:function(d){this.controller=d.controller;this.rendered=false},show:function(){if(this.rendered){return}var d=b('<aui-spinner size="small"/>').css("margin","auto");this.$el.prepend(d);this.$el.addClass("data-load-in-progress");this.controller.fetchScopeFilterList().then(this.onFetchSuccess.bind(this)).fail(this.onFetchFail.bind(this)).always(function(){this.$el.addClass("data-load-finished").removeClass("data-load-in-progress");d.remove()}.bind(this))},onFetchSuccess:function(){this.$el.addClass("data-load-success");var f=this.model.getSelectableScopes();var d=!!this.model.getCreateScopeActions().length;if(f){var e=this.template({scopeFilterItems:f,canCreateScope:d});this.$el.prepend(e);this.rendered=true}},onFetchFail:function(){this.$el.addClass("data-load-fail");var d=a.scopeListError();this.$el.prepend(d);this.rendered=true;this.$el.find(".scope-filter-error-message-container .aui-button").on("click",this.onRetryClick.bind(this))},onRetryClick:function(f){f.stopPropagation();var d=this.$el.find(".scope-filter-error-message-container");if(d.length){d.remove()}this.rendered=false;return this.show()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:scope-filter', location = '/sidebar/scopefilter/collapsed-view.js' */
define("jira/projects/sidebar/scopefilter/collapsed-view",["jquery","jira/projects/libs/marionette","jira/projects/sidebar/scopefilter/templates"],function(b,c,a){return c.ItemView.extend({template:a.collapsedContainer,ui:{trigger:".aui-sidebar-group-actions"},events:{"aui-sidebar-submenu-before-show @ui.trigger":"show"},initialize:function(d){this.controller=d.controller;this.rendered=false},serializeData:function(){return{selectedScope:this.model.getSelectedScope(),selectableScopes:this.model.getSelectableScopes(),createActions:this.model.getCreateScopeActions()}},show:function(e,d){if(this.rendered){return}this.$el.addClass("data-load-in-progress");this.controller.fetchScopeFilterList().then(this.onFetchSuccess.bind(this,d)).fail(this.onFetchFail.bind(this,d)).always(function(){this.$el.addClass("data-load-finished").removeClass("data-load-in-progress")}.bind(this))},onFetchSuccess:function(e){this.$el.addClass("data-load-success");var d=a.collapsedScopeList(this.serializeData());this.renderPreparedTemplate(e,d);this.rendered=true},onFetchFail:function(e){this.$el.addClass("data-load-fail");var d=a.scopeListError();this.renderPreparedTemplate(e,d);b(e).find(".scope-filter-error-message-container .aui-button").click(this.onRetryClick.bind(this,e))},renderPreparedTemplate:function(d,e){this.ui.trigger.html(e);b(d).find(".aui-navgroup-inner").html(e)},onRetryClick:function(d){return this.show(null,d)}})});AJS.namespace("JIRA.Projects.Sidebar.ScopeFilter.CollapsedView",null,require("jira/projects/sidebar/scopefilter/collapsed-view"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:scope-filter', location = '/sidebar/scopefilter/scopeFilterController.js' */
define("jira/projects/sidebar/scopefilter/controller",["jquery","wrm/require","wrm/data","jira/api/projects","wrm/context-path","jira/util/logger","jira/projects/libs/marionette","jira/projects/sidebar/scopefilter/model","jira/projects/sidebar/scopefilter/scopefilter-view","jira/projects/sidebar/scopefilter/collapsed-view"],function(c,d,i,a,b,j,f,g,h,e){return f.Controller.extend({initialize:function(k){this.sidebarAPI=k.sidebarAPI;this.sidebar=this.sidebarAPI.getAUISidebar();this.$sidebarContentContainer=this.sidebarAPI.getContentContainer();if(!this.sidebarAPI.isProjectSidebar()){return}var l=i.claim("scope-filter-data");this.scopeFilterModel=new g(l);this.dataFetched=false;this.shouldRenderScopeFilterView=!this.scopeFilterModel.getSelectableScopes().length;if(this.sidebar.isCollapsed()){this.createCollapsedScopeFilterView()}else{this.createScopeFilterView()}this.listenToSidebarEvents()},createCollapsedScopeFilterView:function(){if(!this.scopeFilterModel.shouldDisplayWhenSidebarIsCollapsed()){return}this.collapsedView=new e({model:this.scopeFilterModel,controller:this});this.collapsedView.render();this.$sidebarContentContainer.prepend(this.collapsedView.el);j.trace("sidebar.scopefilter.collapsed")},createScopeFilterView:function(){if(!this.shouldRenderScopeFilterView){return}this.scopeFilterDropdownView=new h({el:"#sidebar-scope-filter-list",model:this.scopeFilterModel,controller:this})},fetchScopeFilterList:function(){var k=c.Deferred();if(this.dataFetched||this.scopeFilterModel.getSelectableScopes().length){return k.resolve()}var l=b()+"/rest/projects/1.0/project/"+a.getCurrentProjectKey()+"/rapidviews";return c.ajax({contentType:"application/json",type:"GET",url:l}).done(function(m){this.dataFetched=true;this.scopeFilterModel.setData(m)}.bind(this))},listenToSidebarEvents:function(){this.sidebar.on("collapse-start",function(){if(this.collapsedView){return}this.createCollapsedScopeFilterView()}.bind(this));this.sidebar.on("expand-end",function(){if(this.collapsedView){this.collapsedView.destroy();this.collapsedView=null}if(this.scopeFilterDropdownView){return}this.createScopeFilterView()}.bind(this))}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:scope-filter', location = '/sidebar/scopefilter/scopeFilter-init.js' */
require(["jira/api/projects/sidebar","jira/projects/sidebar/scopefilter/controller"],function(a,b){a.getSidebar().done(function(c){new b({sidebarAPI:c})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:feature-discovery', location = '/sidebar/feature-discovery/feature-discovery.js' */
define("jira/projects/sidebar/feature-discovery",["jira/api/projects","jira/api/projects/sidebar","wrm/context-path","underscore","jquery"],function(d,e,a,c,f){function b(i,h){c.each(h,function(k){var j=i.getItem(k);if(j){j.removeBadge()}})}function g(h){e.getSidebar().done(function(i){b(i,h)})}return{updateBadges:function(){if(typeof d.getCurrentProjectKey()==="undefined"){return}f.ajax({url:a()+"/rest/projects/1.0/project/"+encodeURIComponent(d.getCurrentProjectKey())+"/badges",type:"PUT",contentType:"application/json"}).done(function(h){g(h.badgesToRemove||[])})}}});AJS.namespace("JIRA.Projects.Sidebar.FeatureDiscovery",null,require("jira/projects/sidebar/feature-discovery"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-last-visited', location = '/sidebar/lastvisited/last-visited-updater.js' */
define("jira/projects/sidebar/lastvisited/updater",["jira/api/projects","jira/util/logger","wrm/context-path","jquery"],function(d,b,a,e){function c(f,g,h){if(!f){return}h=h||function(){b.trace("last.visited.item.saved")};e.ajax({url:a()+"/rest/projects/1.0/project/"+encodeURIComponent(f)+"/lastVisited",type:"PUT",contentType:"application/json",data:JSON.stringify({id:g})}).done(h)}return{start:function(g,i){var f=d.getCurrentProjectKey();var h=g.getSelectedNavigationItem();if(h){c(f,h.getId(),i)}g.on("before:navigate:prevented",function(j){c(f,j.emitter.id,i)});g.on("before:select",function(j){if(j.isInitial){c(f,j.emitter.id,i)}})}}});AJS.namespace("JIRA.Projects.Sidebar.LastVisited.Updater",null,require("jira/projects/sidebar/lastvisited/updater"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar', location = '/sidebar/sidebar-init.js' */
define("jira/projects/sidebar/sidebar-initializer",["require"],function(d){var l=d("jira/util/logger");var c=d("jira/api/projects");var h=d("jira/api/projects/sidebar");var m=d("jira/project/types/warning/dialog");var j=d("jira/projects/sidebar/lastvisited/updater");var b=d("jira/projects/sidebar/component");var a=d("jira/projects/sidebar/analytics/analytics");var i=d("jira/projects/sidebar/analytics/hash");var g=d("wrm/context-path");var n=d("jquery");var k=d("underscore");var f=["NONE","com.atlassian.jira.jira-projects-plugin:project-issue-search-link","com.atlassian.jira.jira-projects-plugin:components-page","com.atlassian.jira.jira-projects-plugin:reports-panel","com.atlassian.jira.jira-projects-plugin:summary-panel","com.atlassian.jira.jira-projects-plugin:summary-page","com.atlassian.jira.jira-projects-plugin:components-page","com.atlassian.jira.jira-projects-plugin:release-page","com.atlassian.jira.jira-projects-plugin:release-sidebar-version-","com.atlassian.jira.jira-projects-plugin:report-page","com.pyxis.greenhopper.jira:global-sidebar-report","com.pyxis.greenhopper.jira:global-sidebar-plan-scrum","com.pyxis.greenhopper.jira:global-sidebar-work-scrum","com.pyxis.greenhopper.jira:global-sidebar-work-kanban","com.pyxis.greenhopper.jira:project-sidebar-plan-scrum","com.pyxis.greenhopper.jira:project-sidebar-work-scrum","com.pyxis.greenhopper.jira:project-sidebar-work-kanban","com.atlassian.jira.jira-projects-issue-navigator:embedded-issue-navigator-link","com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator"];var e=function(s){function p(u){var t=n(".aui-sidebar .aui-badge");t.tooltip({gravity:"w"});if(u.isCollapsed()){t.tooltip("disable")}u.on("collapse-end expand-end",function(){n(".tipsy").remove();n(".aui-sidebar .aui-badge").tooltip("toggleEnabled")})}function q(u){function t(){u.getAUISidebar().reflow()}setTimeout(t,200);setInterval(t,5*60*1000)}function r(t){t.on("collapse-start",function(){var u=t.$el.find(".scope-filter-trigger");if(u.hasClass("aui-dropdown2-active")){u.trigger("aui-button-invoke")}})}function o(){m.init({onProjectTypeChanged:function(){var t=c.getCurrentProjectKey();window.location.replace(g()+"/projects/"+t+"/summary")}});l.trace("project.types.warning.messages.init")}h.initAPI(new b({el:s.$el[0]}));k(f).each(i.addPrefix);a.register();r(s);p(s);o();h.getSidebar().done(function(t){q(t);j.start(t)})};return{init:e}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = '/sidebar/project-shortcuts/templates.soy' */
// This file was automatically generated from templates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Projects.Sidebar.ProjectShortcuts.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Projects == 'undefined') { JIRA.Projects = {}; }
if (typeof JIRA.Projects.Sidebar == 'undefined') { JIRA.Projects.Sidebar = {}; }
if (typeof JIRA.Projects.Sidebar.ProjectShortcuts == 'undefined') { JIRA.Projects.Sidebar.ProjectShortcuts = {}; }
if (typeof JIRA.Projects.Sidebar.ProjectShortcuts.Templates == 'undefined') { JIRA.Projects.Sidebar.ProjectShortcuts.Templates = {}; }


JIRA.Projects.Sidebar.ProjectShortcuts.Templates.content = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.canManage || opt_data.numberOfShortcuts > 0) {
    output += '<div class="aui-sidebar-group jira-sidebar-group-with-divider project-shortcuts-group' + ((opt_data.numberOfShortcuts == 0) ? ' project-shortcuts-group_empty' : '') + '" data-id="project-shortcuts-group"><span class="aui-icon aui-icon-small aui-iconfont-link">' + soy.$$escapeHtml('Project shortcuts') + '</span><div class="aui-nav-heading">' + soy.$$escapeHtml('Project shortcuts') + '</div>' + ((opt_data.canManage) ? '<p class="project-shortcuts-group__description' + ((opt_data.numberOfShortcuts > 0) ? ' hidden' : '') + '">' + soy.$$escapeHtml('Add a link to useful information for your whole team to see.') + '</p>' : '') + '<ul class="aui-nav project-shortcuts-list">';
    if (opt_data.shortcuts) {
      var shortcutList26 = opt_data.shortcuts;
      var shortcutListLen26 = shortcutList26.length;
      for (var shortcutIndex26 = 0; shortcutIndex26 < shortcutListLen26; shortcutIndex26++) {
        var shortcutData26 = shortcutList26[shortcutIndex26];
        output += JIRA.Projects.Sidebar.ProjectShortcuts.Templates.shortcut({id: shortcutData26.id, name: shortcutData26.name, url: shortcutData26.url, icon: shortcutData26.icon, canManage: opt_data.canManage, iconsMap: opt_data.iconsMap, isWithIcon: opt_data.isWithIcons});
      }
    }
    output += ((opt_data.canManage) ? '<li><a class="aui-nav-item project-shortcuts-group__add" href="#" data-link-id="project-shortcut-add"><span class="aui-icon aui-icon-large aui-iconfont-add-small"></span><span class="aui-nav-item-label">' + soy.$$escapeHtml('Add link') + '</span></a></li>' : '') + '</ul></div>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Projects.Sidebar.ProjectShortcuts.Templates.content.soyTemplateName = 'JIRA.Projects.Sidebar.ProjectShortcuts.Templates.content';
}


JIRA.Projects.Sidebar.ProjectShortcuts.Templates.shortcut = function(opt_data, opt_ignored) {
  return '<li class="project-shortcut"><a class="aui-nav-item project-shortcuts-group__link" href="' + soy.$$escapeHtml(opt_data.url) + '" title="' + soy.$$escapeHtml(opt_data.name) + '" target="_blank" data-shortcut-id="' + soy.$$escapeHtml(opt_data.id) + '" data-link-id="project-shortcut-' + soy.$$escapeHtml(opt_data.id) + '">' + ((opt_data.isWithIcon) ? '<span class="aui-icon aui-icon-large ' + JIRA.Projects.Sidebar.ProjectShortcuts.Templates.icon({iconId: opt_data.icon, iconsMap: opt_data.iconsMap}) + '" data-project-shortcuts-icon-id="' + soy.$$escapeHtml(opt_data.icon) + '">' + soy.$$escapeHtml('Project shortcut icon') + '</span>' : '') + '<span class="aui-nav-item-label">' + soy.$$escapeHtml(opt_data.name) + '</span></a>' + ((opt_data.canManage) ? '<button class="aui-button aui-button-subtle aui-dropdown2-trigger aui-dropdown2-trigger-arrowless project-shortcuts-group__actions" aria-owns="project-shortcuts-dropdown_' + soy.$$escapeHtml(opt_data.id) + '" aria-controls="project-shortcuts-dropdown_' + soy.$$escapeHtml(opt_data.id) + '" aria-haspopup="true"><span class="aui-icon aui-icon-small aui-iconfont-more">' + soy.$$escapeHtml('Filter Actions') + '</span></button><div id="project-shortcuts-dropdown_' + soy.$$escapeHtml(opt_data.id) + '" class="aui-dropdown2 aui-style-default project-shortcuts-group__dropdown"><ul class="aui-list-truncate"><li><a class="project-shortcuts-group__actions__edit" href="#">' + soy.$$escapeHtml('Edit') + '</a></li><li><a class="project-shortcuts-group__actions__delete  " href="#">' + soy.$$escapeHtml('Delete') + '</a></li></ul></div>' : '') + '</li>';
};
if (goog.DEBUG) {
  JIRA.Projects.Sidebar.ProjectShortcuts.Templates.shortcut.soyTemplateName = 'JIRA.Projects.Sidebar.ProjectShortcuts.Templates.shortcut';
}


JIRA.Projects.Sidebar.ProjectShortcuts.Templates.icon = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  if (opt_data.iconsMap) {
    var id__soy85 = opt_data.iconId && opt_data.iconsMap[opt_data.iconId] ? opt_data.iconId : '1';
    output += (opt_data.iconsMap[id__soy85]) ? soy.$$escapeHtml(opt_data.iconsMap[id__soy85].className) : '';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Projects.Sidebar.ProjectShortcuts.Templates.icon.soyTemplateName = 'JIRA.Projects.Sidebar.ProjectShortcuts.Templates.icon';
}


JIRA.Projects.Sidebar.ProjectShortcuts.Templates.shortcutFormFields = function(opt_data, opt_ignored) {
  return '<div class="project-shortcuts-field-group">' + aui.form.textField({name: 'project-shortcuts-url-' + opt_data.action, isRequired: true, id: 'project-shortcuts-url-' + opt_data.action, labelContent: 'Web address', placeholderText: 'e.g. http://www.atlassian.com', extraClasses: 'project-shortcuts-url', value: opt_data.url ? opt_data.url : '', errorTexts: opt_data.errors.urlError ? [opt_data.errors.urlError] : []}) + '<div class="field-group project-shortcuts-name">' + aui.form.label({isRequired: true, forField: 'project-shortcuts-name-' + opt_data.action, content: 'Label'}) + '<div class="project-shortcuts-name-icon-block"><div class="project-shortcuts-icon-picker-block"></div>' + aui.form.input({name: 'project-shortcuts-name-' + opt_data.action, id: 'project-shortcuts-name-' + opt_data.action, placeholderText: 'e.g. Atlassian website', extraClasses: 'project-shortcuts-name-input' + (opt_data.isWithIcon ? ' project-shortcuts-name-input-with-icon' : ''), value: opt_data.name ? opt_data.name : '', type: 'text'}) + '</div>' + ((opt_data.errors.iconError) ? aui.form.fieldError({message: opt_data.errors.iconError}) : '') + ((opt_data.errors.nameError) ? aui.form.fieldError({message: opt_data.errors.nameError}) : '') + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Projects.Sidebar.ProjectShortcuts.Templates.shortcutFormFields.soyTemplateName = 'JIRA.Projects.Sidebar.ProjectShortcuts.Templates.shortcutFormFields';
}


JIRA.Projects.Sidebar.ProjectShortcuts.Templates.iconsPicker = function(opt_data, opt_ignored) {
  return '<span>' + JIRA.Projects.Sidebar.ProjectShortcuts.Templates.iconsList(opt_data) + '</span>' + aui.dropdown2.trigger({menu: {id: 'project-shortcuts-icons-list-' + opt_data.cid}, extraClasses: 'aui-button project-shortcuts-icons-picker', iconClasses: 'aui-icon aui-icon-large  ' + soy.$$escapeHtml(opt_data.icon.className), extraAttributes: {href: '#'}});
};
if (goog.DEBUG) {
  JIRA.Projects.Sidebar.ProjectShortcuts.Templates.iconsPicker.soyTemplateName = 'JIRA.Projects.Sidebar.ProjectShortcuts.Templates.iconsPicker';
}


JIRA.Projects.Sidebar.ProjectShortcuts.Templates.iconsList = function(opt_data, opt_ignored) {
  var output = '<div id="project-shortcuts-icons-list-' + soy.$$escapeHtml(opt_data.cid) + '" aria-hidden="true" class="aui-style-default aui-dropdown2 project-shortcuts-icons-list aui-dropdown2-section"><ul>';
  var iconList140 = opt_data.iconsList;
  var iconListLen140 = iconList140.length;
  for (var iconIndex140 = 0; iconIndex140 < iconListLen140; iconIndex140++) {
    var iconData140 = iconList140[iconIndex140];
    output += '<li><a class="project-shortcuts-icons-icon" data-project-shortcuts-icons-id="' + soy.$$escapeHtml(iconData140.name) + '"><span class="aui-icon aui-icon-large ' + soy.$$escapeHtml(iconData140.className) + '">' + soy.$$escapeHtml('Project shortcut icon') + '</span></a></li>';
  }
  output += '</ul></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Projects.Sidebar.ProjectShortcuts.Templates.iconsList.soyTemplateName = 'JIRA.Projects.Sidebar.ProjectShortcuts.Templates.iconsList';
}


JIRA.Projects.Sidebar.ProjectShortcuts.Templates.addDialog = function(opt_data, opt_ignored) {
  return '<form action="" method="post" class="aui"><h3>' + soy.$$escapeHtml('Add link') + '</h3><fieldset>' + JIRA.Projects.Sidebar.ProjectShortcuts.Templates.shortcutFormFields(soy.$$augmentMap(opt_data, {action: 'add'})) + '<div class="buttons-container"><div class="buttons"><button class="aui-button project-shortcuts-submit aui-button-primary">' + soy.$$escapeHtml('Add') + '</button><button class="aui-button aui-button-link project-shortcuts-cancel">' + soy.$$escapeHtml('Cancel') + '</button></div></div></fieldset></form>';
};
if (goog.DEBUG) {
  JIRA.Projects.Sidebar.ProjectShortcuts.Templates.addDialog.soyTemplateName = 'JIRA.Projects.Sidebar.ProjectShortcuts.Templates.addDialog';
}


JIRA.Projects.Sidebar.ProjectShortcuts.Templates.editDialogChrome = function(opt_data, opt_ignored) {
  return '<section role="dialog" id="edit-project-shortcut-dialog" class="aui-layer aui-dialog2 aui-dialog2-small" aria-hidden="true" data-aui-remove-on-hide="true"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">' + soy.$$escapeHtml('Edit link') + '</h2></header></section>';
};
if (goog.DEBUG) {
  JIRA.Projects.Sidebar.ProjectShortcuts.Templates.editDialogChrome.soyTemplateName = 'JIRA.Projects.Sidebar.ProjectShortcuts.Templates.editDialogChrome';
}


JIRA.Projects.Sidebar.ProjectShortcuts.Templates.editDialog = function(opt_data, opt_ignored) {
  return '<div class="aui-dialog2-content"><form class="aui" method="post">' + JIRA.Projects.Sidebar.ProjectShortcuts.Templates.shortcutFormFields(soy.$$augmentMap(opt_data, {action: 'edit'})) + '<button type="submit" class="project-shortcuts-hidden-submit"></button></form></div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><button class="aui-button aui-button-primary project-shortcuts-submit">' + soy.$$escapeHtml('Save') + '</button><button class="aui-button aui-button-link project-shortcuts-cancel">' + soy.$$escapeHtml('Cancel') + '</button></div></footer>';
};
if (goog.DEBUG) {
  JIRA.Projects.Sidebar.ProjectShortcuts.Templates.editDialog.soyTemplateName = 'JIRA.Projects.Sidebar.ProjectShortcuts.Templates.editDialog';
}


JIRA.Projects.Sidebar.ProjectShortcuts.Templates.deleteDialog = function(opt_data, opt_ignored) {
  return '<section role="dialog" id="delete-project-shortcut-dialog" class="aui-layer aui-dialog2 aui-dialog2-small" aria-hidden="true" data-aui-remove-on-hide="true"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">' + soy.$$escapeHtml('Delete shortcut') + '</h2></header><div class="aui-dialog2-content"><p>' + soy.$$escapeHtml('Are you sure you want to delete this shortcut?') + '</p></div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><button class="aui-button aui-button-primary project-shortcuts-submit">' + soy.$$escapeHtml('Delete') + '</button><button class="aui-button aui-button-link project-shortcuts-cancel">' + soy.$$escapeHtml('Cancel') + '</button></div></footer></section>';
};
if (goog.DEBUG) {
  JIRA.Projects.Sidebar.ProjectShortcuts.Templates.deleteDialog.soyTemplateName = 'JIRA.Projects.Sidebar.ProjectShortcuts.Templates.deleteDialog';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = '/sidebar/project-shortcuts/templates.js' */
define("jira/projects/sidebar/project-shortcuts/templates",function(){return JIRA.Projects.Sidebar.ProjectShortcuts.Templates});AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Templates",null,require("jira/projects/sidebar/project-shortcuts/templates"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = '/sidebar/project-shortcuts/project-shortcuts-analytics.js' */
define("jira/projects/sidebar/project-shortcuts/analytics",["jira/ajs/dark-features","jira/analytics","jquery"],function(b,a,d){var e="a.project-shortcuts-group__link";var c=b.isEnabled("com.atlassian.jira.projects.ProjectCentricNavigation.ProjectShortcutIcons");return{initialize:function(f){this.projectId=f},initShortcutClick:function(j,h){var i=h.getAUISidebar();var g=d(j);var f=this;g.on("click",e,function(m){var l=g.find(e);var k=d(this);a.send({name:"jira.projects.shortcut.clicked",data:{shortcutId:k.data("shortcutId"),shortcutPosition:k.closest("li").index()+1,shortcutIconName:c?k.find(".aui-icon").data("projectShortcutsIconId"):"",shortcutCount:l.size(),isWithIcons:c,isSidebarCollapsed:i.isCollapsed(),projectId:f.projectId}})})},initDialogActions:function(g){var f=this;g.on("childview:edit:open",function(h,j){var i=j.collection.indexOf(j)+1;a.send({name:"jira.projects.shortcut.edit.dialog.opened",data:{isWithIcons:c,shortcutId:j.get("id"),shortcutPosition:i,shortcutCount:j.collection.size(),projectId:f.projectId}})});g.on("childview:edit:close",function(h,j,k){var i=j.collection.indexOf(j)+1;a.send({name:"jira.projects.shortcut.edit.dialog.closed",data:{isWithIcons:c,isSave:k,shortcutId:j.get("id"),shortcutPosition:i,shortcutCount:j.collection.size(),projectId:f.projectId}})});g.on("add:open",function(){a.send({name:"jira.projects.shortcut.add.dialog.opened",data:{isWithIcons:c,projectId:f.projectId}})});g.on("add:close",function(h){a.send({name:"jira.projects.shortcut.add.dialog.closed",data:{isWithIcons:c,isSave:h,projectId:f.projectId}})})},iconChanged:function(f,h,g){a.send({name:"jira.projects.shortcut.icon.changed",data:{iconName:h,oldIconName:g,shortcutId:f.isNew()?"":f.get("id"),isNew:f.isNew(),cid:f.cid,projectId:this.projectId}})},iconChangeConfirmed:function(f,g){a.send({name:"jira.projects.shortcut.icon.confirmed",data:{oldIconName:f.get("icon"),iconName:g,shortcutId:f.isNew()?"":f.get("id"),isNew:f.isNew(),cid:f.cid,projectId:this.projectId}})},iconPickerOpened:function(f){a.send({name:"jira.projects.shortcut.icon.picker.opened",data:{shortcutId:f.isNew()?"":f.get("id"),isNew:f.isNew(),cid:f.cid,projectId:this.projectId}})},iconPickerClosed:function(f,g){a.send({name:"jira.projects.shortcut.icon.picker.closed",data:{shortcutId:f.isNew()?"":f.get("id"),isNew:f.isNew(),cid:f.cid,isSave:g,projectId:this.projectId}})}}});AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Analytics",null,require("jira/projects/sidebar/project-shortcuts/analytics"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = '/sidebar/project-shortcuts/services/AvailableIcons.js' */
define("jira/projects/sidebar/project-shortcuts/services/available-icons",["underscore"],function(c){var d=[];var a={};var b=false;return{initialize:function(e){d=e||d;a={};c.each(e,function(f){a[f.name]=f})},getIconsList:function(){return d},getIconsMap:function(){return a},getAllIconsClasses:function(){return c.reduce(d,function(e,f){return e+f.className+" "},"")},getIconFromName:function(e){if(this.getIconsMap()[e]){return this.getIconsMap()[e]}if(this.getIconsList()[0]){return this.getIconsList()[0]}return{}},setWithIcons:function(e){b=e},isWithIcons:function(){return b}}});AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Services.AvailableIcons",null,require("jira/projects/sidebar/project-shortcuts/services/available-icons"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = '/sidebar/project-shortcuts/entities/Shortcut.js' */
define("jira/projects/sidebar/project-shortcuts/entities/shortcut",["jira/util/formatter","jira/util/logger","jira-projects-backbone","wrm/context-path"],function(e,d,g,b){function c(h){var i;try{i=JSON.parse(h.responseText)}catch(j){i={message:"We couldn\'t complete the action as there seems to be a communication issue."}}return i}return g.Model.extend({defaults:{url:"",name:"",icon:""},initialize:function(i,h){if(!h||!h.projectKey){throw"Project key is required"}this.projectKey=h.projectKey},urlRoot:function f(){return b()+"/rest/projects/1.0/project/"+encodeURIComponent(this.projectKey)+"/shortcut"},clear:function a(){this.unset("id");this.set("url",this.defaults.url);this.set("name",this.defaults.name);this.set("icon",this.defaults.icon)},save:function(){if(this.saving==true){return}this.saving=true;var i=this;i.trigger("save:start");var l=this.isNew()?"create":"update";this.sync(l,i).always(function h(){i.saving=false;i.trigger("save:finish")}).done(function j(m){i.set(m,{silent:true});d.trace("jira.projects.shortcuts."+l+".success");i.trigger("save:success")}).fail(function k(m){var n=c(m);d.trace("jira.projects.shortcuts."+l+".fail");i.trigger("save:failure",n)})},destroy:function(){if(this.saving==true){return}this.saving=true;var i=this;i.trigger("remove:start");var h=g.Model.prototype.destroy.apply(this,arguments);h.always(function(){i.saving=false;i.trigger("remove:finish")}).done(function j(){i.trigger("remove:success")}).fail(function k(l){var m=c(l);i.trigger("remove:failure",m)});return h}})});AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Entities.Shortcut",null,require("jira/projects/sidebar/project-shortcuts/entities/shortcut"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = '/sidebar/project-shortcuts/entities/ShortcutErrors.js' */
define("jira/projects/sidebar/project-shortcuts/entities/shortcut-errors",["jira-projects-backbone"],function(b){return b.Model.extend({defaults:{urlError:"",nameError:"",iconError:"",generalError:""},initialize:function a(f,e){var d=e.model;this.listenTo(d,"save:failure remove:failure",function c(g){this.set({urlError:g.errors&&g.errors.url,nameError:g.errors&&g.errors.name,iconError:g.errors&&g.errors.icon,generalError:(g.message||(g.errorMessages&&g.errorMessages.length>0))?g.message||g.errorMessages[0]:undefined})});this.listenTo(d,"save:success remove:success",this.clear)}})});AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Entities.ShortcutErrors",null,require("jira/projects/sidebar/project-shortcuts/entities/shortcut-errors"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = '/sidebar/project-shortcuts/entities/Shortcuts.js' */
define("jira/projects/sidebar/project-shortcuts/entities/shortcuts",["jira/projects/sidebar/project-shortcuts/entities/shortcut","jira-projects-backbone"],function(b,a){return a.Collection.extend({model:b,initialize:function(d,c){this.projectKey=c.projectKey}})});AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Entities.Shortcuts",null,require("jira/projects/sidebar/project-shortcuts/entities/shortcuts"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = '/sidebar/project-shortcuts/views/IconPickerContent.js' */
define("jira/projects/sidebar/project-shortcuts/views/icon-picker-content",["jira/projects/sidebar/project-shortcuts/templates","jira/projects/sidebar/project-shortcuts/analytics","jira/projects/sidebar/project-shortcuts/services/available-icons","jira/projects/libs/marionette","jquery"],function(n,l,c,e,m){var i="projectShortcutsIconsId";var a="active aui-dropdown2-active";function o(p,t){var s=5;var v=p.ui.iconList.find(".active");var u=p.ui.iconList.find("li").size();var r;switch(t.keyCode){case AJS.keyCode.LEFT:r=-1;break;case AJS.keyCode.RIGHT:r=1;break;case AJS.keyCode.DOWN:r=s;break;case AJS.keyCode.UP:r=-s;break;default:r=0}var q=v.closest("li").index()+r;if(q<0||q>=u){q+=u;q%=u}v.removeClass(a);p.ui.icon.eq(q).addClass(a)}return e.ItemView.extend({template:n.iconsPicker,ui:{icon:".project-shortcuts-icons-icon",iconList:".project-shortcuts-icons-list",iconPicker:".project-shortcuts-icons-picker"},modelEvents:{"change:icon":function k(){var q=this._modelIcon();var p=this.ui.iconPicker.children();p.removeClass(this.iconFactory.getAllIconsClasses());p.addClass(q.className);this.ui.iconPicker.data(i,q.name)},"save:start":function j(){this.ui.iconPicker.attr("aria-disabled",true)},"save:finish":function h(){this.ui.iconPicker.attr("aria-disabled",false)}},events:{"keydown @ui.iconPicker":function f(p){if(!this.isPickerActive()){return}switch(p.keyCode){case AJS.keyCode.LEFT:case AJS.keyCode.RIGHT:case AJS.keyCode.DOWN:case AJS.keyCode.UP:o(this,p);p.stopPropagation();p.preventDefault();this.ui.iconList.trigger("aui-dropdown2-item-selected");break;case AJS.keyCode.ESCAPE:this.hideIconPicker();p.stopPropagation();p.preventDefault();break}}},initialize:function(p){this.iconFactory=c;this.analytics=l},onRender:function(){var p=this;this.ui.icon.on("click",function q(){var r=m(this).data(i);p.analytics.iconChangeConfirmed(p.model,r);p.analyticsOldIconId="";p.analyticsIconClicked=true;p.model.set("icon",r);p.ui.iconPicker.focus()});this.ui.iconList.on("aui-dropdown2-show",function(){p.ui.iconPicker.focus();p.analyticsIconClicked=false;p.analytics.iconPickerOpened(p.model)});this.ui.iconList.on("aui-dropdown2-hide",function(){p.analytics.iconPickerClosed(p.model,p.analyticsIconClicked)});this.analyticsOldIconId="";this.ui.iconList.on("aui-dropdown2-item-selected",function(r){var s=m(this).find(".active").data(i);if(p.analyticsOldIconId&&p.analyticsOldIconId!==s){p.analytics.iconChanged(p.model,s,p.analyticsOldIconId)}p.analyticsOldIconId=s});this.ui.iconPicker.data(i,this.model.get("icon"))},hideIconPicker:function(){if(this.isPickerActive()){this.ui.iconPicker.trigger("aui-button-invoke")}},isPickerActive:function(){return this.ui.iconPicker.hasClass("active")},_modelIcon:function b(){return this.iconFactory.getIconFromName(this.model.get("icon"))},onFormSubmit:function g(){this.model.set("icon",this.ui.iconPicker.data(i)||"")},focus:function d(){this.ui.iconPicker.focus()},serializeData:function(){return{iconsList:this.iconFactory.getIconsList(),icon:this._modelIcon(),cid:this.cid}}})});AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Views.IconPickerContent",null,require("jira/projects/sidebar/project-shortcuts/views/icon-picker-content"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = '/sidebar/project-shortcuts/views/DialogContent.js' */
define("jira/projects/sidebar/project-shortcuts/views/dialog-content",["jira/util/formatter","jira/flag","jira/projects/sidebar/project-shortcuts/views/icon-picker-content","jira/projects/sidebar/project-shortcuts/services/available-icons","jira/projects/libs/marionette","underscore"],function(q,r,n,s,l,v){function u(x){x.preventDefault();this.ensureProtocolPrefix();this.tryToAutomagicallyDeriveNameFromUrl();if(this.iconPickerContent){this.iconPickerContent.onFormSubmit()}this.model.set("url",this.ui.url.val());this.model.set("name",this.ui.name.val());this.model.save()}var g=l.LayoutView.extend({ui:{form:"form",inputs:"input, button",submit:".project-shortcuts-submit",cancel:".project-shortcuts-cancel",url:".project-shortcuts-url input",name:".project-shortcuts-name input"},regions:{iconPicker:".project-shortcuts-icon-picker-block"},events:{"click @ui.cancel":function f(x){x.preventDefault();this.model.clear();this.setNameAutomagically=true;this.errorModel.clear();this.trigger("cancel")},"click @ui.submit":u,"submit @ui.form":u,"blur @ui.url":function c(){this.ensureProtocolPrefix();this.tryToAutomagicallyDeriveNameFromUrl()},"input @ui.url":function e(){this.model.set("url",this.ui.url.val());this.tryToAutomagicallyDeriveNameFromUrl()},"input @ui.name":function w(){this.setNameAutomagically=false;this.model.set("name",this.ui.name.val())},"keydown @ui.name":function j(x){if(!this.iconPickerContent){return}if(x.shiftKey&&x.keyCode===AJS.keyCode.TAB){x.preventDefault();this.iconPickerContent.focus()}},"keydown @ui.url":function j(x){if(!this.iconPickerContent){return}if(!x.shiftKey&&x.keyCode===AJS.keyCode.TAB){x.preventDefault();this.iconPickerContent.focus()}}},modelEvents:{"save:start":function a(){this.ui.inputs.prop("disabled",true);this.ui.submit.addClass("loading");this.ui.submit.spin({className:"spinner"})},"save:finish":function o(){this.ui.inputs.prop("disabled",false);this.ui.submit.removeClass("loading");this.ui.submit.spinStop({className:"spinner"})},"save:failure":function d(){this.render();if(this.errorModel.get("generalError")){r({type:"error",title:"We couldn\'t save the link for you",close:"auto",body:this.errorModel.get("generalError")})}if(this.errorModel.get("nameError")){this.ui.name.focus()}if(this.errorModel.get("urlError")){this.ui.url.focus()}return this},"save:success":function k(){this.setNameAutomagically=true}},initialize:function b(y){this.errorModel=y.errorModel;var x=this.model.get("name");this.setNameAutomagically=(x.length==0);this.iconFactory=s},serializeData:function m(){return v.extend(this.model.toJSON(),{errors:this.errorModel.toJSON(),action:this.action,isWithIcon:this.iconFactory.isWithIcons()})},onRender:function(){if(this.iconFactory.isWithIcons()){this.iconPickerContent=new n({model:this.model,action:this.action,observable:this});this.getRegion("iconPicker").show(this.iconPickerContent)}else{delete this.iconPickerContent}},hideIconPicker:function(){if(!this.iconPickerContent){return}this.iconPickerContent.hideIconPicker()},setName:function i(x){this.ui.name.val(x);this.model.set("name",x)},setUrl:function h(x){this.ui.url.val(x);this.model.set("url",x)},ensureProtocolPrefix:function p(){var x=this.ui.url.val().trim();if(x.length>0&&!g.urlPattern.test(x)){this.setUrl("http://"+x)}},tryToAutomagicallyDeriveNameFromUrl:function t(){var y=this.ui.url.val().trim();if(this.setNameAutomagically){if(g.urlOptionalProtocolPattern.test(y)){var x=g.urlOptionalProtocolPattern.exec(y);this.setName(x[3])}else{this.setName(y)}}}},{urlPattern:/^[a-zA-Z0-9]+:(\/\/)?([^\/]*).*/,urlOptionalProtocolPattern:/^([a-zA-Z0-9]+:(\/\/)?)?([^\/]*).*/});return g});AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Views.DialogContent",null,require("jira/projects/sidebar/project-shortcuts/views/dialog-content"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = '/sidebar/project-shortcuts/views/AddDialogContent.js' */
define("jira/projects/sidebar/project-shortcuts/views/add-dialog-content",["jira/projects/sidebar/project-shortcuts/templates","jira/projects/sidebar/project-shortcuts/views/dialog-content"],function(b,a){return a.extend({template:b.addDialog})});AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Views.AddDialogContent",null,require("jira/projects/sidebar/project-shortcuts/views/add-dialog-content"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = '/sidebar/project-shortcuts/views/EditDialogContent.js' */
define("jira/projects/sidebar/project-shortcuts/views/edit-dialog-content",["jira/projects/sidebar/project-shortcuts/templates","jira/projects/sidebar/project-shortcuts/views/dialog-content"],function(b,a){return a.extend({template:b.editDialog})});AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Views.EditDialogContent",null,require("jira/projects/sidebar/project-shortcuts/views/edit-dialog-content"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = '/sidebar/project-shortcuts/dialogs/Delete.js' */
define("jira/projects/sidebar/project-shortcuts/dialogs/delete",["jira/projects/sidebar/project-shortcuts/templates","jira/util/formatter","jira/util/logger","jira/flag","jira/projects/libs/marionette","underscore"],function(m,h,j,d,c,i){return c.ItemView.extend({template:m.deleteDialog,ui:{inputs:"input, button",submit:".project-shortcuts-submit",cancel:".project-shortcuts-cancel"},events:{"click @ui.cancel":function k(n){n.preventDefault();this.dialog.hide()},"click @ui.submit":function a(n){n.preventDefault();this.model.destroy({wait:true})}},modelEvents:{"remove:start":function e(){this.ui.inputs.prop("disabled",true);this.ui.submit.addClass("loading");this.ui.submit.spin({className:"spinner"})},"remove:finish":function g(){this.ui.inputs.prop("disabled",false);this.ui.submit.removeClass("loading");this.ui.submit.spinStop({className:"spinner"});this.dialog.hide();j.trace("jira.projects.shortcuts.deleted")},"remove:failure":function f(n){if(n.message||(n.errorMessages&&n.errorMessages.length>0)){d({type:"error",title:"We couldn\'t delete the link for you",close:"auto",body:n.message||n.errorMessages[0]})}}},initialize:function b(){this.render();this.$el.appendTo("body");this.dialog=AJS.dialog2(this.$el);this.dialog.show();var n=this;this.dialog.on("hide",function(){i.defer(function(){n.destroy()})})},onRender:function l(){this.unwrapTemplate()}})});AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Dialogs.Delete",null,require("jira/projects/sidebar/project-shortcuts/dialogs/delete"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = '/sidebar/project-shortcuts/dialogs/Edit.js' */
define("jira/projects/sidebar/project-shortcuts/dialogs/edit",["jira/projects/sidebar/project-shortcuts/templates","jira/projects/sidebar/project-shortcuts/views/edit-dialog-content","jira/projects/sidebar/project-shortcuts/entities/shortcut","jira/projects/sidebar/project-shortcuts/entities/shortcut-errors","jira/projects/libs/marionette","underscore","jquery"],function(d,f,h,a,g,b,e){return g.Controller.extend({initialize:function(l){var j=this;b.bindAll(this,"hide");this.model=new h(l.model.toJSON(),{projectKey:l.model.projectKey||l.model.collection.projectKey});this.errorModel=new a(undefined,{model:this.model});this.view=new f({model:this.model,errorModel:this.errorModel});this.analyticsSave=false;this.view.render();var i=e(d.editDialogChrome({}));this.view.$el.appendTo(i);this.dialog=AJS.dialog2(i);this.dialog.show();this.view.ui.url.focus();this._onResizeWindow=function(){j.hideIconPicker()};e(window).on("resize",this._onResizeWindow);this.listenTo(this.view,"cancel",this.hide);this.listenTo(this.model,"save:success",function m(){this.analyticsSave=true;this.hide();l.model.set(j.model.toJSON())});this.dialog.on("hide",function k(){j.trigger("dialog:close",j.analyticsSave)})},hideIconPicker:function(){this.view.hideIconPicker()},hide:function c(){this.dialog.hide();e(window).off("resize",this._onResizeWindow)}})});AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Dialogs.Edit",null,require("jira/projects/sidebar/project-shortcuts/dialogs/edit"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = '/sidebar/project-shortcuts/dialogs/Add.js' */
define("jira/projects/sidebar/project-shortcuts/dialogs/add",["aui/inline-dialog","jira/projects/sidebar/project-shortcuts/views/add-dialog-content","jira/projects/sidebar/project-shortcuts/entities/shortcut","jira/projects/sidebar/project-shortcuts/entities/shortcut-errors","jira/projects/libs/marionette","underscore","jquery"],function(d,c,j,h,g,i,k){return g.Controller.extend({initialize:function(u){i.bindAll(this,"hide","refresh","focusForm");var t=this;this.analyticsSave=false;this.sidebarItem=u.sidebarItem;this.projectKey=u.projectKey;this.collection=u.collection;this.model=new j(null,{projectKey:this.projectKey});this.errorModel=new h(null,{model:this.model});this.view=new c({model:this.model,errorModel:this.errorModel});this.view.render();var m=k(window);var o=k(document);var s=k(".aui-sidebar-body");this.dialog=new d(this.sidebarItem.ui.link,"project-shortcuts-group__add-dialog",function(x,w,z){t.sidebarItem.$el.addClass("aui-nav-selected");t.view.render();t.view.$el.appendTo(x);t.view.ui.url.focus();m.on("scroll.project-shortcuts",function y(){t.refresh()});s.on("scroll.project-shortcuts",function v(){t.hide()});o.on("showLayer",t.focusForm);m.on("resize",t.refresh);z();return false},{gravity:"w",autoWidth:true,initCallback:function l(){t.trigger("dialog:open");t.analyticsSave=false},hideCallback:function n(){t.sidebarItem.$el.removeClass("aui-nav-selected");t.sidebarItem.ui.link.blur();m.off("scroll.project-shortcuts");s.off("scroll.project-shortcuts");o.off("showLayer",t.focusForm);t.trigger("dialog:close",t.analyticsSave)},persistent:true,closeOnTriggerClick:true,offsetY:function p(v,y){var x=y.target.height();var w=v.height()/2;return w-x-10},arrowOffsetY:function q(v,y){var x=y.target.height()/2;var w=v.height()/2;return -w+22+x}});this.listenTo(this.view,"render",this.refresh);this.listenTo(this.view,"cancel",this.hideAndRender);this.listenTo(this.model,"save:success",function r(){var v=new j(this.model.toJSON(),{projectKey:this.projectKey});this.model.clear();this.collection.add(v);this.analyticsSave=true;this.hide()});this.listenTo(this.sidebarItem,"before:select",function(v){v.preventDefault()});AJS.sidebar(".aui-sidebar").on("collapse-start",this.hide);k(".project-shortcuts-group").on("click","li",this.hide)},hide:function e(){this.view.hideIconPicker();this.dialog.hide()},refresh:function f(){this.view.hideIconPicker();this.dialog.refresh()},hideAndRender:function b(){this.hide()},focusForm:function a(){this.view.ui.url.focus()}})});AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Dialogs.Add",null,require("jira/projects/sidebar/project-shortcuts/dialogs/add"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = '/sidebar/project-shortcuts/views/Shortcut.js' */
define("jira/projects/sidebar/project-shortcuts/views/shortcut",["jira/projects/sidebar/project-shortcuts/templates","jira/projects/sidebar/project-shortcuts/services/available-icons","jira/projects/sidebar/project-shortcuts/dialogs/edit","jira/projects/sidebar/project-shortcuts/dialogs/delete","jira/projects/libs/marionette","underscore","jquery"],function(j,e,b,a,f,g,i){return f.ItemView.extend({template:j.shortcut,initialize:function c(){g.bindAll(this,"toggleDropdown");this.iconFactory=e},ui:{del:".project-shortcuts-group__actions__delete",edit:".project-shortcuts-group__actions__edit",trigger:".project-shortcuts-group__actions",dropdown:".project-shortcuts-group__dropdown",link:".project-shortcuts-group__link"},modelEvents:{change:"render"},events:{"click @ui.link":function d(){this.trigger("click:link",this.model)}},onRender:function(){var k=this;this.unwrapTemplate();var o=i(window);var n=i(".aui-sidebar-body");this.ui.edit.on("click",function m(q){q.preventDefault();k.ui.trigger.blur();var p=new b({model:k.model});k.trigger("edit:open",k.model);k.listenToOnce(p,"dialog:close",function r(s){k.trigger("edit:close",k.model,s)})});this.ui.del.on("click",function l(p){p.preventDefault();k.ui.trigger.blur();var q=new a({model:k.model})});this.ui.dropdown.on({"aui-dropdown2-show":function(){k.$el.addClass("aui-nav-selected");n.one("scroll",k.toggleDropdown);o.one("scroll",k.toggleDropdown);k.ui.trigger.focus()},"aui-dropdown2-hide":function(){k.$el.removeClass("aui-nav-selected");n.off("scroll",k.toggleDropdown);o.off("scroll",k.toggleDropdown)}})},serializeData:function(){var k=g.extend(this.model.toJSON(),{canManage:true,isWithIcon:this.iconFactory.isWithIcons()});if(this.iconFactory.isWithIcons()){k=g.extend(k,{iconsMap:e.getIconsMap()})}return k},toggleDropdown:function h(){this.ui.trigger.trigger("aui-button-invoke")}})});AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Views.Shortcut",null,require("jira/projects/sidebar/project-shortcuts/views/shortcut"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = '/sidebar/project-shortcuts/views/ShortcutsList.js' */
define("jira/projects/sidebar/project-shortcuts/views/list",["jira/api/projects/sidebar","jira/projects/sidebar/project-shortcuts/templates","jira/projects/sidebar/project-shortcuts/views/shortcut","jira/projects/sidebar/project-shortcuts/dialogs/add","jira/projects/sidebar/component/navigation-group","jira/projects/libs/marionette","jquery"],function(f,l,g,d,j,i,e){return i.CompositeView.extend({template:l.content,childView:g,ui:{itemsContainer:".aui-nav",description:".project-shortcuts-group__description",add:".project-shortcuts-group__add"},collectionEvents:{"add remove":function b(){if(this.collection.length==0&&this.lastCollectionLength!=0||this.collection.length!=0&&this.lastCollectionLength==0){this.lastCollectionLength=this.collection.length;this.ui.description.toggleClass("hidden",this.collection.length>0);this.$el.toggleClass("project-shortcuts-group_empty",this.collection.length==0)}}},initialize:function c(){var m=this;f.getSidebar().done(function(p){var q=p.getAUISidebar();q.on("expand-end",function o(){e(".aui-sidebar-submenu-dialog .project-shortcuts-group__dropdown").remove()});q.on("collapse-start",function n(){m.$(".project-shortcuts-group__actions.aui-dropdown2-active").trigger("aui-button-invoke")})});this.lastCollectionLength=this.collection.length},attachElContent:function(m){var n=new j({el:m});this.$el=e(n.getElement());f.getSidebar().done(function(o){o.replaceGroup(this.options.targetGroup,n)}.bind(this));return this},onRender:function k(){f.getSidebar().done(function(p){var n=new d({sidebarItem:p.getGroup("project-shortcuts-group").getItem("project-shortcut-add"),projectKey:this.collection.projectKey,collection:this.collection});this.listenTo(n,"dialog:open",function o(){this.trigger("add:open")});this.listenTo(n,"dialog:close",function m(q){this.trigger("add:close",q)})}.bind(this))},serializeData:function h(){return{canManage:true,numberOfShortcuts:this.collection.length}},attachBuffer:function(n,m){this.ui.itemsContainer.prepend(m)},onAddChild:function a(m){this.ui.add.parent().before(m.$el)}})});AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Views.List",null,require("jira/projects/sidebar/project-shortcuts/views/list"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts-init', location = '/sidebar/project-shortcuts/project-shortcuts-init.js' */
require(["jira/projects/sidebar/project-shortcuts/analytics","jira/projects/sidebar/project-shortcuts/views/list","jira/projects/sidebar/project-shortcuts/services/available-icons","jira/projects/sidebar/project-shortcuts/entities/shortcuts","jira/api/projects/sidebar","jira/api/projects","wrm/data"],function(f,a,g,c,e,d,b){e.getSidebar().done(function(l){var i=b.claim("com.atlassian.jira.projects.shortcuts:project-id");f.initialize(i);if(b.claim("com.atlassian.jira.projects.shortcuts:can-manage")){var k=b.claim("com.atlassian.jira.projects.shortcuts:with-icons");if(k){g.initialize(b.claim("com.atlassian.jira.projects.shortcuts:icons-list"))}g.setWithIcons(k);var h=d.getCurrentProjectKey();var j=new c(b.claim("com.atlassian.jira.projects.shortcuts:shortcuts"),{projectKey:h});var m=new a({collection:j,targetGroup:"project-shortcuts-group"});m.render();f.initDialogActions(m)}f.initShortcutClick(".project-shortcuts-list",l)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:report-page-assets', location = '/page/project/report/analytics.js' */
define("jira/projects/page/report/analytics",["jira/analytics","jquery"],function(a,b){function c(){b(".reports .reports__list__report").on("click",function(f){var d=b(this);a.send({name:"jira.projects.report.clicked",data:{report:d.attr("data-report-key"),category:d.closest("ul").attr("data-category-key"),listPosition:d.closest("li").prevAll().length+1}})})}return c});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:reports-link-storage', location = '/sidebar/reports/reports-link-storage.js' */
define("jira/projects/sidebar/reports/link-storage",["jira/util/logger","jira/data/local-storage","jira/api/projects","jira/api/projects/sidebar"],function(b,a,c,d){function f(j){var h=j.getSelectedScopeFilterId();var g=c.getCurrentProjectKey();var i="last.viewed.report."+g;if(h){i+="."+h}return i}function e(g,h){g.setReportsItemLink(h)}return{storeLastViewedReportLink:function(g){d.getSidebar().done(function(i){if(i.isProjectSidebar()){var h=f(i);a.setItem(h,g);e(i,g)}b.trace("jira.projects.sidebar.reports.link.stored")})},restoreLastViewedReportLink:function(){d.getSidebar().done(function(h){if(h.isProjectSidebar()){var g=f(h);var i=a.getItem(g);if(i){e(h,i)}}b.trace("jira.projects.sidebar.reports.link.restored")})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:reports-link-init', location = '/sidebar/reports/reports-link-init.js' */
require(["jira/projects/sidebar/reports/link-storage"],function(a){a.restoreLastViewedReportLink()});AJS.namespace("JIRA.Projects.Sidebar.Reports",null,require("jira/projects/sidebar/reports/link-storage"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-analytics-tracker', location = 'includes/js/rapid/AnalyticsTracker.js' */
define("jira-agile/rapid/analytics-tracker",["jira/util/logger","underscore","jquery"],function(e,a,i){function t(e,i,t){if(a.isUndefined(e))throw new Error("You must specify a category");this.params={},this.params.category=e;var r=0;a.isUndefined(i)||(this.params.action=i,r++,a.isUndefined(t)||(this.params.label=t,r++)),this.requiredArgumentNames=["action","label","value"].slice(r),this.useAsync=!0}return t.prototype.setAsync=function(e){return this.useAsync=e,this},t.prototype.trigger=function(){this.requiredArgumentNames.length<arguments.length&&e.log("Warning: too many arguments passed in. Needed at most "+this.requiredArgumentNames.length+" but got "+arguments.length);for(var t=a.clone(this.params),r=0;r<arguments.length&&!a.isUndefined(this.requiredArgumentNames[r]);r++)t[this.requiredArgumentNames[r]]=arguments[r];this._validateParams(t);var n="gh.analytics.async";i(document).trigger(n,t)},t.prototype._validateParams=function(e){var i=["category","action","label"];a.each(i,function(i){a.isUndefined(e[i])||a.isString(e[i])?a.isUndefined(e[i])&&(e[i]=""):e[i]=e[i].toString()}),a.each(["category","action"],function(a){e[a]=e[a].replace(/\s+/g,"")}),a.isUndefined(e.value)||(e.value=parseInt(e.value,10),isNaN(e.value)&&(e.value=void 0))},t}),AJS.namespace("GH.AnalyticsTracker",null,require("jira-agile/rapid/analytics-tracker"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_jquery.ui.mouse', location = 'aui.chunk.68a1dee565d36474fea0--0c4f237e5c34bca7a667.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["jquery.ui.mouse"],{mz4i:function(u,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i("XPYc"),e.default="jquery",u.exports=e.default}},[["mz4i","runtime","aui.splitchunk.vendors--20a97d6a33","aui.splitchunk.vendors--d18e3cafa7","aui.splitchunk.vendors--db57146687","aui.splitchunk.0d131bcbf1"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.vendors--7c76061134', location = 'aui.chunk.ec257084264be2137aff--47070070a0c5ff93b8b0.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.splitchunk.vendors--7c76061134"],{TRfs:function(e,t,s){},iCCw:function(e,t,s){var l,i,n;i=[s("oDIA"),s("XPYc"),s("O+lX"),s("yIBB")],void 0===(n="function"==typeof(l=function(e){return e.widget("ui.selectable",e.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t.elementPos=e(t.element[0]).offset(),t.selectees=e(t.options.filter,t.element[0]),t._addClass(t.selectees,"ui-selectee"),t.selectees.each(function(){var s=e(this),l=s.offset(),i={left:l.left-t.elementPos.left,top:l.top-t.elementPos.top};e.data(this,"selectable-item",{element:this,$element:s,left:i.left,top:i.top,right:i.left+s.outerWidth(),bottom:i.top+s.outerHeight(),startselected:!1,selected:s.hasClass("ui-selected"),selecting:s.hasClass("ui-selecting"),unselecting:s.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=e("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(t){var s=this,l=this.options;this.opos=[t.pageX,t.pageY],this.elementPos=e(this.element[0]).offset(),this.options.disabled||(this.selectees=e(l.filter,this.element[0]),this._trigger("start",t),e(l.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),l.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var l=e.data(this,"selectable-item");l.startselected=!0,t.metaKey||t.ctrlKey||(s._removeClass(l.$element,"ui-selected"),l.selected=!1,s._addClass(l.$element,"ui-unselecting"),l.unselecting=!0,s._trigger("unselecting",t,{unselecting:l.element}))}),e(t.target).parents().addBack().each(function(){var l,i=e.data(this,"selectable-item");if(i)return l=!t.metaKey&&!t.ctrlKey||!i.$element.hasClass("ui-selected"),s._removeClass(i.$element,l?"ui-unselecting":"ui-selected")._addClass(i.$element,l?"ui-selecting":"ui-unselecting"),i.unselecting=!l,i.selecting=l,i.selected=l,l?s._trigger("selecting",t,{selecting:i.element}):s._trigger("unselecting",t,{unselecting:i.element}),!1}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var s,l=this,i=this.options,n=this.opos[0],c=this.opos[1],a=t.pageX,o=t.pageY;return n>a&&(s=a,a=n,n=s),c>o&&(s=o,o=c,c=s),this.helper.css({left:n,top:c,width:a-n,height:o-c}),this.selectees.each(function(){var s=e.data(this,"selectable-item"),r=!1,u={};s&&s.element!==l.element[0]&&(u.left=s.left+l.elementPos.left,u.right=s.right+l.elementPos.left,u.top=s.top+l.elementPos.top,u.bottom=s.bottom+l.elementPos.top,"touch"===i.tolerance?r=!(u.left>a||u.right<n||u.top>o||u.bottom<c):"fit"===i.tolerance&&(r=u.left>n&&u.right<a&&u.top>c&&u.bottom<o),r?(s.selected&&(l._removeClass(s.$element,"ui-selected"),s.selected=!1),s.unselecting&&(l._removeClass(s.$element,"ui-unselecting"),s.unselecting=!1),s.selecting||(l._addClass(s.$element,"ui-selecting"),s.selecting=!0,l._trigger("selecting",t,{selecting:s.element}))):(s.selecting&&((t.metaKey||t.ctrlKey)&&s.startselected?(l._removeClass(s.$element,"ui-selecting"),s.selecting=!1,l._addClass(s.$element,"ui-selected"),s.selected=!0):(l._removeClass(s.$element,"ui-selecting"),s.selecting=!1,s.startselected&&(l._addClass(s.$element,"ui-unselecting"),s.unselecting=!0),l._trigger("unselecting",t,{unselecting:s.element}))),s.selected&&(t.metaKey||t.ctrlKey||s.startselected||(l._removeClass(s.$element,"ui-selected"),s.selected=!1,l._addClass(s.$element,"ui-unselecting"),s.unselecting=!0,l._trigger("unselecting",t,{unselecting:s.element})))))}),!1}},_mouseStop:function(t){var s=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var l=e.data(this,"selectable-item");s._removeClass(l.$element,"ui-unselecting"),l.unselecting=!1,l.startselected=!1,s._trigger("unselected",t,{unselected:l.element})}),e(".ui-selecting",this.element[0]).each(function(){var l=e.data(this,"selectable-item");s._removeClass(l.$element,"ui-selecting")._addClass(l.$element,"ui-selected"),l.selecting=!1,l.selected=!0,l.startselected=!0,s._trigger("selected",t,{selected:l.element})}),this._trigger("stop",t),this.helper.remove(),!1}})})?l.apply(t,i):l)||(e.exports=n)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_jquery.ui.selectable', location = 'aui.chunk.ef62ae6fe391b413331b--c41c289ed6f125902a34.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["jquery.ui.selectable"],{FvNQ:function(u,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i("TRfs"),i("iCCw"),e.default="jquery",u.exports=e.default}},[["FvNQ","runtime","aui.splitchunk.vendors--20a97d6a33","aui.splitchunk.vendors--d18e3cafa7","aui.splitchunk.vendors--db57146687","aui.splitchunk.vendors--7c76061134","aui.splitchunk.0d131bcbf1"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.vendors--85718a7eef', location = 'aui.chunk.ae3c4b97fc5a1976668b--c6988b4dfd3c4a3d1198.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.splitchunk.vendors--85718a7eef"],{"2V+C":function(t,i,e){},XnJT:function(t,i,e){var s,h,n;h=[e("oDIA"),e("XPYc"),e("zq/Y"),e("lSwU"),e("O+lX"),e("yIBB")],void 0===(n="function"==typeof(s=function(t){return t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(i,e){if("hidden"===t(i).css("overflow"))return!1;var s,h=e&&"left"===e?"scrollLeft":"scrollTop";return i[h]>0||(i[h]=1,s=i[h]>0,i[h]=0,s)},_create:function(){var i,e=this.options,s=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,i={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(i),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(i),this._proportionallyResize()),this._setupHandles(),e.autoHide&&t(this.element).on("mouseenter",function(){e.disabled||(s._removeClass("ui-resizable-autohide"),s._handles.show())}).on("mouseleave",function(){e.disabled||s.resizing||(s._addClass("ui-resizable-autohide"),s._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var i,e=function(i){t(i).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(e(this.element),i=this.element,this.originalElement.css({position:i.css("position"),width:i.outerWidth(),height:i.outerHeight(),top:i.css("top"),left:i.css("left")}).insertAfter(i),i.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_setOption:function(t,i){switch(this._super(t,i),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var i,e,s,h,n,o=this.options,a=this;if(this.handles=o.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),s=this.handles.split(","),this.handles={},e=0;e<s.length;e++)h="ui-resizable-"+(i=t.trim(s[e])),n=t("<div>"),this._addClass(n,"ui-resizable-handle "+h),n.css({zIndex:o.zIndex}),this.handles[i]=".ui-resizable-"+i,this.element.append(n);this._renderAxis=function(i){var e,s,h,n;for(e in i=i||this.element,this.handles)this.handles[e].constructor===String?this.handles[e]=this.element.children(this.handles[e]).first().show():(this.handles[e].jquery||this.handles[e].nodeType)&&(this.handles[e]=t(this.handles[e]),this._on(this.handles[e],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[e],this.element),n=/sw|ne|nw|se|n|s/.test(e)?s.outerHeight():s.outerWidth(),h=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),i.css(h,n),this._proportionallyResize()),this._handles=this._handles.add(this.handles[e])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=n&&n[1]?n[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(i){var e,s,h=!1;for(e in this.handles)((s=t(this.handles[e])[0])===i.target||t.contains(s,i.target))&&(h=!0);return!this.options.disabled&&h},_mouseStart:function(i){var e,s,h,n=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),e=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),n.containment&&(e+=t(n.containment).scrollLeft()||0,s+=t(n.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:e,top:s},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof n.aspectRatio?n.aspectRatio:this.originalSize.width/this.originalSize.height||1,h=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===h?this.axis+"-resize":h),this._addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(i){var e,s,h=this.originalMousePosition,n=this.axis,o=i.pageX-h.left||0,a=i.pageY-h.top||0,l=this._change[n];return this._updatePrevProperties(),!!l&&(e=l.apply(this,[i,o,a]),this._updateVirtualBoundaries(i.shiftKey),(this._aspectRatio||i.shiftKey)&&(e=this._updateRatio(e,i)),e=this._respectSize(e,i),this._updateCache(e),this._propagate("resize",i),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",i,this.ui()),this._applyChanges()),!1)},_mouseStop:function(i){this.resizing=!1;var e,s,h,n,o,a,l,r=this.options;return this._helper&&(h=(s=(e=this._proportionallyResizeElements).length&&/textarea/i.test(e[0].nodeName))&&this._hasScroll(e[0],"left")?0:this.sizeDiff.height,n=s?0:this.sizeDiff.width,o={width:this.helper.width()-n,height:this.helper.height()-h},a=parseFloat(this.element.css("left"))+(this.position.left-this.originalPosition.left)||null,l=parseFloat(this.element.css("top"))+(this.position.top-this.originalPosition.top)||null,r.animate||this.element.css(t.extend(o,{top:l,left:a})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!r.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",i),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var i,e,s,h,n,o=this.options;n={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||t)&&(i=n.minHeight*this.aspectRatio,s=n.minWidth/this.aspectRatio,e=n.maxHeight*this.aspectRatio,h=n.maxWidth/this.aspectRatio,i>n.minWidth&&(n.minWidth=i),s>n.minHeight&&(n.minHeight=s),e<n.maxWidth&&(n.maxWidth=e),h<n.maxHeight&&(n.maxHeight=h)),this._vBoundaries=n},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var i=this.position,e=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=i.left+(e.width-t.width),t.top=null),"nw"===s&&(t.top=i.top+(e.height-t.height),t.left=i.left+(e.width-t.width)),t},_respectSize:function(t){var i=this._vBoundaries,e=this.axis,s=this._isNumber(t.width)&&i.maxWidth&&i.maxWidth<t.width,h=this._isNumber(t.height)&&i.maxHeight&&i.maxHeight<t.height,n=this._isNumber(t.width)&&i.minWidth&&i.minWidth>t.width,o=this._isNumber(t.height)&&i.minHeight&&i.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,r=/sw|nw|w/.test(e),p=/nw|ne|n/.test(e);return n&&(t.width=i.minWidth),o&&(t.height=i.minHeight),s&&(t.width=i.maxWidth),h&&(t.height=i.maxHeight),n&&r&&(t.left=a-i.minWidth),s&&r&&(t.left=a-i.maxWidth),o&&p&&(t.top=l-i.minHeight),h&&p&&(t.top=l-i.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var i=0,e=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],h=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];i<4;i++)e[i]=parseFloat(s[i])||0,e[i]+=parseFloat(h[i])||0;return{height:e[0]+e[2],width:e[1]+e[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,i=0,e=this.helper||this.element;i<this._proportionallyResizeElements.length;i++)t=this._proportionallyResizeElements[i],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:e.height()-this.outerDimensions.height||0,width:e.width()-this.outerDimensions.width||0})},_renderProxy:function(){var i=this.element,e=this.options;this.elementOffset=i.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,i){return{width:this.originalSize.width+i}},w:function(t,i){var e=this.originalSize;return{left:this.originalPosition.left+i,width:e.width-i}},n:function(t,i,e){var s=this.originalSize;return{top:this.originalPosition.top+e,height:s.height-e}},s:function(t,i,e){return{height:this.originalSize.height+e}},se:function(i,e,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[i,e,s]))},sw:function(i,e,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[i,e,s]))},ne:function(i,e,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[i,e,s]))},nw:function(i,e,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[i,e,s]))}},_propagate:function(i,e){t.ui.plugin.call(this,i,[e,this.ui()]),"resize"!==i&&this._trigger(i,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(i){var e=t(this).resizable("instance"),s=e.options,h=e._proportionallyResizeElements,n=h.length&&/textarea/i.test(h[0].nodeName),o=n&&e._hasScroll(h[0],"left")?0:e.sizeDiff.height,a=n?0:e.sizeDiff.width,l={width:e.size.width-a,height:e.size.height-o},r=parseFloat(e.element.css("left"))+(e.position.left-e.originalPosition.left)||null,p=parseFloat(e.element.css("top"))+(e.position.top-e.originalPosition.top)||null;e.element.animate(t.extend(l,p&&r?{top:p,left:r}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseFloat(e.element.css("width")),height:parseFloat(e.element.css("height")),top:parseFloat(e.element.css("top")),left:parseFloat(e.element.css("left"))};h&&h.length&&t(h[0]).css({width:s.width,height:s.height}),e._updateCache(s),e._propagate("resize",i)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var i,e,s,h,n,o,a,l=t(this).resizable("instance"),r=l.options,p=l.element,d=r.containment,g=d instanceof t?d.get(0):/parent/.test(d)?p.parent().get(0):d;g&&(l.containerElement=t(g),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(i=t(g),e=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){e[t]=l._num(i.css("padding"+s))}),l.containerOffset=i.offset(),l.containerPosition=i.position(),l.containerSize={height:i.innerHeight()-e[3],width:i.innerWidth()-e[1]},s=l.containerOffset,h=l.containerSize.height,n=l.containerSize.width,o=l._hasScroll(g,"left")?g.scrollWidth:n,a=l._hasScroll(g)?g.scrollHeight:h,l.parentData={element:g,left:s.left,top:s.top,width:o,height:a}))},resize:function(i){var e,s,h,n,o=t(this).resizable("instance"),a=o.options,l=o.containerOffset,r=o.position,p=o._aspectRatio||i.shiftKey,d={top:0,left:0},g=o.containerElement,u=!0;g[0]!==document&&/static/.test(g.css("position"))&&(d=l),r.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-d.left),p&&(o.size.height=o.size.width/o.aspectRatio,u=!1),o.position.left=a.helper?l.left:0),r.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),p&&(o.size.width=o.size.height*o.aspectRatio,u=!1),o.position.top=o._helper?l.top:0),h=o.containerElement.get(0)===o.element.parent().get(0),n=/relative|absolute/.test(o.containerElement.css("position")),h&&n?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),e=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-d.left:o.offset.left-l.left)),s=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-d.top:o.offset.top-l.top)),e+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-e,p&&(o.size.height=o.size.width/o.aspectRatio,u=!1)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,p&&(o.size.width=o.size.height*o.aspectRatio,u=!1)),u||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var i=t(this).resizable("instance"),e=i.options,s=i.containerOffset,h=i.containerPosition,n=i.containerElement,o=t(i.helper),a=o.offset(),l=o.outerWidth()-i.sizeDiff.width,r=o.outerHeight()-i.sizeDiff.height;i._helper&&!e.animate&&/relative/.test(n.css("position"))&&t(this).css({left:a.left-h.left-s.left,width:l,height:r}),i._helper&&!e.animate&&/static/.test(n.css("position"))&&t(this).css({left:a.left-h.left-s.left,width:l,height:r})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var i=t(this).resizable("instance").options;t(i.alsoResize).each(function(){var i=t(this);i.data("ui-resizable-alsoresize",{width:parseFloat(i.width()),height:parseFloat(i.height()),left:parseFloat(i.css("left")),top:parseFloat(i.css("top"))})})},resize:function(i,e){var s=t(this).resizable("instance"),h=s.options,n=s.originalSize,o=s.originalPosition,a={height:s.size.height-n.height||0,width:s.size.width-n.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0};t(h.alsoResize).each(function(){var i=t(this),s=t(this).data("ui-resizable-alsoresize"),h={},n=i.parents(e.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(n,function(t,i){var e=(s[i]||0)+(a[i]||0);e&&e>=0&&(h[i]=e||null)}),i.css(h)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var i=t(this).resizable("instance"),e=i.size;i.ghost=i.originalElement.clone(),i.ghost.css({opacity:.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}),i._addClass(i.ghost,"ui-resizable-ghost"),!1!==t.uiBackCompat&&"string"==typeof i.options.ghost&&i.ghost.addClass(this.options.ghost),i.ghost.appendTo(i.helper)},resize:function(){var i=t(this).resizable("instance");i.ghost&&i.ghost.css({position:"relative",height:i.size.height,width:i.size.width})},stop:function(){var i=t(this).resizable("instance");i.ghost&&i.helper&&i.helper.get(0).removeChild(i.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var i,e=t(this).resizable("instance"),s=e.options,h=e.size,n=e.originalSize,o=e.originalPosition,a=e.axis,l="number"==typeof s.grid?[s.grid,s.grid]:s.grid,r=l[0]||1,p=l[1]||1,d=Math.round((h.width-n.width)/r)*r,g=Math.round((h.height-n.height)/p)*p,u=n.width+d,f=n.height+g,c=s.maxWidth&&s.maxWidth<u,m=s.maxHeight&&s.maxHeight<f,z=s.minWidth&&s.minWidth>u,w=s.minHeight&&s.minHeight>f;s.grid=l,z&&(u+=r),w&&(f+=p),c&&(u-=r),m&&(f-=p),/^(se|s|e)$/.test(a)?(e.size.width=u,e.size.height=f):/^(ne)$/.test(a)?(e.size.width=u,e.size.height=f,e.position.top=o.top-g):/^(sw)$/.test(a)?(e.size.width=u,e.size.height=f,e.position.left=o.left-d):((f-p<=0||u-r<=0)&&(i=e._getPaddingPlusBorderDimensions(this)),f-p>0?(e.size.height=f,e.position.top=o.top-g):(f=p-i.height,e.size.height=f,e.position.top=o.top+n.height-f),u-r>0?(e.size.width=u,e.position.left=o.left-d):(u=r-i.width,e.size.width=u,e.position.left=o.left+n.width-u))}}),t.ui.resizable})?s.apply(i,h):s)||(t.exports=n)},"zq/Y":function(t,i,e){var s,h,n;h=[e("oDIA"),e("O+lX")],void 0===(n="function"==typeof(s=function(t){return t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}})})?s.apply(i,h):s)||(t.exports=n)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_jquery.ui.resizable', location = 'aui.chunk.177c20ed1604b726476f--499e3a25af87fcbe3575.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["jquery.ui.resizable"],{kW2n:function(u,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i("2V+C"),i("XnJT"),e.default="jquery",u.exports=e.default}},[["kW2n","runtime","aui.splitchunk.vendors--20a97d6a33","aui.splitchunk.vendors--d18e3cafa7","aui.splitchunk.vendors--db57146687","aui.splitchunk.vendors--9c8c8c1546","aui.splitchunk.vendors--85718a7eef","aui.splitchunk.0d131bcbf1"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.vendors--825acd7236', location = 'aui.chunk.30cfc3ee698da81b10f9--0731854b3b05e314e279.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.splitchunk.vendors--825acd7236"],{PTCr:function(e,t,i){var s,o,n;o=[i("oDIA"),i("z+ct"),i("XPYc"),i("O+lX"),i("yIBB")],void 0===(n="function"==typeof(s=function(e){e.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(s)?s:function(e){return e.is(s)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var s=e.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(i)))},_drop:function(i,s){var o=s||e.ui.ddmanager.current,n=!1;return!(!o||(o.currentItem||o.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var s=e(this).droppable("instance");if(s.options.greedy&&!s.options.disabled&&s.options.scope===o.options.scope&&s.accept.call(s.element[0],o.currentItem||o.element)&&t(o,e.extend(s,{offset:s.element.offset()}),s.options.tolerance,i))return n=!0,!1}),!n&&!!this.accept.call(this.element[0],o.currentItem||o.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",i,this.ui(o)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var t=e.ui.intersect=function(){function e(e,t,i){return e>=t&&e<t+i}return function(t,i,s,o){if(!i.offset)return!1;var n=(t.positionAbs||t.position.absolute).left+t.margins.left,r=(t.positionAbs||t.position.absolute).top+t.margins.top,a=n+t.helperProportions.width,l=r+t.helperProportions.height,p=i.offset.left,c=i.offset.top,d=p+i.proportions().width,h=c+i.proportions().height;switch(s){case"fit":return p<=n&&a<=d&&c<=r&&l<=h;case"intersect":return p<n+t.helperProportions.width/2&&a-t.helperProportions.width/2<d&&c<r+t.helperProportions.height/2&&l-t.helperProportions.height/2<h;case"pointer":return e(o.pageY,c,i.proportions().height)&&e(o.pageX,p,i.proportions().width);case"touch":return(r>=c&&r<=h||l>=c&&l<=h||r<c&&l>h)&&(n>=p&&n<=d||a>=p&&a<=d||n<p&&a>d);default:return!1}}}();return e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var s,o,n=e.ui.ddmanager.droppables[t.options.scope]||[],r=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(s=0;s<n.length;s++)if(!(n[s].options.disabled||t&&!n[s].accept.call(n[s].element[0],t.currentItem||t.element))){for(o=0;o<a.length;o++)if(a[o]===n[s].element[0]){n[s].proportions().height=0;continue e}n[s].visible="none"!==n[s].element.css("display"),n[s].visible&&("mousedown"===r&&n[s]._activate.call(n[s],i),n[s].offset=n[s].element.offset(),n[s].proportions({width:n[s].element[0].offsetWidth,height:n[s].element[0].offsetHeight}))}},drop:function(i,s){var o=!1;return e.each((e.ui.ddmanager.droppables[i.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t(i,this,this.options.tolerance,s)&&(o=this._drop.call(this,s)||o),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,s)))}),o},dragStart:function(t,i){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(i,s){i.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(i,s),e.each(e.ui.ddmanager.droppables[i.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var o,n,r,a=t(i,this,this.options.tolerance,s),l=!a&&this.isover?"isout":a&&!this.isover?"isover":null;l&&(this.options.greedy&&(n=this.options.scope,(r=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===n})).length&&((o=e(r[0]).droppable("instance")).greedyChild="isover"===l)),o&&"isover"===l&&(o.isover=!1,o.isout=!0,o._out.call(o,s)),this[l]=!0,this["isout"===l?"isover":"isout"]=!1,this["isover"===l?"_over":"_out"].call(this,s),o&&"isout"===l&&(o.isout=!1,o.isover=!0,o._over.call(o,s)))}})},dragStop:function(t,i){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},!1!==e.uiBackCompat&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),e.ui.droppable})?s.apply(t,o):s)||(e.exports=n)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_jquery.ui.droppable', location = 'aui.chunk.4387b11a73d130f1830c--9d93ac39e4878e617bbe.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["jquery.ui.droppable"],{qe8r:function(u,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i("PTCr"),e.default="jquery",u.exports=e.default}},[["qe8r","runtime","aui.splitchunk.vendors--20a97d6a33","aui.splitchunk.vendors--d18e3cafa7","aui.splitchunk.vendors--db57146687","aui.splitchunk.vendors--351ae504d7","aui.splitchunk.vendors--9c8c8c1546","aui.splitchunk.vendors--51504ebf10","aui.splitchunk.vendors--06bc6ae5d7","aui.splitchunk.vendors--825acd7236","aui.splitchunk.0d131bcbf1"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'includes/js/rapid/Events.js' */
define("jira-agile/rapid/events",["require"],function(t){function n(t){return t?e.extend(t,n.prototype):t=this,t._bindings=[],t}var e=t("underscore");return n.prototype={on:function(t,n,e){return e&&this._off({type:t,context:e}),this._bindings.push({type:t,handler:n,context:e}),this},off:function(t){return e.isString(t)?this._off({type:t}):e.isFunction(t)?this._off({handler:t}):e.isObject(t)&&this._off({context:t}),this},_off:function(t){this._bindings=e.reject(this._bindings,function(n){var e=!t.type||t.type===n.type,i=!t.context||t.context===n.context,r=!t.handler||t.handler===n.handler;return e&&i&&r})},trigger:function(t){var n=Array.prototype.slice.call(arguments,1);return e.each(this._bindings,function(e){e.type===t&&e.handler.apply(e.context,n)}),this}},n}),AJS.namespace("GH.Events",null,require("jira-agile/rapid/events"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'includes/js/rapid/GlobalEvents.js' */
define("jira-agile/rapid/global-events",["require"],function(e){"use strict";var i=e("jira-agile/rapid/events");return new i});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'includes/js/gh-namespace.js' */
AJS.namespace("GH.namespace",null,AJS.namespace);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'includes/js/gh-config.js' */
define("jira-agile/config",[],function(){"use strict";var i={};return i.isSampleDataAvailable=!1,i}),AJS.namespace("GH.Config",null,require("jira-agile/config"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'includes/js/rapid/Ajax.js' */
define("jira-agile/rapid/ajax",["jira/util/formatter","jira/ajs/ajax/smart-ajax","jira/util/data/meta","underscore","wrm/context-path","jquery","jira/jquery/deferred"],function(e,r,t,n,o,a,s){var u={};return u.CONTEXT_PATH=o(),u.REST_URL_BASE="/rest/greenhopper/1.0",u.PUBLIC_REST_URL_BASE="/rest/agile/1.0",u.xhrRegistery={},u.stallTimeout=300,u.get=function(e,r){a.extend(e,{type:"GET",headers:{"X-Atlassian-GreenHopper-Gadget":!n.isUndefined(GH.gadget)}});var t=u._executeGet(e,r);return t.pipe(function(e,r,t){return s().resolveWith(this,[e.success,r,t])})},u.post=function(e){return e=u._getSettings(e,!0),a.extend(e,{type:"POST",contentType:"application/json"}),u._executeStore(e)},u.put=function(e){return e=u._getSettings(e,!0),e.type="PUT",u._executeStore(e)},u.del=function(e){return e=u._getSettings(e,!0),e.type="DELETE",u._executeStore(e)},u._getSettings=function(e,r){return!e.bareUrl&&e.url&&(e.bareUrl=u.buildRestUrl(e.url)),e.bareUrl&&(e.url=e.bareUrl),e.dataType||(e.dataType="json"),e.data&&r&&(e.data=JSON.stringify(e.data)),e.contentType="application/json",e},u._getXhrData=function(e){var r={timestamp:0};return e&&(r=u.xhrRegistery[e]?u.xhrRegistery[e]:u.xhrRegistery[e]=r),r},u._executeGet=function(e,r){e=u._getSettings(e);var t=u._getXhrData(r);t.xhr&&(GH.log("aborting request for "+r,GH.Logger.Contexts.ajax),t.xhr.abort(),delete t.xhr,delete t.xhrAbort,delete t.timeoutId);var n=t.timestamp;if(t.timestamp=(new Date).getTime(),t.timestamp-n<u.stallTimeout){GH.log("stalling request for "+r+", time since last request: "+(t.timestamp-n),GH.Logger.Contexts.ajax);var o,a=s(),i=function(){o=u._executeGet(e,r),o.done(a.resolve).fail(a.reject)};t.timeoutId=window.setTimeout(i,u.stallTimeout),t.xhr=a.promise(),t.xhr.abort=function(){o?o.abort.apply(o,arguments):clearTimeout(t.timeoutId)}}else GH.log("executing request for "+r,GH.Logger.Contexts.ajax),t.xhr=u.makeRequest(e);return t.xhrAbort=t.xhr.abort,t.xhr.abort=function(){var e=t.xhr,r=t.xhrAbort;if(e&&r)return r.apply(e,arguments)},t.xhr.done(function(){t.xhr&&delete t.xhr}).fail(function(){t.xhr&&delete t.xhr}),t.xhr},u._executeStore=function(e){if(e=e||{},e.data&&"string"==typeof e.data&&/\?\?/.test(e.data)){var r="\\u003F\\u003F";e.data=e.data.replace(/\?\?/g,r)}return e.dataType="json",u.makeRequest(e)},u.makeRequest=function(e){var t=s();e=n.extend(e,{success:function(){t.resolveWith(this,arguments)},error:function(){t.rejectWith(this,arguments)}});var o=t.promise(r.makeRequest(e)),a=o.abort;o.abort=function(e){return o.abortMarker="timeout"!=e,a.apply(o,arguments)};var i=o.pipe(u._generateDoneInterceptor(),u._generateFailInterceptor(e.errorsNoAutoEscape));return e.deferErrorHandling||i.fail(u._generateErrorHandler(e.onGlobalError,e.errorContextMap,e.contextualErrorRenderer,e.globalErrorDismissable)),i},u._generateDoneInterceptor=function(){return function(e,r,t){return e=e||{},e=u._createExtendedResult(e),u.matchesCurrentUser(t)?e.isSuccess()?s().resolveWith(this,[e,r,t]):s().rejectWith(this,[e,t,r,null]):u._handleCurrentUserChanged(t)}},u._generateFailInterceptor=function(e){return function(r,t,n){if(r.abortMarker)return s();if(!u.matchesCurrentUser(r))return u._handleCurrentUserChanged(r);var o={},a=null;if(r.responseText)try{o=JSON.parse(r.responseText)}catch(e){}return o.errors||o.errorMessages?a=u._convertJiraErrors(o,e):o.message&&(a=u._convertFrameworkErrors(o)),a||(a=u._convertGenericErrors(r,n)),s().rejectWith(this,[a,r,t,n])}},u.handleContextualErrors=function(e,r,t){return r=r||{},!!e.hasContextualErrors()&&(a(e.getContextualErrors()).each(function(n,o){var s=r[o.contextId];if(s)if(a.isFunction(s))s(o,e);else{s=a(s),s.siblings(".ghx-error").remove();var u;u=t?t(o):GH.tpl.rapid.notification.renderContextualErrors({errors:o.errors}),s.after(u)}else a(o.errors).each(function(r,t){e.addGlobalError(t)})}),!0)},u.handleGlobalErrors=function(e,r,t){return!!e.hasGlobalErrors()&&(GH.Notification.showErrors({errors:e.getGlobalErrors()},t),r&&r instanceof Function&&r(e),!0)},u.buildRestUrl=function(e){return 0!==e.indexOf("/")&&(e="/"+e),u.buildBareRestUrl(u.REST_URL_BASE+e)},u.buildPublicRestUrl=function(e){return 0!==e.indexOf("/")&&(e="/"+e),u.buildBareRestUrl(u.PUBLIC_REST_URL_BASE+e)},u.buildBareRestUrl=function(e){return 0!==e.indexOf("/")&&(e="/"+e),u.CONTEXT_PATH+e},u._createExtendedResult=function(e){return e?u._extendResult({success:e}):u._extendResult({success:!0})},u._extendResult=function(e){return a.extend(e,{getGlobalErrors:function(){return e.error?e.error.errors:null},getContextualErrors:function(){return e.error?e.error.contextualErrors:null},hasGlobalErrors:function(){return e.error&&e.error.errors&&e.error.errors.length>0},hasContextualErrors:function(){return e.error&&e.error.contextualErrors},addGlobalError:function(r){e.error||(e.error={}),e.error.errors||(e.error.errors=[]),e.error.errors[e.error.errors.length]=r},getSuccessObject:function(){return e.success},isSuccess:function(){return!e.error}})},u._generateErrorHandler=function(e,r,t,n){return function(o){u.handleContextualErrors(o,r,t),u.handleGlobalErrors(o,e,n)}},u._convertJiraErrors=function(e,r){var t=e.errorMessages?e.errorMessages:[];t=n.map(t,function(e){return{message:e,noAutoescape:r}});var o=e.errors?e.errors:{};o=n.map(o,function(e,t){return{contextId:t,errors:[{message:e,noAutoescape:r}]}});var a={error:{errors:t,contextualErrors:o}};return u._extendResult(a)},u._convertFrameworkErrors=function(e){var r={error:{errors:[{message:e.message}],contextualErrors:[]}};return u._extendResult(r)},u._convertGenericErrors=function(r,t){var n=u._extendResult({});return r.responseText&&GH.log("Got an error response with text that we don't know how to parse: "+r.responseText),504===r.status||0===r.status&&a.contains(["abort","timeout"],t)?n.addGlobalError({status:504,message:"Request timed out"}):t?n.addGlobalError({status:r.status,message:t}):GH.log("Got an Ajax request error response with empty 'errorThrown' value. Silently logging"),n},u._hasUsernameResponseHeader=function(e){return!!e.getResponseHeader("X-AUSERNAME")},u._getUserForResponse=function(e){return e.getResponseHeader("X-AUSERNAME")?decodeURIComponent(e.getResponseHeader("X-AUSERNAME")):"anonymous"},u.getUserFromAJS=function(){var e=t.get("remote-user");return e?e:"anonymous"},u.matchesCurrentUser=function(e){return!e.getResponseHeader||!e.getAllResponseHeaders||!u._hasUsernameResponseHeader(e)||u.getUserFromAJS()===u._getUserForResponse(e)||204===e.status&&!e.getAllResponseHeaders()&&a.browser.msie},u._handleCurrentUserChanged=function(e){var r=u.getUserFromAJS(),t=u._getUserForResponse(e);return"anonymous"!==r&&"anonymous"===t?(GH.log("User changed. original: "+r+" new: "+t+". Redirecting to the login page"),location.href=GH.Navigation.getLoginUrl()):(GH.log("User changed. original: "+r+" new: "+t+". Reloading the page"),location.reload()),s()},u}),AJS.namespace("GH.Ajax",null,require("jira-agile/rapid/ajax"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'includes/js/rapid/Logger.js' */
define("jira-agile/rapid/logger",["underscore","jira/util/logger"],function(e,t){var a={ajax:"ajax",event:"event",state:"state",ui:"ui",callback:"callback",refresh:"refresh"};return{Contexts:a,enabledContexts:[a.ajax,a.event,a.state,a.ui,a.callback,a.refresh],log:function(a,i){if(!i||e.contains(this.enabledContexts,i)){var n=i?this.pad(i,6)+": "+a:a;t.log(n)}},pad:function(e,t){return e.length<t?e+"                               ".substr(0,t-e.length):e},timeMap:{},timeStart:function(e){if(!e)throw"start: If starting a timer manually a name must be set";this.timeMap[e]=(new Date).getTime()},timeStop:function(e){if(!(e in this.timeMap))throw"stop:"+e+" not found";var t=(new Date).getTime()-this.timeMap[e];delete this.timeMap[e],this.log(t+"ms on "+e,this.Contexts.ui)}}}),AJS.namespace("GH.Logger",null,require("jira-agile/rapid/logger")),AJS.namespace("GH.log",null,require("jira-agile/rapid/logger").log);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'includes/js/rapid/state/storage.js' */
define("jira-agile/rapid/state/storage",[],function(){"use strict";var e={};return e.get=function(e,t){var r=void 0;if(r=t?sessionStorage.getItem(e):localStorage.getItem(e),"string"!=typeof r)return r;try{return JSON.parse(r)}catch(e){return GH.log("GH.storage: Caught error: "+e),void GH.log("GH.storage: Cannot parse json string retrieved from "+(t?"session":"local")+" storage. Ignoring value "+r)}},e.put=function(e,t,r){if(null===t||void 0===t)r?sessionStorage.removeItem(e):localStorage.removeItem(e);else try{r?sessionStorage.setItem(e,JSON.stringify(t)):localStorage.setItem(e,JSON.stringify(t))}catch(e){return!1}return!0},window.localStorage&&window.sessionStorage||(e.get=function(){return null},e.put=function(){return!1}),e}),AJS.namespace("GH.storage",null,require("jira-agile/rapid/state/storage"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'includes/js/rapid/Validation.js' */
define("jira-agile/rapid/validation",["jira/util/formatter","jquery"],function(r,t){var n={};return n.notBlank=function(r,e,a){var i=n.applyRules(r,e,a,function(){return t.trim(t(r).val()).length>0});return i},n.maxLength=function(r,e,a,i){var o=n.applyRules(r,a,i,function(){return t.trim(t(r).val()).length<=e});return o},n.isPositiveInteger=function(r,e,a){var i=n.applyRules(r,e,a,function(){return/^\d*$/.test(t.trim(t(r).val()))});return i},n.applyRules=function(r,e,a,i){r=t(r);var o=a?t(a):r,l=i.call(this);return!!l||(n.showContextualErrors(o,e),!1)},n.showContextualErrors=function(t,e,a,i,o){n.clearContextualErrors(t),t.after(GH.tpl.rapid.notification.renderContextualErrors({errors:[{message:r.I18n.getText(e,a,i,o)}]}))},n.clearContextualErrors=function(r){r=t(r),r.find(".ghx-error").remove(),r.siblings(".ghx-error").remove()},n}),AJS.namespace("GH.Validation",null,require("jira-agile/rapid/validation"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'includes/js/gh-helppaths.js' */
AJS.namespace("GH.HelpPaths"),GH.HelpPaths.getHelpPath=function(e){return null};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'includes/js/gh-message.js' */
define("jira-agile/message",["jira/util/logger"],function(e){"use strict";var a={};return a.showIssueMessage=function(){e.warn("[deprecated] GH.Message.showIssueMessage has no effect, @see module:jira-agile/rapid/ui/notification")},a.showSuccess=function(){e.warn("[deprecated] GH.Message.showSuccess has no effect, @see module:jira-agile/rapid/ui/notification")},a.showWarning=function(){e.warn("[deprecated] GH.Message.showWarning has no effect, @see module:jira-agile/rapid/ui/notification")},a.showPersistentWarning=function(){e.warn("[deprecated] GH.Message.showPersistentWarning has no effect, @see module:jira-agile/rapid/ui/notification")},a}),AJS.namespace("GH.Message",null,require("jira-agile/message"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'includes/js/rapid/Util.js' */
define("jira-agile/rapid/util",["underscore","jquery"],function(e,r){var n={};return n.getPluginKey=function(){return r('meta[name="ghx-plugin-key"]').attr("content")},n.wrapPreventDefault=function(e,r){return function(n){return n.preventDefault(),e.apply(r||this,arguments)}},n.andThenSplice=function(){return{_needsSplice:Array.prototype.slice.call(arguments)}},n.andThen=function(n){var t=[{trigger:"resolveWith",on:"done",filter:arguments[1]},{trigger:"rejectWith",on:"fail",filter:arguments[2]},{trigger:"notifyWith",on:"progress",filter:arguments[3]}];return r.Deferred(function(r){e.each(t,function(t){var i=t.on,a=t.trigger,o=e.isFunction(t.filter)&&t.filter;n[i](function(){var n=o&&o.apply(this,arguments);if(n&&e.isFunction(n.promise))n.promise().done(r.resolve).fail(r.reject).progress(r.notify);else{var t;t=n&&e.isArray(n._needsSplice)?n._needsSplice:o?[n]:arguments,r[a](e.isFunction(this.promise)?r.promise():this,t)}})})}).promise()},r._OriginalDeferred=r.Deferred,r.Deferred=function(e){return r._OriginalDeferred(function(r){r.andThen=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(r),n.andThen.apply(this,e)};var t=r.promise;r.promise=function(){var e=t.apply(this,arguments);return e.andThen=function(){var r=Array.prototype.slice.call(arguments);return r.unshift(e),n.andThen.apply(this,r)},e},e&&e.call(r,r)})},n.indexOf=function(r,n,t){var i=-1;return t&&(r=r.slice().reverse()),e.some(r,function(e,a){return!!n(e,a)&&(i=t?r.length-1-a:a,!0)}),i},n.swapArrayItems=function(e,r,n){var t;return!!(e&&r!==n&&Math.min(r,n)>=0&&Math.max(r,n)<e.length)&&(t=e[n],e[n]=e[r],e[r]=t,!0)},n.roundToDecimalPlaces=function(e,r){if("number"!=typeof e||e===Math.round(e))return e;if(0===r)return Math.round(e);var n=e.toString();if(n.indexOf("e")>=0)return e;var t=e<0,i=n.split("."),a=+i[1].charAt(r);if(i[1]=i[1].substr(0,r),a>5||!t&&5===a){var o=/^0*/.exec(i[1])[0];i[1]=o+(+i[1]+1),i[1].length>r&&(o?i[1]=i[1].substr(i[1].length-r):(i[0]=+i[0]+1,i[1]=0))}return parseFloat(i.join("."))},n}),AJS.namespace("GH.Util",null,require("jira-agile/rapid/util"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'includes/js/rapid/UserData.js' */
define("jira-agile/rapid/user-data",["jira/util/data/meta"],function(e){var r={};return r.remoteUser=e.get("remote-user"),r.loggedIn=!!r.remoteUser,r.hasUser=function(){return r.loggedIn},r.getUserName=function(){return r.remoteUser},r.canCreateProject=function(){return r.userConfig.canCreateProject},r.setGlobalConfig=function(e){r.quickCreateDefaultIssueTypeId=e.quickCreateDefaultIssueTypeId,r.userConfig=e.userConfig,r.userConfig&&r.userConfig.canCreateProject&&(r.userConfig.canCreateProject=!GH.Features.DISABLE_CREATE_PROJECT.isEnabled())},r}),AJS.namespace("GH.UserData",null,require("jira-agile/rapid/user-data"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'includes/js/gh-features.js' */
define("jira-agile/gh-features",["jira/ajs/dark-features"],function(e){"use strict";function a(e){this.featureKey=e,this.featureEmergencyDisabledKey=e+".emergencyDisabled"}return a.prototype.isEnabled=function(){return e.isEnabled(this.featureKey)&&!e.isEnabled(this.featureEmergencyDisabledKey)},Object.freeze({DISABLE_CREATE_PROJECT:new a("jag.DISABLE_CREATE_PROJECT"),EDITABLE_DETAIL_VIEW_ENABLED:new a("com.atlassian.jira.agile.darkfeature.editable.detailsview"),SPLIT_ISSUE:new a("com.atlassian.jira.agile.darkfeature.splitissue")})}),AJS.namespace("GH.Features",null,require("jira-agile/gh-features"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-core', location = 'includes/js/gh/navigation/Navigation.js' */
define("jira-agile/rapid/navigation",["wrm/context-path"],function(a){"use strict";var i={};return i.gotoDefaultRapidBoardPage=function(a,n){window.location.href=i.getDefaultRapidBoardPageUrl(a,n)},i.getDefaultRapidBoardPageUrl=function(a,n){var e=_.isUndefined(n)?"":"&view="+n;return i.getCanonicRapidBoardPageUrl(a)+e},i.getCanonicRapidBoardPageUrl=function(i){return a()+"/secure/RapidBoard.jspa?rapidView="+i},i.getLoginUrl=function(){return a()+"/login.jsp?os_destination="+encodeURIComponent(window.location.href)},i}),AJS.namespace("GH.Navigation",null,require("jira-agile/rapid/navigation"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-dialog', location = 'includes/js/dialog/dialog.js' */
AJS.namespace("GH.Dialog"),GH.Dialog.baseExtension={_getDefaultOptions:function(){return AJS.$.extend(this._super(),{onDialogFinished:function(){this.handleSuccess()}})},_performRedirect:function(){this.redirected=!0,this.handleSuccess()},hide:function(e,n){return JIRA.Dialog.current===this&&(this._super(e),void(n===!0||!n||n.reason!==JIRA.Dialog.HIDE_REASON.escape&&n.reason!==JIRA.Dialog.HIDE_REASON.cancel||this.doCancelCleanup()))},doCancelCleanup:function(){},handleSuccess:function(){}};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-dialog', location = 'includes/js/rapid/ops/DialogExtension.js' */
AJS.namespace("GH.Dialog.XBoardExtension"),GH.Dialog.XBoardExtension.getActionInfo=function(e){var t="workflow-transition-",a=e.options.id;return a.substring(0,t.length)===t?{formId:a,isTransition:!0,transitionId:a.substring(t.length)}:{formId:a,isTransition:!1}},GH.Dialog.XBoardExtension.handleSuccess=function(){GH.IssueOperationShortcuts.clearOverrideSelectedIssue(),this.hide(!0,!0),this._hideloadingIndicator();var e=GH.Dialog.XBoardExtension.getActionInfo(this),t=GH.IssueOperationShortcuts.getSelectedIssueId(),a=GH.IssueOperationShortcuts.getSelectedIssueKey();GH.WorkController.isActive()?GH.Dialog.handleWorkModeUpdate(t,a,e):GH.PlanController.isActive()&&GH.Dialog.handlePlanModeUpdate(t,a,e),AJS.$(GH).trigger("issueTransitioned",{issueId:t}),GH.Notification.showIssueMessage(t),GH.WorkDragAndDrop.transitionTargetStatus=void 0},GH.Dialog.handlePlanModeUpdate=function(e,t,a){if(!GH.IssueOperationShortcuts.isOverrideSelectedIssueActive()){var o=0,r=null,s=GH.BacklogModel.findModelWithIssue(t);s&&(GH.SprintModel.isSprintModel(s)&&(r=s.getSprintId()),o=s.getIssueList().getIssueIndex(t)),GH.PlanController.reload(function(){var e=GH.BacklogSelectionController.getSelectedIssueKey();if(!e){var t=null;r&&(t=GH.BacklogModel.getSprintModel(r)),t||(t=GH.BacklogModel.getBacklogModel2()),GH.BacklogSelectionController.selectIssue(t.getIssueList().getIssueKeyAtIndex(o))}})}},GH.Dialog.handleWorkModeUpdate=function(e,t,a){var o=GH.Dialog.createParentCompletedCheckCallback(t),r=GH.Dialog.createSelectMostAppropriateIssueCallback(t);if(a.isTransition)if(GH.WorkDragAndDrop.transitionTargetStatus){var s=GH.WorkDragAndDrop.transitionTargetStatus,n=GH.GridDataController.getModel(),i=n.getIssueDataByKey(t),l=n.getIssuePositionByKey(t),d=n.getColumns(),u=l.columnId,c=GH.GridColumnsData.getColumnIdForStatus(d,s);n.moveIssueToColumn(t,u,c),i.status=s,n.updateIssueData(i),GH.SwimlaneView.rerenderCell(l.swimlaneId,u),GH.SwimlaneView.rerenderCell(l.swimlaneId,c),o()}else GH.CallbackManager.registerCallback(GH.WorkController.CALLBACK_POOL_LOADED,"ParentWithAllSubsCompletedCheck",o);GH.CallbackManager.registerCallback(GH.WorkController.CALLBACK_POOL_LOADED,"SelectMostAppropriateIssueCallback",r),GH.WorkController.reload()},GH.Dialog.createParentCompletedCheckCallback=function(e){return function(){var t=GH.GridDataController.getModel();if(!_.isUndefined(t.data.issues[e])&&!_.isUndefined(t.data.issues[e].parentKey)){var a=t.data.issues[e].parentKey;if(_.contains(t.data.columnIssueMapping[_.last(t.data.columns).id],e)){var o=t.data.columnIssueMapping[_.last(t.data.columns).id],r=_.toArray(t.data.issues).reduce(function(e,t){return o.indexOf(t.key)>-1?e:e.concat(t.key)},[]),s=_.find(r,function(e){return t.data.issues[e].parentKey===a});s||GH.WorkController.resolveParentTask(t.data.issues[a])}}}},GH.Dialog.createSelectMostAppropriateIssueCallback=function(e){var t=GH.GridDataController.getModel().getIssuePositionByKey(e);return function(){var a=GH.GridDataController.getModel().getIssueDataByKey(e);if(!a){var o=GH.GridDataController.getModel().getIssueKeyAtPosition(t);o?(GH.WorkSelectionController.selectIssue(o,{pushState:!1,dontUpdateUI:!0}),GH.RapidBoard.State.replaceState()):(GH.WorkSelectionController.selectIssue(void 0,{pushState:!1,dontUpdateUI:!0}),GH.RapidBoard.State.replaceState())}}},GH.Dialog.XBoardExtension.doCancelCleanup=function(){GH.IssueOperationShortcuts.clearOverrideSelectedIssue(),GH.WorkDragAndDrop.transitionTargetStatus=void 0};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-dialog', location = 'includes/js/dialog/form-dialog.js' */
AJS.namespace("GH.FormDialog"),GH.FormDialog=JIRA.FormDialog.extend(GH.Dialog.baseExtension),GH.FormDialog=GH.FormDialog.extend(GH.Dialog.XBoardExtension);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-dialog', location = 'includes/js/dialog/labels-dialog.js' */
define("jira-agile/dialog/labels-dialog",["jira/dialog/labels-dialog"],function(i){var n=i.extend(GH.Dialog.baseExtension);return n=n.extend(GH.Dialog.XBoardExtension),n=n.extend({_handleSubmitResponse:function(i,n,t){this.serverIsDone&&(this.options.onSuccessfulSubmit&&this.options.onSuccessfulSubmit.call(this,i,n,t),this.options.autoClose&&this.hide(),this.options.onDialogFinished&&this.options.onDialogFinished.call(this,i,n,t))},decorateContent:function(){this._super();var i=this.get$popupContent(),n=i.find("input[name=customFieldId]");if(1===n.length){var t=i.find("#hint");t.hide()}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-dialog', location = 'includes/js/rapid/ui/dialog/DialogUtil.js' */
!function(){AJS.namespace("GH.Dialog");var n=require("aui/dialog");GH.Dialog.create=function(e){AJS.$("#"+e.id).remove(),e=_.defaults(e,{bindEscape:!0});var i=new n(e),a=i.show,o=function(){GH.Dialog.preShow(),a.call(i);var n=AJS.$("#"+e.id).find(".dialog-button-panel .aui-button");n.is(":enabled")&&n.focus(),AJS.$("#"+e.id).addClass("ghx-dialog")};return _.extend(i,{dispose:GH.Dialog.generateCloseHandler(i),cancel:GH.Dialog.generateCloseHandler(i,e.onCancelFn),submit:GH.Dialog.generateCloseHandler(i,e.onConfirmFn),show:o,disableControls:GH.Dialog.generateDisableControlsFn(i),enableControls:GH.Dialog.generateEnableControlsFn(i),showSpinner:GH.Dialog.generateShowSpinnerFn(i),hideSpinner:GH.Dialog.generateHideSpinnerFn(i)}),GH.Dialog.bindEscapeHandler(i,!e.bindEscape),i},GH.Dialog.addCancelButton=function(n){n.addCancel("Cancel",function(e){n.cancel(n)})},GH.Dialog.bindEscapeHandler=function(n,e){e?JIRA.bind("Dialog.beforeHide",function(e,i,a,o){o===n.id&&a===JIRA.Dialog.HIDE_REASON.escape&&e.preventDefault()}):AJS.$(document).bind("keyup."+n.id,function(e){27==e.keyCode&&n.cancel(n)})},GH.Dialog.generateCloseHandler=function(n,e){return function(){return n.remove(),GH.Dialog.undim(),AJS.$(document).unbind("keyup."+n.id),AJS.unbind("remove.dialog"),e&&e(n),!1}},GH.Dialog.generateDisableControlsFn=function(n){return function(){AJS.$("#"+n.id+" button").attr("disabled","disabled")}},GH.Dialog.generateEnableControlsFn=function(n){return function(){AJS.$("#"+n.id+" button").removeAttr("disabled")}},GH.Dialog.generateShowSpinnerFn=function(n){return function(){AJS.$("#"+n.id).find(".button-panel-cancel-link").css("visibility","hidden").before('<span class="ghx-spinner"/>')}},GH.Dialog.generateHideSpinnerFn=function(n){return function(){AJS.$("#"+n.id).find(".ghx-spinner").remove().end().find(".button-panel-cancel-link").css("visibility","visible")}},GH.Dialog.sanitizeAJSDim=function(){var n=AJS.dim;AJS.dim=function(){try{n.apply(this,arguments)}catch(n){}}},GH.Dialog.registerDialog=function(n,e,i){AJS.$(document).undelegate(n,"click").delegate(n,"click",function(n){var a=AJS.$(this);a.hasClass("disabled")||(n.preventDefault(),e(n,i))})},GH.Dialog.dim=function(){AJS.dim(),AJS.$(".aui-blanket").html('<div class="jira-spinner-container"><aui-spinner size="medium" class="jira-page-loading-indicator"></aui-spinner></div>')},GH.Dialog.undim=function(){AJS.undim(),AJS.$(".aui-blanket").empty()},GH.Dialog.preShow=function(){AJS.$(".aui-blanket").empty()}}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-persistent-messages', location = 'includes/js/rapid/ui/persistent-messages/CreateViewMessage.js' */
AJS.namespace("GH.PersistentMessages.CreateViewMessage"),GH.PersistentMessages.CreateViewMessage={},GH.PersistentMessages.CreateViewMessage.setView=function(e,s,a,t){var r={id:e,name:s,type:a,subType:t};GH.storage.put("gh.createViewMessage",r,!0)},GH.PersistentMessages.CreateViewMessage.clear=function(){GH.storage.put("gh.createViewMessage",null,!0)},GH.PersistentMessages.CreateViewMessage.renderMessage=function(e){e&&GH.log(e.type+" handled","GH.PersistentMessages.CreateViewMessage.renderMessage");var s=GH.storage.get("gh.createViewMessage",!0);if(s){var a=null;s.name=AJS.escapeHTML(String(s.name));var t;"advanced"==s.type?t=GH.tpl.board.x.renderCreateViewMessage:"kanban"==s.subType?t=GH.tpl.board.x.renderWelcomeViewMessageKanban:"scrum"==s.subType&&(t=GH.tpl.board.x.renderWelcomeViewMessageScrum),a=t({rapidView:s,url:AJS.parseUri(window.location.href)}),GH.Notification.showSuccess(a,{title:"Success",timeout:1e4}),GH.PersistentMessages.CreateViewMessage.clear()}};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-persistent-messages', location = 'includes/js/rapid/ui/persistent-messages/WelcomeMessage.js' */
AJS.namespace("GH.PersistentMessages.WelcomeMessage"),GH.PersistentMessages.WelcomeMessage={},GH.PersistentMessages.WelcomeMessage.show=function(e){GH.storage.put("gh.welcomeMessage",e,!0)},GH.PersistentMessages.WelcomeMessage.renderMessage=function(){var e=GH.storage.get("gh.welcomeMessage",!0);if(e){var s=null;e.rapidView.name=AJS.escapeHTML(String(e.rapidView.name)),e.project.name=AJS.escapeHTML(String(e.project.name));var a=null;/kanban/.test(e.preset)?a=e.sample?GH.tpl.board.x.renderWelcomeProjectSampleMessageKanban:GH.tpl.board.x.renderWelcomeProjectMessageKanban:/scrum/.test(e.preset)&&(a=e.sample?GH.tpl.board.x.renderWelcomeProjectSampleMessageScrum:GH.tpl.board.x.renderWelcomeProjectMessageScrum),s=a({project:e.project,rapidView:e.rapidView,url:AJS.parseUri(window.location.href)}),GH.Notification.showSuccess(s,{title:"Success",timeout:1e4}),GH.storage.put("gh.welcomeMessage",null,!0)}};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-project-picker', location = 'includes/js/projects/project-picker.js' */
define("jira-agile/projects/project-picker",[],function(){"use strict";var t=function(t){if(!t||!t.selector)throw new Error("Project picker requires a selector");this.$select=AJS.$(t.selector),t.currentProjectId&&(this.currentProjectId=t.currentProjectId,this.currentProject=null),this.multiselect=new AJS.MultiSelect({element:this.$select,width:300,itemAttrDisplayed:"label",ajaxOptions:{url:GH.Ajax.buildRestUrl("/project.json"),formatResponse:this._processAjax.bind(this)}}),"function"==typeof t.change&&(this.$select.bind("unselect",t.change),this.$select.bind("change",t.change)),this.currentProjectId&&this.multiselect.requestSuggestions(!0).done(function(){this.currentProject&&this.multiselect.addItem(this._getProjectDescriptor(this.currentProject))}.bind(this))};return t.prototype.show=function(){AJS.warn("ProjectPicker.show is deprecated. It is no longer needed as all initialisation occurs in the constructor")},t.prototype.hasValue=function(){return!!this.$select.val()},t.prototype.hasErrors=function(){return this.multiselect.$container.parent().find(".error").length>0},t.prototype.getValue=function(){return this.$select.val()},t.prototype.getElement=function(){return this.$select},t.prototype._findProject=function(t,e){return(t||[]).filter(function(t){return e&&t.id===e}.bind(this))[0]},t.prototype._findUnmatchingProjects=function(t,e){return(t||[]).filter(function(t){return!e||t.id!==e}.bind(this))},t.prototype._processAjax=function(t){if(!t||!t.projects||!t.projects.length)return[];this.currentProject=this._findProject(t.projects,this.currentProjectId);var e=this._findUnmatchingProjects(t.projects,this.currentProjectId).map(this._getProjectDescriptor.bind(this));return this.currentProject?[this._getProjectDescriptor(this.currentProject)].concat(e):e},t.prototype._getProjectDescriptor=function(t){if(!t)throw new Error("ProjectPicker.prototype._getProjectDescriptor requires a project");return new AJS.ItemDescriptor({value:t.id+"",label:t.displayName,html:AJS.escapeHTML(String(t.displayName))})},t}),AJS.namespace("GH.ProjectPicker",null,require("jira-agile/projects/project-picker"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-create-board', location = 'includes/js/rapid/ui/startwizard/WizardView.soy' */
// This file was automatically generated from WizardView.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.startwizard.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.startwizard == 'undefined') { GH.tpl.startwizard = {}; }


GH.tpl.startwizard.renderMethodologySelectionStep = function(opt_data, opt_ignored) {
  return '<form class="aui ghx-halved-vertical"><div class="aui-group"><div class="aui-item"><h2>' + soy.$$escapeHtml('Scrum') + '</h2><p>' + soy.$$escapeHtml('Scrum focuses on planning, committing and delivering time-boxed chunks of work called Sprints.') + '</p></div><div class="aui-item"><h2>' + soy.$$escapeHtml('Kanban') + '</h2><p>' + soy.$$escapeHtml('Kanban focuses on visualising your workflow and limiting work-in-progress to facilitate incremental improvements to your existing process.') + '</p></div></div><div class="aui-group ghx-button-group"><div class="aui-item"><button id="ghx-wizard-methodology-scrum" class="aui-button">' + soy.$$escapeHtml('Create a Scrum board') + '</button></div><div class="aui-item"><button id="ghx-wizard-methodology-kanban" class="aui-button">' + soy.$$escapeHtml('Create a Kanban board') + '</button></div></div>' + ((opt_data.isSampleDataAvailable && opt_data.canCreateProject) ? '<div class="aui-group"><div class="aui-item"><button id="ghx-wizard-methodology-scrum-sample" class="aui-button aui-button-link">' + soy.$$escapeHtml('Create a Scrum board with sample data') + '</button></div><div class="aui-item"><button id="ghx-wizard-methodology-kanban-sample" class="aui-button aui-button-link">' + soy.$$escapeHtml('Create a Kanban board with sample data') + '</button></div></div>' : '') + '</form>';
};
if (goog.DEBUG) {
  GH.tpl.startwizard.renderMethodologySelectionStep.soyTemplateName = 'GH.tpl.startwizard.renderMethodologySelectionStep';
}


GH.tpl.startwizard.renderMethodSelectionStep = function(opt_data, opt_ignored) {
  return '<div class="aui-group ghx-split" id="js-method-choice"><div class="aui-item"><form class="aui"><fieldset class="group ghx-space-saver">' + ((opt_data.canCreateProject) ? '<div class="radio"><input class="radio" type="radio" id="ghx-wizard-method-new-project" name="ghx-wizard-method" value="newProject" ' + ((opt_data.selectedOption == 'newProject') ? 'checked="checked"' : '') + '><label for="ghx-wizard-method-new-project">' + soy.$$escapeHtml('Board created with new Software project') + '</label><div class="description">' + soy.$$escapeHtml('A new board based on a new Software project') + '</div></div>' : '') + ((opt_data.hasProjectsAccessible) ? '<div class="radio"><input class="radio" type="radio" id="ghx-wizard-method-existing-project" name="ghx-wizard-method" value="existingProject" ' + ((opt_data.selectedOption == 'existingProject') ? 'checked="checked"' : '') + '><label for="ghx-wizard-method-existing-project">' + soy.$$escapeHtml('Board from an existing project') + '</label><div class="description">' + soy.$$escapeHtml('Boards can contain one or more projects.') + '</div></div>' : '') + ((opt_data.hasFiltersAccessible) ? '<div class="radio"><input class="radio" type="radio" id="ghx-wizard-method-existing-filter" name="ghx-wizard-method" value="existingFilter" ' + ((opt_data.selectedOption == 'existingFilter') ? 'checked="checked"' : '') + '><label for="ghx-wizard-method-existing-filter">' + soy.$$escapeHtml('Board from an existing Saved Filter') + '</label><div class="description">' + soy.$$escapeHtml('An advanced option using a JQL filter.') + '</div></div>' : '') + '</fieldset></form></div><div class="aui-item"></div></div>';
};
if (goog.DEBUG) {
  GH.tpl.startwizard.renderMethodSelectionStep.soyTemplateName = 'GH.tpl.startwizard.renderMethodSelectionStep';
}


GH.tpl.startwizard.renderProjectSelectionStep = function(opt_data, opt_ignored) {
  return '<div class="aui-group ghx-split"><div class="aui-item"><form class="aui ajs-dirty-warning-exempt"><fieldset><div class="field-group"><label for="ghx-wizard-project-board-name">' + soy.$$escapeHtml('Board name') + '<span class="aui-icon icon-required"></span></label><input class="text" type="text" id="ghx-wizard-project-board-name" maxlength="155"></div><div class="field-group"><label for="ghx-wizard-choose-project">' + soy.$$escapeHtml('Project(s)') + '<span class="aui-icon icon-required"></span></label><select id="ghx-wizard-choose-project" multiple="multiple" class="hidden"></select><div class="description">' + soy.$$escapeHtml('Select one or more projects to be included in this board.') + '</div></div></fieldset></form></div><div class="aui-item"></div></div>';
};
if (goog.DEBUG) {
  GH.tpl.startwizard.renderProjectSelectionStep.soyTemplateName = 'GH.tpl.startwizard.renderProjectSelectionStep';
}


GH.tpl.startwizard.renderFilterSelectionStep = function(opt_data, opt_ignored) {
  return '<div class="aui-group ghx-split"><div class="aui-item"><form class="aui"><fieldset><div class="field-group"><label for="ghx-wizard-filter-view-name">' + soy.$$escapeHtml('Board name') + '<span class="aui-icon icon-required"></span></label><input class="text" type="text" id="ghx-wizard-filter-view-name" name="name" maxlength="155"></div><div class="field-group" id="ghx-filter-picker"><label for="ghx-wizard-filter-select">' + soy.$$escapeHtml('Saved filter') + '<span class="aui-icon icon-required"></span></label><select id="ghx-wizard-filter-select" class="hidden"></select><div id="ghx-filter-error"></div></div><div id="ghx-create-permissioninfo-container"></div></fieldset></form></div><div class="aui-item ghx-alignwith-textgroup"><h3>' + soy.$$escapeHtml('Saved Filters') + '</h3><div class="description">' + soy.$$escapeHtml('Choose from a list of existing filters as a base for your new board. To create a new Saved Filter, save a search in the Issue Navigator.') + '</div></div></div>';
};
if (goog.DEBUG) {
  GH.tpl.startwizard.renderFilterSelectionStep.soyTemplateName = 'GH.tpl.startwizard.renderFilterSelectionStep';
}


GH.tpl.startwizard.renderProjectCreationStep = function(opt_data, opt_ignored) {
  return '<div class="aui-group ghx-split"><div class="aui-item"><form class="aui"><fieldset><div class="field-group"><label for="ghx-wizard-' + soy.$$escapeHtml(opt_data.prefix) + '-projectname">' + soy.$$escapeHtml('Project name') + '<span class="aui-icon icon-required"></span></label><input class="text" type="text" id="ghx-wizard-' + soy.$$escapeHtml(opt_data.prefix) + '-projectname" value="' + soy.$$escapeHtml(opt_data.sampleInfo.projectName) + '"></div><div class="field-group"><label for="ghx-wizard-' + soy.$$escapeHtml(opt_data.prefix) + '-projectkey">' + soy.$$escapeHtml('Project key') + '<span class="aui-icon icon-required"></span></label><input class="text short-field" type="text" id="ghx-wizard-' + soy.$$escapeHtml(opt_data.prefix) + '-projectkey" value="' + soy.$$escapeHtml(opt_data.sampleInfo.projectKey) + '"></div><div class="field-group"><label for="ghx-wizard-' + soy.$$escapeHtml(opt_data.prefix) + '-projectlead">' + soy.$$escapeHtml('Project lead') + '<span class="aui-icon icon-required"></span></label><select id="ghx-wizard-' + soy.$$escapeHtml(opt_data.prefix) + '-projectlead" class="js-default-user-picker hidden"><option' + ((opt_data.user.avatarUrl) ? ' style="background-image:url(\'' + soy.$$escapeHtml(opt_data.user.avatarUrl) + '\')"' : '') + 'selected="selected" value="' + soy.$$escapeHtml(opt_data.user.name) + '">' + soy.$$escapeHtml(opt_data.user.displayName) + '</option></select><div class="description">' + soy.$$escapeHtml('Start typing to get a list of possible matches.') + '</div></div></fieldset></form></div><div class="aui-item ghx-alignwith-textgroup"><h3>' + soy.$$escapeHtml('Creating a project') + '</h3><div class="description">' + soy.$$escapeHtml('A board will be created with your project, and will be named after your project. You can rename your board in the board configuration screen.') + '</div></div></div>';
};
if (goog.DEBUG) {
  GH.tpl.startwizard.renderProjectCreationStep.soyTemplateName = 'GH.tpl.startwizard.renderProjectCreationStep';
}


GH.tpl.startwizard.renderPermissionInfo = function(opt_data, opt_ignored) {
  return '<div class="field-group"><label for="ghx-create-permissioninfo">' + soy.$$escapeHtml('Shares') + '</label>' + GH.tpl.rapid.view.renderPermissionEntries({permissionEntries: opt_data.savedFilter.permissionEntries}) + '</div><div class="field-group"><label>' + soy.$$escapeHtml('Owner') + '</label><span class="field-value">' + soy.$$escapeHtml(opt_data.savedFilter.owner.displayName) + '</span></div>';
};
if (goog.DEBUG) {
  GH.tpl.startwizard.renderPermissionInfo.soyTemplateName = 'GH.tpl.startwizard.renderPermissionInfo';
}


GH.tpl.startwizard.createProjectTimeout = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(AJS.format('The operation has timed out, the project and board might have been created already. You can confirm this by checking the \x3ca href\x3d\x22{0}\x22\x3eManage Boards\x3c/a\x3e page.',opt_data.manageBoardURL));
};
if (goog.DEBUG) {
  GH.tpl.startwizard.createProjectTimeout.soyTemplateName = 'GH.tpl.startwizard.createProjectTimeout';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-create-board', location = 'includes/js/rapid/configuration/RapidView.soy' */
// This file was automatically generated from RapidView.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.rapid.view.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.rapid == 'undefined') { GH.tpl.rapid = {}; }
if (typeof GH.tpl.rapid.view == 'undefined') { GH.tpl.rapid.view = {}; }


GH.tpl.rapid.view.renderConfigurationHeader = function(opt_data, opt_ignored) {
  return '<div id="ghx-modes-tools">' + aui.buttons.button({text: 'Back to board', type: 'subtle', href: GH.Ajax.CONTEXT_PATH + '/secure/RapidBoard.jspa?rapidView=' + opt_data.rapidViewId + '&useStoredSettings=true', id: 'back-to-board', iconType: 'aui', iconText: 'Back to board', iconClass: 'aui-icon-small aui-iconfont-back-page'}) + '</div><h2>' + soy.$$escapeHtml('Configure') + ' <span id="js-nav-view-name">' + soy.$$escapeHtml(opt_data.name) + '</span></h2>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.view.renderConfigurationHeader.soyTemplateName = 'GH.tpl.rapid.view.renderConfigurationHeader';
}


GH.tpl.rapid.view.renderConfigurationTabs = function(opt_data, opt_ignored) {
  var output = '<div id="ghx-config-header"></div><div class="aui-page-panel"><div class="aui-page-panel-inner"><div class="aui-page-panel-nav"><nav class="aui-navgroup aui-navgroup-vertical"><div class="aui-navgroup-inner"><div class="aui-nav-heading"><strong>' + soy.$$escapeHtml('Configuration') + '</strong></div><ul id="ghx-config-nav" class="aui-nav">';
  var configurationTabList21 = opt_data.configurationTabs;
  var configurationTabListLen21 = configurationTabList21.length;
  for (var configurationTabIndex21 = 0; configurationTabIndex21 < configurationTabListLen21; configurationTabIndex21++) {
    var configurationTabData21 = configurationTabList21[configurationTabIndex21];
    output += '<li data-tabitem="' + soy.$$escapeHtml(configurationTabData21.key) + '"><a href="' + soy.$$escapeHtml(GH.Ajax.CONTEXT_PATH) + '/secure/RapidView.jspa?rapidView=' + soy.$$escapeHtml(opt_data.rapidViewId) + '&amp;tab=' + soy.$$escapeHtml(configurationTabData21.key) + '">' + soy.$$escapeHtml(configurationTabData21.label) + '</a></li>';
  }
  output += '</ul></div></nav></div><section id="ghx-config-panel-content" class="aui-page-panel-content">';
  var configurationTabList35 = opt_data.configurationTabs;
  var configurationTabListLen35 = configurationTabList35.length;
  for (var configurationTabIndex35 = 0; configurationTabIndex35 < configurationTabListLen35; configurationTabIndex35++) {
    var configurationTabData35 = configurationTabList35[configurationTabIndex35];
    output += '<div class="ghx-page-panel-content-item" id="' + soy.$$escapeHtml(configurationTabData35.key) + '">' + soy.$$filterNoAutoescape(configurationTabData35.html) + '</div>';
  }
  output += '</section></div></div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.view.renderConfigurationTabs.soyTemplateName = 'GH.tpl.rapid.view.renderConfigurationTabs';
}


GH.tpl.rapid.view.renderViewNameEditForm = function(opt_data, opt_ignored) {
  var output = '';
  var label__soy45 = 'Board name';
  output += '<label for="ghx-field-viewname">' + soy.$$escapeHtml(label__soy45) + '</label>' + GH.tpl.rapid.view.renderViewNameField({rapidViewName: opt_data.rapidViewName, canEdit: opt_data.canEdit, label: label__soy45});
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.view.renderViewNameEditForm.soyTemplateName = 'GH.tpl.rapid.view.renderViewNameEditForm';
}


GH.tpl.rapid.view.renderViewNameField = function(opt_data, opt_ignored) {
  return '<span class="field-value ' + ((opt_data.canEdit) ? 'js-edit-rapidViewName' : '') + '" data-fieldname="viewname" data-fieldvalue="' + soy.$$escapeHtml(opt_data.rapidViewName) + '" data-ariaLabel="' + soy.$$escapeHtml(opt_data.label) + '"><span id="ghx-field-viewname" ' + ((opt_data.canEdit) ? 'class="ghx-editable"' : '') + '>' + soy.$$escapeHtml(opt_data.rapidViewName) + '</span></span>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.view.renderViewNameField.soyTemplateName = 'GH.tpl.rapid.view.renderViewNameField';
}


GH.tpl.rapid.view.renderViewBoardAdminsEditForm = function(opt_data, opt_ignored) {
  var output = '<label for="ghx-field-view-board-admins">' + soy.$$escapeHtml('Administrators') + '</label><span  class="field-value' + ((opt_data.canEdit) ? ' js-edit-rapidViewBoardAdmin' : '') + '" ><span id="ghx-field-view-board-admins-span" ' + ((opt_data.canEdit) ? 'class="ghx-editable"' : '') + '>';
  var itemList81 = opt_data.model;
  var itemListLen81 = itemList81.length;
  if (itemListLen81 > 0) {
    for (var itemIndex81 = 0; itemIndex81 < itemListLen81; itemIndex81++) {
      var itemData81 = itemList81[itemIndex81];
      output += soy.$$escapeHtml(itemData81.displayName) + ((! (itemIndex81 == itemListLen81 - 1)) ? '<span>, </span>' : '');
    }
  } else {
    output += '<span class="ghx-fa">' + soy.$$escapeHtml('None') + '</span>';
  }
  output += '</span></span><span id="ghx-field-view-board-admins">' + ((opt_data.canUsePicker) ? '<select id="ghx-board-admins" multiple="multiple" class="hidden" aria-hidden="true"></select>' : '') + '</span>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.view.renderViewBoardAdminsEditForm.soyTemplateName = 'GH.tpl.rapid.view.renderViewBoardAdminsEditForm';
}


GH.tpl.rapid.view.renderBoardAdminsEditNoPicker = function(opt_data, opt_ignored) {
  var output = '<span class="ghx-margin-right"><strong>' + soy.$$escapeHtml('Groups') + '</strong>: <input class="text medium-field" id="ghx-board-admin-edit-groups" value="';
  var itemList100 = opt_data.model.groupKeys;
  var itemListLen100 = itemList100.length;
  for (var itemIndex100 = 0; itemIndex100 < itemListLen100; itemIndex100++) {
    var itemData100 = itemList100[itemIndex100];
    output += soy.$$escapeHtml(itemData100.key) + ((! (itemIndex100 == itemListLen100 - 1)) ? ',' : '');
  }
  output += '" /></span><strong>' + soy.$$escapeHtml('Users') + '</strong>: <input class="text medium-field " id="ghx-board-admin-edit-users" value="';
  var itemList109 = opt_data.model.userKeys;
  var itemListLen109 = itemList109.length;
  for (var itemIndex109 = 0; itemIndex109 < itemListLen109; itemIndex109++) {
    var itemData109 = itemList109[itemIndex109];
    output += soy.$$escapeHtml(itemData109.key) + ((! (itemIndex109 == itemListLen109 - 1)) ? ',' : '');
  }
  output += '" /><div class="description">' + soy.$$escapeHtml('Separate user keys and group names with commas.') + '</div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.view.renderBoardAdminsEditNoPicker.soyTemplateName = 'GH.tpl.rapid.view.renderBoardAdminsEditNoPicker';
}


GH.tpl.rapid.view.renderConfigPermissionsWarning = function(opt_data, opt_ignored) {
  return '' + ((opt_data.model.canEdit != true) ? '<div class="aui-message aui-message-warning"><p class="title"><span class="aui-icon icon-warning"></span><strong>' + soy.$$escapeHtml('Contact a Jira or Board Administrator to configure this board.') + '</strong></p></div>' : '');
};
if (goog.DEBUG) {
  GH.tpl.rapid.view.renderConfigPermissionsWarning.soyTemplateName = 'GH.tpl.rapid.view.renderConfigPermissionsWarning';
}


GH.tpl.rapid.view.renderFilterDetails = function(opt_data, opt_ignored) {
  var output = '<form class="aui" id="ghx-savedfilter-form"><div class="aui-message aui-message-warning hidden" id="unmapped-issues-warning"><p>' + soy.$$escapeHtml('Some issues in the Saved Filter will not be shown on the board.') + ' <a href="' + soy.$$escapeHtml(GH.Ajax.CONTEXT_PATH) + '/secure/RapidView.jspa?rapidView=' + soy.$$escapeHtml(opt_data.rapidViewId) + '&amp;tab=columns" id="js-view-columns">' + soy.$$escapeHtml('View unmapped statuses which contain these issues.') + '</a></p></div><div class="field-group"><label>' + soy.$$escapeHtml('Saved Filter') + '</label><span id="ghx-filter-change" class="field-value' + ((opt_data.canEdit) ? ' ghx-editable ghx-ss' : '') + '">' + soy.$$escapeHtml(opt_data.savedFilter.name) + '</span><select id="ghx-filter-change-select" class="hidden" aria-hidden="true"></select><p class="ghx-additional"><a href="' + soy.$$escapeHtml(GH.Ajax.CONTEXT_PATH) + '/secure/IssueNavigator.jspa?mode=show&requestId=' + soy.$$escapeHtml(opt_data.savedFilter.id) + '">' + ((opt_data.savedFilter.canEdit) ? soy.$$escapeHtml('Edit Filter Query') : soy.$$escapeHtml('View Filter Query')) + '</a></p></div>' + GH.tpl.rapid.view.renderPermissionInfo(opt_data) + '<div class="field-group ghx-jql-preview"><label>' + soy.$$escapeHtml('Filter Query') + '</label><span class="field-value">' + ((opt_data.savedFilter.query) ? soy.$$escapeHtml(opt_data.savedFilter.query) : '') + '</span></div><div class="field-group"><label>' + soy.$$escapeHtml('Ranking') + '</label><span class="field-value">';
  if (opt_data.savedFilter.isOrderedByRank) {
    output += soy.$$escapeHtml('Using Rank');
  } else {
    if (! opt_data.savedFilter.orderByWarnings) {
      output += soy.$$escapeHtml('Ranking is disabled, as the Filter Query is not ordered by Rank');
    } else {
      var warningList171 = opt_data.savedFilter.orderByWarnings.errorMessages;
      var warningListLen171 = warningList171.length;
      for (var warningIndex171 = 0; warningIndex171 < warningListLen171; warningIndex171++) {
        var warningData171 = warningList171[warningIndex171];
        output += soy.$$escapeHtml(warningData171) + '<br>';
      }
    }
    output += (opt_data.savedFilter.canEdit && opt_data.savedFilter.canBeFixed) ? '<p><button class="aui-button js-update-filter-order-by">' + soy.$$escapeHtml('Add Rank') + '</button></p>' : '';
  }
  output += '</span></div>';
  if (opt_data.savedFilter.queryProjects) {
    output += '<div class="field-group"><label>' + soy.$$escapeHtml('Projects in board') + '</label><ul id="ghx-show-projects-in-board">';
    if (opt_data.savedFilter.queryProjects.displayMessage) {
      output += '<span class="field-value">' + soy.$$escapeHtml(opt_data.savedFilter.queryProjects.displayMessage) + '</span>';
    } else {
      var avatarSize__soy192 = 'small';
      var projectList193 = opt_data.savedFilter.queryProjects.projects;
      var projectListLen193 = projectList193.length;
      for (var projectIndex193 = 0; projectIndex193 < projectListLen193; projectIndex193++) {
        var projectData193 = projectList193[projectIndex193];
        output += '<li>' + aui.avatar.avatar({isProject: 'true', size: '' + soy.$$escapeHtml(avatarSize__soy192), avatarImageUrl: soy.$$escapeHtml("") + '/secure/projectavatar?size=' + soy.$$escapeHtml(avatarSize__soy192) + '&pid=' + soy.$$escapeHtml(projectData193.id), extraClasses: 'jira-system-avatar', accessibilityText: '' + soy.$$escapeHtml(AJS.format('Project Avatar for {0}',projectData193.name))}) + '<strong>' + soy.$$escapeHtml(projectData193.name) + '</strong><p>';
        var viewProjectPermissionText__soy213 = 'View permission';
        output += ((projectData193.isValidEditProjectConfigAction) ? '<a href="' + soy.$$escapeHtml("") + '/plugins/servlet/project-config/' + soy.$$escapeHtml(projectData193.key) + '/permissions">' + soy.$$escapeHtml(viewProjectPermissionText__soy213) + '</a>' : '<a class="disabled">' + soy.$$escapeHtml(viewProjectPermissionText__soy213) + '</a><span class="aui-icon aui-icon-small aui-iconfont-info" title="' + soy.$$escapeHtml('You are not allowed to view this Project Permission') + '"></span>') + '</p></li>';
      }
    }
    output += '</ul></div>';
  }
  output += (opt_data.isSubqueriesConfigurable) ? '<div class="field-group ghx-jql"><label for="ghx-sub-jql">' + soy.$$escapeHtml('Kanban board sub-filter') + '</label><div id="js-sub-container-work">' + GH.tpl.rapid.view.renderSubQueryView({section: 'board.kanban.work', queryValue: opt_data.subqueries[0], canEdit: opt_data.canEdit}) + '</div><div class="description">' + soy.$$escapeHtml('Further filtering of issues for unreleased work.') + '</div></div>' : '';
  if (opt_data.isOldDoneIssuesCutoffConfigurable) {
    output += '<div class="field-group ghx-show-old-limit"><label for="ghx-limit-days">' + soy.$$escapeHtml('Hide completed issues older than') + '</label><select id="ghx-limit-days" class="select">';
    var optionList249 = opt_data.oldDoneIssuesCutoffOptions;
    var optionListLen249 = optionList249.length;
    for (var optionIndex249 = 0; optionIndex249 < optionListLen249; optionIndex249++) {
      var optionData249 = optionList249[optionIndex249];
      output += '<option value="' + soy.$$escapeHtml(optionData249.value) + '" ' + ((opt_data.oldDoneIssuesCutoff == optionData249.value) ? 'selected="selected"' : '') + '>' + soy.$$escapeHtml(optionData249.label) + '</option>';
    }
    output += '</select><div class="description">' + soy.$$escapeHtml('Speed up your board by hiding issues you\x27re no longer working on.') + '</div></div>';
  }
  output += '</form>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.view.renderFilterDetails.soyTemplateName = 'GH.tpl.rapid.view.renderFilterDetails';
}


GH.tpl.rapid.view.renderSubQueryView = function(opt_data, opt_ignored) {
  return '<span id="ghx-sub-work" class="field-value' + ((opt_data.canEdit) ? ' js-editable ghx-editable ghx-jql' : '') + '">' + ((opt_data.queryValue) ? soy.$$escapeHtml(opt_data.queryValue) : (opt_data.canEdit) ? '<em>' + soy.$$escapeHtml('Add Sub-Filter') + '</em>' : soy.$$escapeHtml('No sub-filter')) + '</span>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.view.renderSubQueryView.soyTemplateName = 'GH.tpl.rapid.view.renderSubQueryView';
}


GH.tpl.rapid.view.renderSubQueryControls = function(opt_data, opt_ignored) {
  return '<textarea class="js-jql-autocomplete-field textarea" id="ghx-sub-jql" data-section="' + soy.$$escapeHtml(opt_data.section) + '" cols="20" rows="2">' + soy.$$escapeHtml(opt_data.queryValue) + '</textarea><span id="ghx-sub-jql-errormsg" class="icon jqlgood js-jql-autocomplete-error"><span></span></span><button class="aui-button js-subquery-submit">' + soy.$$escapeHtml('Update') + '</button><button class="aui-button js-subquery-cancel">' + soy.$$escapeHtml('Cancel') + '</button>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.view.renderSubQueryControls.soyTemplateName = 'GH.tpl.rapid.view.renderSubQueryControls';
}


GH.tpl.rapid.view.renderPermissionInfo = function(opt_data, opt_ignored) {
  return '<div class="field-group"><label for="ghx-create-permissioninfo">' + soy.$$escapeHtml('Shares') + '</label>' + GH.tpl.rapid.view.renderPermissionEntries({permissionEntries: opt_data.savedFilter.permissionEntries}) + ((opt_data.savedFilter.canEdit) ? '<p class="ghx-additional"><a href="' + soy.$$escapeHtml(GH.Ajax.CONTEXT_PATH) + '/secure/EditFilter!default.jspa?filterId=' + soy.$$escapeHtml(opt_data.savedFilter.id) + '">' + soy.$$escapeHtml('Edit Filter Shares') + '</a></p>' : '</div><div class="field-group"><label>' + soy.$$escapeHtml('Owner') + '</label><span class="field-value">' + soy.$$filterNoAutoescape(opt_data.savedFilter.owner.renderedLink) + '</span>') + '</div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.view.renderPermissionInfo.soyTemplateName = 'GH.tpl.rapid.view.renderPermissionInfo';
}


GH.tpl.rapid.view.renderPermissionEntries = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.permissionEntries.length > 0) {
    output += '<span class="field-value"><ul id="ghx-create-permissioninfo">';
    var permissionEntryList319 = opt_data.permissionEntries;
    var permissionEntryListLen319 = permissionEntryList319.length;
    for (var permissionEntryIndex319 = 0; permissionEntryIndex319 < permissionEntryListLen319; permissionEntryIndex319++) {
      var permissionEntryData319 = permissionEntryList319[permissionEntryIndex319];
      output += '<li>';
      var permissionValueList321 = permissionEntryData319.values;
      var permissionValueListLen321 = permissionValueList321.length;
      for (var permissionValueIndex321 = 0; permissionValueIndex321 < permissionValueListLen321; permissionValueIndex321++) {
        var permissionValueData321 = permissionValueList321[permissionValueIndex321];
        output += '<span>' + soy.$$filterNoAutoescape(permissionValueData321.name) + '</span>';
      }
      output += '</li>';
    }
    output += '</ul></span>';
  } else {
    output += '<span class="field-value">' + soy.$$escapeHtml('No shares') + '</span>';
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.view.renderPermissionEntries.soyTemplateName = 'GH.tpl.rapid.view.renderPermissionEntries';
}


GH.tpl.rapid.view.deleteForm = function(opt_data, opt_ignored) {
  return '<section role="dialog" class="aui-dialog2 aui-dialog2-small gh-confirm-delete-dialog"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">' + soy.$$escapeHtml('Delete') + '</h2><a class="aui-dialog2-header-close"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog cancel">' + soy.$$escapeHtml('Close') + '</span></a></header><div class="aui-dialog2-content"><p>' + soy.$$filterNoAutoescape(opt_data.message) + '</p></div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><form>' + aui.buttons.button({tagName: 'button', type: 'primary', extraAttributes: {type: 'submit'}, text: 'Confirm'}) + aui.buttons.button({tagName: 'button', type: 'link', extraAttributes: {type: 'button'}, extraClasses: 'cancel', text: 'Cancel'}) + '</form></div></footer></section>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.view.deleteForm.soyTemplateName = 'GH.tpl.rapid.view.deleteForm';
}


GH.tpl.rapid.view.confirmForm = function(opt_data, opt_ignored) {
  return '<h2 class="dialog-title">' + soy.$$escapeHtml('Confirmation') + '</h2><form class="aui" action="#" method="post"><div class="form-body"><p>' + soy.$$filterNoAutoescape(opt_data.message) + '</p></div><div class="form-footer buttons-container"><div class="buttons"><input id="submit" class="button" type="submit" value="' + soy.$$escapeHtml('Confirm') + '" /><a role="button" href="#" class="cancel">' + soy.$$escapeHtml('Cancel') + '</a></div></div></form></div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.view.confirmForm.soyTemplateName = 'GH.tpl.rapid.view.confirmForm';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-create-board', location = 'includes/js/rapid/ui/startwizard/WizardView.js' */
GH.StartWizardView={},GH.StartWizardView.dialog=void 0,GH.StartWizardView.model=void 0,GH.StartWizardView.stepsNameStack=void 0,GH.StartWizardView.pages={},GH.StartWizardView.filterPicker=void 0,GH.StartWizardView.projectPicker=void 0,function(){var e=require("jira-agile/rapid/analytics-tracker");GH.StartWizardView.analytics=new e("gh.create.wizard")}(),GH.StartWizardView.wizardStepPreRenderCallbacks=[],GH.StartWizardView.wizardStepPostRenderCallbacks=[],GH.StartWizardView.wizardStepOnValidateCallbacks=[],GH.StartWizardView.wizardStepOnCreateCallbacks=[],GH.StartWizardView.steps={methodologySelection:{render:function(e){var t={isSampleDataAvailable:GH.Config.isSampleDataAvailable,canCreateProject:GH.UserData.canCreateProject()};return{header:"Create an Agile board",content:GH.tpl.startwizard.renderMethodologySelectionStep(t)}},bind:function(e,t){AJS.$("#ghx-wizard-methodology-scrum").click(function(e){e.preventDefault(),t.sampleData=!1,GH.StartWizardView.selectMethodology("scrum",t)}),AJS.$("#ghx-wizard-methodology-kanban").click(function(e){e.preventDefault(),t.sampleData=!1,GH.StartWizardView.selectMethodology("kanban",t)}),AJS.$("#ghx-wizard-methodology-scrum-sample").click(function(e){e.preventDefault(),t.sampleData=!0,GH.StartWizardView.selectMethodology("scrum",t)}),AJS.$("#ghx-wizard-methodology-kanban-sample").click(function(e){e.preventDefault(),t.sampleData=!0,GH.StartWizardView.selectMethodology("kanban",t)})}},methodSelection:{render:function(e){var t=e.method;return t||(t=GH.UserData.userConfig.canCreateProject?"newProject":"existingProject"),{header:"Create an Agile board",content:GH.tpl.startwizard.renderMethodSelectionStep(_.extend({},e,{canCreateProject:GH.UserData.userConfig.canCreateProject,hasProjectsAccessible:GH.UserData.userConfig.hasProjectsAccessible,hasFiltersAccessible:GH.UserData.userConfig.hasFiltersAccessible,selectedOption:t}))}},bind:function(e){},next:function(e,t){var a=e.find("input[name=ghx-wizard-method]").filter(":checked").val();t.method=a;var r=AJS.$.Deferred();return"newProject"===a?r.resolve("projectCreation"):"existingProject"===a?r.resolve("projectSelection"):"existingFilter"===a?r.resolve("filterSelection"):r.reject(new Error("Unknown board creation method : "+a)),r.promise()}},projectCreation:{render:function(e){return e.prefix="project",GH.StartWizardView.renderProjectCreation({user:GH.UserData.userConfig,prefix:"project",sampleInfo:{projectName:"",projectKey:""}})},bind:function(e,t){GH.StartWizardView.bindProjectCreation(e,t)},completeActionName:"Create board",complete:function(e){return GH.StartWizardView.createProject(GH.StartWizardView.dialog,e)}},sampleProjectCreation:{render:function(e){return e.prefix="sample",GH.StartWizardView.renderProjectCreation({user:GH.UserData.userConfig,prefix:"sample",sampleInfo:e.sampleInfo})},bind:function(e,t){GH.StartWizardView.bindProjectCreation(e,t)},completeActionName:"Create board",complete:function(e){return GH.StartWizardView.createSampleProject(GH.StartWizardView.dialog,e)}},projectSelection:{render:function(e){return{header:"Name this board",content:GH.tpl.startwizard.renderProjectSelectionStep()}},bind:function(e,t){GH.StartWizardView.bindProjectSelection(e,t)},completeActionName:"Create board",complete:function(e){return GH.StartWizardView.validateProjectSelection(e)}},filterSelection:{render:function(e){return{header:"Name this board",content:GH.tpl.startwizard.renderFilterSelectionStep()}},bind:function(e,t){GH.StartWizardView.bindFilterSelection(e,t)},completeActionName:"Create board",complete:function(e){return GH.StartWizardView.validateFilterSelection(e)}}},GH.StartWizardView.show=function(e){GH.StartWizardView.dialog||(GH.StartWizardView.dialog=GH.Dialog.create({width:840,height:400,id:"ghx-wizard-dialog",onCancelFn:function(){GH.StartWizardView.disposeWizard(),GH.StartWizardView.analytics.trigger("cancel")}}),GH.StartWizardView.model={},GH.StartWizardView.stepsNameStack=[],GH.StartWizardView.dialog.show(),GH.StartWizardView.analytics.trigger("start"),GH.StartWizardView.preventSubmitOnEnter())},GH.StartWizardView.preventSubmitOnEnter=function(){var e=function(e){if(13==e.keyCode&&"ghx-wizard-filter-select-field"!=e.target.id)return e.preventDefault(),!1};AJS.$("input").keydown(e)},GH.StartWizardView.showStep=function(e){if(!_.has(GH.StartWizardView.steps,e))throw new Error("Unknown wizard step "+e);var t=GH.StartWizardView.dialog;if(GH.StartWizardView.pages[e])t.gotoPage(GH.StartWizardView.pages[e]),GH.StartWizardView.dialog.popup.element.find(".dialog-panel-body .aui-message-error").remove();else{var a=GH.StartWizardView.steps[e],r=a.render(GH.StartWizardView.model);_.each(GH.StartWizardView.wizardStepPreRenderCallbacks,function(t){t(e)}),t.addPage(),GH.StartWizardView.pages[e]=t.curpage,t.addHeader(r.header);var i=AJS.$(r.content);if(t.addPanel(null,i,"ghx-wizard-panel"),_.each(GH.StartWizardView.wizardStepPostRenderCallbacks,function(a){a(e,t)}),GH.StartWizardView.stepsNameStack.length>0&&t.addButton("Back",function(){var e=GH.StartWizardView.stepsNameStack.pop();GH.StartWizardView.showStep(e)},"aui-button"),_.has(a,"complete")){var o=function(){var e=AJS.$(this),t=e.attr("aria-disabled");"true"!=t&&a.complete(GH.StartWizardView.model)};t.addButton(a.completeActionName,o,"aui-button aui-button-primary js-wizard-button-complete")}else if(_.has(a,"next")){var n=function(){var r=AJS.$(this),o=r.attr("aria-disabled");if("true"!=o){var n=a.next(i,GH.StartWizardView.model),d=function(t){GH.StartWizardView.stepsNameStack.push(e),GH.StartWizardView.showStep(t)},l=function(e){console.log(e),t.updateHeight()},c=!0;_.each(GH.StartWizardView.wizardStepOnValidateCallbacks,function(a){a(e,t)||(c=!1)}),n.done(function(e){c?d(e):l("GH project create extension callback returned failure")}).fail(l)}};t.addButton("Next",n,"aui-button aui-button-primary js-wizard-button-next")}t.addCancel("Cancel",function(){t.cancel()}),a.bind(i,GH.StartWizardView.model)}t.updateHeight(),GH.StartWizardView.preventSubmitOnEnter()},GH.StartWizardView.startWizard=function(){GH.StartWizardView.show(),GH.StartWizardView.showStep("methodologySelection")},GH.StartWizardView.disposeWizard=function(){GH.StartWizardView.dialog=void 0,GH.StartWizardView.pages={}},GH.StartWizardView.genStartFunction=function(e,t){return function(){GH.StartWizardView.show(),GH.StartWizardView.model.sampleData=t,GH.StartWizardView.selectMethodology(e,GH.StartWizardView.model)}},GH.StartWizardView.bindWelcomePage=function(){GH.Dialog.registerDialog(".js-wizard-scrum",GH.StartWizardView.genStartFunction("scrum",!1)),GH.Dialog.registerDialog(".js-wizard-scrum-sample",GH.StartWizardView.genStartFunction("scrum",!0)),GH.Dialog.registerDialog(".js-wizard-kanban",GH.StartWizardView.genStartFunction("kanban",!1)),GH.Dialog.registerDialog(".js-wizard-kanban-sample",GH.StartWizardView.genStartFunction("kanban",!0))},GH.StartWizardView.getCreateProjectRequest=function(e){var t=e.project,a={projectName:t.name,projectKey:t.key,projectLeadUserName:t.lead,boardName:e.boardName,preset:e.methodology,sampleData:e.sampleData};return a},GH.StartWizardView.createProject=function(e,t){GH.StartWizardView.populateProjectCreationProperties(t);var a=GH.StartWizardView.getCreateProjectRequest(t);e.disableControls(),e.showSpinner();var r={url:"/welcome/createProject",data:a,errorContextMap:{projectName:"#ghx-wizard-"+t.prefix+"-projectname",projectKey:"#ghx-wizard-"+t.prefix+"-projectkey",projectLead:"#ghx-wizard-"+t.prefix+"-projectlead"},timeout:12e4,deferErrorHandling:!0};return GH.Ajax.put(r).done(function(a){function r(){if(0==GH.StartWizardView.wizardStepOnCreateCallbacks.length)i();else{var a=GH.StartWizardView.wizardStepOnCreateCallbacks.pop();a(e,r,t)}}a.success.sample=t.sampleData,GH.PersistentMessages.WelcomeMessage.show(a.success);var i=function(){GH.StartWizardView.gotoCreatedView(a.success.rapidView.id,t.methodology)};r()}).fail(function(t,a,i,o){_.each(t.getGlobalErrors(),function(e){504==e.status&&(e.message=GH.tpl.startwizard.createProjectTimeout({manageBoardURL:GH.RapidBoard.getManageViewsPageUrl()}),e.noAutoescape=!0)}),GH.Ajax.handleContextualErrors(t,r.errorContextMap),GH.Ajax.handleGlobalErrors(t,r.errorContextMap),e.hideSpinner(),e.enableControls(),e.updateHeight()})},GH.StartWizardView.validateProjectSelection=function(e){GH.StartWizardView.dialog.disableControls(),GH.StartWizardView.dialog.showSpinner();var t=AJS.$("#ghx-wizard-project-board-name");return GH.Validation.clearContextualErrors(GH.StartWizardView.projectPicker.getElement()),GH.Validation.clearContextualErrors(t),GH.Ajax.post({url:"/rapidview/create/presets",data:{name:t.val(),projectIds:GH.StartWizardView.projectPicker.getValue(),preset:e.methodology},errorContextMap:{name:"#ghx-wizard-project-board-name",projectIds:GH.StartWizardView.projectPicker.selector}}).done(function(t){console.log("mode: "+e),GH.StartWizardView.handleCreate(t,"simple",e.methodology)}).fail(function(){GH.StartWizardView.dialog.enableControls(),GH.StartWizardView.dialog.hideSpinner(),GH.StartWizardView.dialog.updateHeight()})},GH.StartWizardView.validateFilterSelection=function(e){var t=AJS.$("#ghx-wizard-filter-view-name"),a=GH.StartWizardView.filterPicker.getElement(),r=AJS.$(GH.StartWizardView.filterPicker.selector);GH.Validation.clearContextualErrors(t),GH.Validation.clearContextualErrors(a);var i=r.val()?r.val()[0]:null;return GH.StartWizardView.dialog.disableControls(),GH.StartWizardView.dialog.showSpinner(),GH.Ajax.post({url:"/rapidview/create/advanced",data:{name:t.val(),filterId:i,methodology:e.methodology},errorContextMap:{name:"#ghx-wizard-filter-view-name",filterId:GH.StartWizardView.filterPicker.selector}}).done(function(t){GH.StartWizardView.handleCreate(t,"simple",e.methodology)}).fail(function(){GH.StartWizardView.dialog.hideSpinner(),GH.StartWizardView.dialog.enableControls(),GH.StartWizardView.dialog.updateHeight()})},GH.StartWizardView.handleCreate=function(e,t,a){var r=t!=a&&a;GH.PersistentMessages.CreateViewMessage.setView(e.success.id,e.success.name,t,r),GH.StartWizardView.analytics.trigger("complete"),GH.StartWizardView.gotoCreatedView(e.success.id,a)},GH.StartWizardView.gotoCreatedView=function(e,t){var a="scrum"==t?"planning":null;GH.Navigation.gotoDefaultRapidBoardPage(e,a)},GH.StartWizardView.selectMethodology=function(e,t){if(t.methodology=e,GH.StartWizardView.stepsNameStack.push("methodologySelection"),t.sampleData)GH.Ajax.get({url:"/welcome/sampledataproject?preset="+t.methodology},"sampledataproject").done(function(e){t.sampleInfo=e,GH.StartWizardView.showStep("sampleProjectCreation")}).fail(function(){GH.StartWizardView.showStep("sampleProjectCreation")});else{var a=GH.UserData.userConfig.canCreateProject,r=GH.UserData.userConfig.hasProjectsAccessible,i=GH.UserData.userConfig.hasFiltersAccessible;a||i?r||i?GH.StartWizardView.showStep("methodSelection"):GH.StartWizardView.showStep("projectCreation"):GH.StartWizardView.showStep("projectSelection")}},GH.StartWizardView.populateProjectCreationProperties=function(e){var t=AJS.$("#ghx-wizard-"+e.prefix+"-projectname"),a=AJS.$("#ghx-wizard-"+e.prefix+"-projectkey"),r=AJS.$("#ghx-wizard-"+e.prefix+"-projectlead");GH.Validation.clearContextualErrors(t),GH.Validation.clearContextualErrors(a),GH.Validation.clearContextualErrors(r),e.project={name:t.val(),key:a.val().toUpperCase(),lead:AJS.$("#ghx-wizard-"+e.prefix+"-projectlead option:selected").val()}},GH.StartWizardView.createSampleProject=function(e,t){t.sampleData=!0,GH.StartWizardView.createProject(e,t)},GH.StartWizardView.validateBoardName=function(e,t){return GH.Validation.clearContextualErrors(e),t.boardName=e.val(),!!t.boardName||(GH.Validation.showContextualErrors(e,"Please enter a name for your board."),!1)},GH.StartWizardView.renderProjectCreation=function(e){return{header:"New project with board",content:GH.tpl.startwizard.renderProjectCreationStep(e)}},GH.StartWizardView.bindProjectSelection=function(e,t){GH.StartWizardView.projectPicker=new GH.ProjectPicker({selector:"#ghx-wizard-choose-project",change:function(){GH.StartWizardView.dialog.updateHeight()},currentProjectId:JIRA.API&&JIRA.API.Projects?JIRA.API.Projects.getCurrentProjectId():null}),GH.StartWizardView.projectPicker.multiselect.keys.Return=function(e){e.preventDefault()},GH.StartWizardView.attachDependantButton({buttonIndex:1,selectors:["#ghx-wizard-project-board-name","#ghx-wizard-choose-project"]})},GH.StartWizardView.bindProjectCreation=function(e,t){AJS.$("#ghx-wizard-"+t.prefix+"-projectkey").generateFrom(AJS.$("#ghx-wizard-"+t.prefix+"-projectname"),{maxNameLength:64,maxKeyLength:64}),JIRA.trigger(JIRA.Events.NEW_CONTENT_ADDED,[e]),e.trigger("contentRefresh");var a=GH.StartWizardView.dialog,r=a.page[a.curpage];r.button[1].item;GH.StartWizardView.attachDependantButton({buttonIndex:1,selectors:["#ghx-wizard-"+t.prefix+"-projectname","#ghx-wizard-"+t.prefix+"-projectkey","#ghx-wizard-"+t.prefix+"-projectlead"]})},GH.StartWizardView.bindFilterSelection=function(e,t){var a=function(e,a){var r="";if(delete t.savedFilter,a&&a.properties){var i=a.properties.savedFilter;r=null!=i?GH.tpl.startwizard.renderPermissionInfo({savedFilter:i}):"",t.savedFilter=i}AJS.$("#ghx-create-permissioninfo-container").html(r),GH.StartWizardView.dialog.updateHeight()};GH.StartWizardView.filterPicker=new GH.SavedFilterPicker({selector:"#ghx-wizard-filter-select",selected:a,stayActivated:!0}),GH.StartWizardView.filterPicker.show(t.savedFilter),GH.StartWizardView.filterPicker.singleSelect.keys.Return=function(e){e.preventDefault()},GH.StartWizardView.attachDependantButton({buttonIndex:1,selectors:["#ghx-wizard-filter-view-name","#ghx-wizard-filter-select"]})},GH.StartWizardView.attachDependantButton=function(e){var t=GH.StartWizardView.dialog,a=t.page[t.curpage],r=a.button[e.buttonIndex].item;GH.StartWizardView.dependantValidationListener({selectors:e.selectors,full:function(){r.attr("aria-disabled","false")},empty:function(){r.attr("aria-disabled","true")}})},GH.StartWizardView.dependantValidationListener=function(e){function t(){var t=_.filter(e.selectors,function(e){var t=AJS.$(e);return!AJS.$.trim(t.val())});return _.isEmpty(t)?e.full():e.empty()}function a(){e.nowait?t():setTimeout(t,50)}_.isEmpty(e.selectors)||(e.full=e.full||AJS.$.noop(),e.empty=e.empty||AJS.$.noop(),e.nowait=e.nowait||!1,_.each(e.selectors,function(e){var t=AJS.$(e);t.on("input",a),t.on("change",a),t.on("selected",a),t.on("unselect",a)}),t())},GH.StartWizardView.registerWizardStepPreRenderCallback=function(e){GH.StartWizardView.wizardStepPreRenderCallbacks.push(e)},GH.StartWizardView.registerWizardStepPostRenderCallback=function(e){GH.StartWizardView.wizardStepPostRenderCallbacks.push(e)},GH.StartWizardView.registerWizardStepOnValidateCallback=function(e){GH.StartWizardView.wizardStepOnValidateCallbacks.push(e)},GH.StartWizardView.registerWizardStepOnCreateCallbacks=function(e){GH.StartWizardView.wizardStepOnCreateCallbacks.push(e)};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-create-board', location = 'includes/js/rapid/ui/component/SavedFilterPicker.js' */
GH.SavedFilterPicker=function(e){this.selector=e.selector,this.fieldSelector=e.selector+"-field",this.blurHandler=e.blur,this.selectHandler=e.selected,this.stayActivated=e.stayActivated,this.focus=e.focus,this.ariaLabel=e.ariaLabel},GH.SavedFilterPicker.prototype.show=function(e){var t=AJS.$(this.selector),i=new AJS.SingleSelect({element:t,width:300,removeOnUnSelect:!0,itemAttrDisplayed:"label",errorMessage:"",ajaxOptions:{query:!0,url:GH.Ajax.buildRestUrl("/savedfilter/list.json"),formatResponse:function(e){if(e.errors){var i=GH.Ajax._convertJiraErrors(e.errors),r={searchName:this.selector};return GH.Ajax.handleContextualErrors(i,r),!1}t.siblings(".ghx-error").remove();var s=[];return AJS.$(e.filters).each(function(){s.push(new AJS.ItemDescriptor({value:this.id.toString(),label:this.name,html:AJS.escapeHTML(String(this.name)),savedFilter:this}))}),s}},ariaLabel:this.ariaLabel});this.singleSelect=i;var r=this.removeSingleSelect;this.stayActivated||AJS.$(this.fieldSelector).blur(function(){r(i)}),_.isFunction(this.blurHandler)&&AJS.$(this.fieldSelector).blur(this.blurHandler),this.focus&&AJS.$(this.fieldSelector).focus().select(),e&&this.setSelection(e);var s=this.selectHandler;this.stayActivated?(t.bind("selected",s),t.bind("unselect",s)):(t.bind("selected",function(e,t){r(i),s(e,t)}),t.bind("unselect",function(e,t){r(i),s(e,t)}))},GH.SavedFilterPicker.prototype.setSelection=function(e){this.singleSelect.setSelection(new AJS.ItemDescriptor({value:e.id.toString(),label:e.name,html:AJS.escapeHTML(String(e.name)),savedFilter:e,selected:!0}))},GH.SavedFilterPicker.prototype.removeSingleSelect=function(e){e.hideSuggestions(),e.disable()},GH.SavedFilterPicker.prototype.getElement=function(){return this.singleSelect.$field};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-create-board', location = 'includes/js/lib/jquery/jquery.keygen.js' */
!function(e,t){e.KeyGenerator=function(){var e=["THE","A","AN","AS","AND","OF","OR"],n={},a=function(e){return e.join("").length},r=function(n){return t.grep(n,function(n,a){return t.inArray(n,e)===-1})},o=function(e){var n="";return t.each(e,function(e,t){n+=t.charAt(0)}),n},u=function(e){var t,n=!1;for(t=0;t<e.length;t++)if(i(e[t]))n=!0;else if(n)return e.substring(0,t+1);return e},i=function(e){return e&&1===e.length&&e.search("[AEIOUY]")!==-1};return n[199]="C",n[231]="c",n[252]="u",n[251]="u",n[250]="u",n[249]="u",n[233]="e",n[234]="e",n[235]="e",n[232]="e",n[226]="a",n[228]="a",n[224]="a",n[229]="a",n[225]="a",n[239]="i",n[238]="i",n[236]="i",n[237]="i",n[196]="A",n[197]="A",n[201]="E",n[230]="ae",n[198]="Ae",n[244]="o",n[246]="o",n[242]="o",n[243]="o",n[220]="U",n[255]="Y",n[214]="O",n[241]="n",n[209]="N",{generateKey:function(e,i){i=t.extend({},i);var c="number"==typeof i.desiredKeyLength?i.desiredKeyLength:4,h="number"==typeof i.maxKeyLength?i.maxKeyLength:1/0;if(e=t.trim(e),!e)return"";for(var s=[],g=0,f=e.length;g<f;g++){var l=n[e.charCodeAt(g)];s.push(l?l:e[g])}e=s.join("");var d=[];t.each(e.split(/\s+/),function(e,t){t&&(t=t.replace(/[^a-zA-Z]/g,""),t=t.toUpperCase(),t.length&&d.push(t))}),c&&a(d)>c&&(d=r(d));var m;if(0==d.length)m="";else if(1==d.length){var v=d[0],y=u(v);m=h<v.length||Math.abs(v.length-c)>=Math.abs(y.length-c)?y:v}else{var K=a(d),x=o(d);m=h<K||Math.abs(K-c)>=Math.abs(x.length-c)?x:d.join("")}return h&&m.length>h&&(m=m.substr(0,h)),m}}};var n=e.KeyGenerator();t.fn.generateFrom=function(e,a){var r={desiredKeyLength:4,maxKeyLength:10,maxNameLength:30,timeoutMS:100,validationCallback:function(){},errorCallback:function(){}},o=t(this).first(),e=e.first(),a=t.extend({},r,a);return function(){var r=function(){return o.data("autosuggest")!==!1},u=function(e){o.val()&&o.data("lastGeneratedValue")!==o.val()&&o.data("autosuggest",!1)},i=function(e){o.data("lastGeneratedValue",e),o.val(e)},c=function(){u(o.val()),f()},h=function(e){s(e,c)},s=function(e,n){var r,o=t(e.target);r=function(){g(e),n(),o.is(":visible")&&o.data("checkHook",setTimeout(r,a.timeoutMS))},o.data("checkHook")||o.data("checkHook",setTimeout(r,0))},g=function(e){var n=t(e.target);clearTimeout(n.data("checkHook")),n.removeData("checkHook")},f=function(){r()&&i(n.generateKey(e.val(),{desiredKeyLength:a.desiredKeyLength,maxKeyLength:a.maxKeyLength}))};e.attr("maxlength",a.maxNameLength),o.attr("maxlength",a.maxKeyLength),o.css("text-transform","uppercase"),document.activeElement&&document.activeElement===e[0]&&h({target:e[0]}),e.focus(h),e.blur(g)}(),this}}(window,jQuery);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:sidebar', location = 'includes/js/sidebar/create-board.js' */
AJS.$(function(){AJS.$("body").on("click",".js-create-board",function(e){e.preventDefault(),GH.UserData.userConfig={canCreateProject:!1,hasProjectsAccessible:!0,hasFiltersAccessible:!0},GH.StartWizardView.startWizard()})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:plugins', location = 'js/plugins/markup-plugin.js' */
require(["jira/editor/customizer"],function(a){a.customizeSettings(function(b){if(b.plugins.indexOf("textpattern")===-1){b.plugins.push("textpattern")}b.textpattern_patterns=b.textpattern_patterns||[];Array.prototype.push.apply(b.textpattern_patterns,[{start:"1. ",cmd:"InsertOrderedList"},{start:"# ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}])})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:plugins', location = 'js/plugins/toolbar-sync-plugin.js' */
define("jira/editor/plugins/toolbar-sync",["jira/editor/tinymce",],function(b){var a=["bold","italic","underline"];b.create("tinymce.plugins.jira.ToolbarSyncPlugin",{init:function(c){var d=c.settings;c.on("NodeChange",function(){if(c.isHidden()){return}a.forEach(function(f){var g=c.queryCommandState(f);var h=d.toolbarContainer.find("[data-operation="+f+"]");var e=!!h.attr("aria-pressed");if(e!==g){h.attr("aria-pressed",g?"true":null)}})});c.on("hide",function(){a.forEach(function(e){d.toolbarContainer.find("[data-operation="+e+"]").attr("aria-pressed",null)})});c.contextManager.on("change:all",function(f){d.toolbarContainer.find("[aria-disabled], [data-operation], [aria-controls]").attr("aria-disabled",f.disableState)});c.contextManager.on("change:a",function(f){d.toolbarContainer.find("[data-operation^=link]").attr("aria-disabled",f.disableState)});c.contextManager.on("change:table",function(f){d.toolbarContainer.find("[data-operation=table]").attr("aria-disabled",f.disableState)})}});b.PluginManager.add("jira.toolbarsync",b.plugins.jira.ToolbarSyncPlugin);b.PluginManager.urls["jira.toolbarsync"]=true;return{configure:function(c,d){d.plugins.push("jira.toolbarsync");d.toolbarContainer=c.element.getToolbarContainer()}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.component.expander', location = 'aui.chunk.530bcb0ddf72b59da25c--5600b20206697e769e37.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.component.expander"],{HTrG:function(e,t,r){},iFnW:function(e,t,r){"use strict";var a=function(e){return e&&e.__esModule?e:{default:e}}(r("+x/D"));var n=(0,a.default)(document),i=function(e){var t={};return t.$trigger=(0,a.default)(e.currentTarget),t.$content=n.find("#"+t.$trigger.attr("aria-controls")),t.triggerIsParent=0!==t.$content.parent().filter(t.$trigger).length,t.$shortContent=t.triggerIsParent?t.$trigger.find(".aui-expander-short-content"):null,t.height=t.$content.css("min-height"),t.isCollapsible=!1!==t.$trigger.data("collapsible"),t.replaceText=t.$trigger.attr("data-replace-text"),t.replaceSelector=t.$trigger.data("replace-selector"),t},o=function(e){if(e.replaceText){var t=e.replaceSelector?e.$trigger.find(e.replaceSelector):e.$trigger;e.$trigger.attr("data-replace-text",t.text()),t.text(e.replaceText)}},c={"aui-expander-invoke":function(e){var t=(0,a.default)(e.currentTarget),r=n.find("#"+t.attr("aria-controls")),i=!1!==t.data("collapsible");"true"===r.attr("aria-expanded")&&i?t.trigger("aui-expander-collapse"):t.trigger("aui-expander-expand")},"aui-expander-expand":function(e){var t=i(e);"true"!==t.$content.attr("aria-expanded")&&(t.$content.attr("aria-expanded","true"),t.$trigger.attr("aria-expanded","true"),t.$content.outerHeight()>0&&t.$content.attr("aria-hidden","false"),o(t),t.triggerIsParent&&t.$shortContent.hide(),t.$trigger.trigger("aui-expander-expanded"))},"aui-expander-collapse":function(e){var t=i(e);"true"===t.$content.attr("aria-expanded")&&(o(t),t.$content.attr("aria-expanded","false"),t.$trigger.attr("aria-expanded","false"),t.triggerIsParent&&t.$shortContent.show(),0===t.$content.outerHeight()&&t.$content.attr("aria-hidden","true"),t.$trigger.trigger("aui-expander-collapsed"))},"click.aui-expander":function(e){(0,a.default)(e.currentTarget).trigger("aui-expander-invoke",e.currentTarget)}};n.on(c,".aui-expander-trigger")},ufFX:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r("HTrG"),r("iFnW")}},[["ufFX","runtime","aui.splitchunk.0d131bcbf1","aui.splitchunk.78b1c5d416"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugin.jslibs:underscore-1.8.3', location = 'libs/underscore/1.8.3/underscore-1.8.3.js' */
'use strict';(function(z){define("atlassian/libs/underscore-1.8.3",function(){var u={};z.call(u);return"undefined"!==typeof exports?"undefined"!==typeof module&&module.exports?module.exports.noConflict():exports.noConflict():u._.noConflict()})})(function(){(function(){function z(a){return function(c,d,e,f){d=v(d,f,4);var g=!n(c)&&b.keys(c),h=(g||c).length,k=0<a?0:h-1;3>arguments.length&&(e=c[g?g[k]:k],k+=a);for(var p=d,m=e;0<=k&&k<h;k+=a){var l=g?g[k]:k;m=p(m,c[l],l,c)}return m}}function u(a){return function(c,
b,e){b=l(b,e);e=r(c);for(var d=0<a?0:e-1;0<=d&&d<e;d+=a)if(b(c[d],d,c))return d;return-1}}function K(a,c,d){return function(e,f,g){var h=0,k=r(e);if("number"==typeof g)0<a?h=0<=g?g:Math.max(g+k,h):k=0<=g?Math.min(g+1,k):g+k+1;else if(d&&g&&k)return g=d(e,f),e[g]===f?g:-1;if(f!==f)return g=c(q.call(e,h,k),b.isNaN),0<=g?g+h:-1;for(g=0<a?h:k-1;0<=g&&g<k;g+=a)if(e[g]===f)return g;return-1}}function L(a,c){var d=M.length,e=a.constructor;e=b.isFunction(e)&&e.prototype||C;var f="constructor";for(b.has(a,
f)&&!b.contains(c,f)&&c.push(f);d--;)f=M[d],f in a&&a[f]!==e[f]&&!b.contains(c,f)&&c.push(f)}var D=this,S=D._,A=Array.prototype,C=Object.prototype,T=A.push,q=A.slice,w=C.toString,U=C.hasOwnProperty,B=Array.isArray,N=Object.keys,E=Function.prototype.bind,O=Object.create,F=function(){},b=function(a){if(a instanceof b)return a;if(!(this instanceof b))return new b(a);this._wrapped=a};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=b),exports._=b):D._=
b;b.VERSION="1.8.3";var v=function(a,c,b){if(void 0===c)return a;switch(null==b?3:b){case 1:return function(b){return a.call(c,b)};case 2:return function(b,d){return a.call(c,b,d)};case 3:return function(b,d,g){return a.call(c,b,d,g)};case 4:return function(b,d,g,h){return a.call(c,b,d,g,h)}}return function(){return a.apply(c,arguments)}},l=function(a,c,d){return null==a?b.identity:b.isFunction(a)?v(a,c,d):b.isObject(a)?b.matcher(a):b.property(a)};b.iteratee=function(a,c){return l(a,c,Infinity)};
var x=function(a,c){return function(b){var d=arguments.length;if(2>d||null==b)return b;for(var f=1;f<d;f++)for(var g=arguments[f],h=a(g),k=h.length,p=0;p<k;p++){var m=h[p];c&&void 0!==b[m]||(b[m]=g[m])}return b}},P=function(a){if(!b.isObject(a))return{};if(O)return O(a);F.prototype=a;a=new F;F.prototype=null;return a},y=function(a){return function(c){return null==c?void 0:c[a]}},V=Math.pow(2,53)-1,r=y("length"),n=function(a){a=r(a);return"number"==typeof a&&0<=a&&a<=V};b.each=b.forEach=function(a,
c,d){c=v(c,d);var e;if(n(a))for(d=0,e=a.length;d<e;d++)c(a[d],d,a);else{var f=b.keys(a);d=0;for(e=f.length;d<e;d++)c(a[f[d]],f[d],a)}return a};b.map=b.collect=function(a,c,d){c=l(c,d);d=!n(a)&&b.keys(a);for(var e=(d||a).length,f=Array(e),g=0;g<e;g++){var h=d?d[g]:g;f[g]=c(a[h],h,a)}return f};b.reduce=b.foldl=b.inject=z(1);b.reduceRight=b.foldr=z(-1);b.find=b.detect=function(a,c,d){c=n(a)?b.findIndex(a,c,d):b.findKey(a,c,d);if(void 0!==c&&-1!==c)return a[c]};b.filter=b.select=function(a,c,d){var e=
[];c=l(c,d);b.each(a,function(a,b,d){c(a,b,d)&&e.push(a)});return e};b.reject=function(a,c,d){return b.filter(a,b.negate(l(c)),d)};b.every=b.all=function(a,c,d){c=l(c,d);d=!n(a)&&b.keys(a);for(var e=(d||a).length,f=0;f<e;f++){var g=d?d[f]:f;if(!c(a[g],g,a))return!1}return!0};b.some=b.any=function(a,c,d){c=l(c,d);d=!n(a)&&b.keys(a);for(var e=(d||a).length,f=0;f<e;f++){var g=d?d[f]:f;if(c(a[g],g,a))return!0}return!1};b.contains=b.includes=b.include=function(a,c,d,e){n(a)||(a=b.values(a));if("number"!=
typeof d||e)d=0;return 0<=b.indexOf(a,c,d)};b.invoke=function(a,c){var d=q.call(arguments,2),e=b.isFunction(c);return b.map(a,function(a){var b=e?c:a[c];return null==b?b:b.apply(a,d)})};b.pluck=function(a,c){return b.map(a,b.property(c))};b.where=function(a,c){return b.filter(a,b.matcher(c))};b.findWhere=function(a,c){return b.find(a,b.matcher(c))};b.max=function(a,c,d){var e=-Infinity,f=-Infinity,g;if(null==c&&null!=a){a=n(a)?a:b.values(a);for(var h=0,k=a.length;h<k;h++)d=a[h],d>e&&(e=d)}else c=
l(c,d),b.each(a,function(a,b,d){g=c(a,b,d);if(g>f||-Infinity===g&&-Infinity===e)e=a,f=g});return e};b.min=function(a,c,d){var e=Infinity,f=Infinity,g;if(null==c&&null!=a){a=n(a)?a:b.values(a);for(var h=0,k=a.length;h<k;h++)d=a[h],d<e&&(e=d)}else c=l(c,d),b.each(a,function(a,b,d){g=c(a,b,d);if(g<f||Infinity===g&&Infinity===e)e=a,f=g});return e};b.shuffle=function(a){a=n(a)?a:b.values(a);for(var c=a.length,d=Array(c),e=0,f;e<c;e++)f=b.random(0,e),f!==e&&(d[e]=d[f]),d[f]=a[e];return d};b.sample=function(a,
c,d){return null==c||d?(n(a)||(a=b.values(a)),a[b.random(a.length-1)]):b.shuffle(a).slice(0,Math.max(0,c))};b.sortBy=function(a,c,d){c=l(c,d);return b.pluck(b.map(a,function(a,b,d){return{value:a,index:b,criteria:c(a,b,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(c<d||void 0===d)return-1}return a.index-b.index}),"value")};var G=function(a){return function(c,d,e){var f={};d=l(d,e);b.each(c,function(b,e){e=d(b,e,c);a(f,b,e)});return f}};b.groupBy=G(function(a,
c,d){b.has(a,d)?a[d].push(c):a[d]=[c]});b.indexBy=G(function(a,b,d){a[d]=b});b.countBy=G(function(a,c,d){b.has(a,d)?a[d]++:a[d]=1});b.toArray=function(a){return a?b.isArray(a)?q.call(a):n(a)?b.map(a,b.identity):b.values(a):[]};b.size=function(a){return null==a?0:n(a)?a.length:b.keys(a).length};b.partition=function(a,c,d){c=l(c,d);var e=[],f=[];b.each(a,function(a,b,d){(c(a,b,d)?e:f).push(a)});return[e,f]};b.first=b.head=b.take=function(a,c,d){if(null!=a)return null==c||d?a[0]:b.initial(a,a.length-
c)};b.initial=function(a,b,d){return q.call(a,0,Math.max(0,a.length-(null==b||d?1:b)))};b.last=function(a,c,d){if(null!=a)return null==c||d?a[a.length-1]:b.rest(a,Math.max(0,a.length-c))};b.rest=b.tail=b.drop=function(a,b,d){return q.call(a,null==b||d?1:b)};b.compact=function(a){return b.filter(a,b.identity)};var t=function(a,c,d,e){var f=[],g=0;e=e||0;for(var h=r(a);e<h;e++){var k=a[e];if(n(k)&&(b.isArray(k)||b.isArguments(k))){c||(k=t(k,c,d));var p=0,m=k.length;for(f.length+=m;p<m;)f[g++]=k[p++]}else d||
(f[g++]=k)}return f};b.flatten=function(a,b){return t(a,b,!1)};b.without=function(a){return b.difference(a,q.call(arguments,1))};b.uniq=b.unique=function(a,c,d,e){b.isBoolean(c)||(e=d,d=c,c=!1);null!=d&&(d=l(d,e));e=[];for(var f=[],g=0,h=r(a);g<h;g++){var k=a[g],p=d?d(k,g,a):k;c?(g&&f===p||e.push(k),f=p):d?b.contains(f,p)||(f.push(p),e.push(k)):b.contains(e,k)||e.push(k)}return e};b.union=function(){return b.uniq(t(arguments,!0,!0))};b.intersection=function(a){for(var c=[],d=arguments.length,e=0,
f=r(a);e<f;e++){var g=a[e];if(!b.contains(c,g)){for(var h=1;h<d&&b.contains(arguments[h],g);h++);h===d&&c.push(g)}}return c};b.difference=function(a){var c=t(arguments,!0,!0,1);return b.filter(a,function(a){return!b.contains(c,a)})};b.zip=function(){return b.unzip(arguments)};b.unzip=function(a){for(var c=a&&b.max(a,r).length||0,d=Array(c),e=0;e<c;e++)d[e]=b.pluck(a,e);return d};b.object=function(a,b){for(var c={},e=0,f=r(a);e<f;e++)b?c[a[e]]=b[e]:c[a[e][0]]=a[e][1];return c};b.findIndex=u(1);b.findLastIndex=
u(-1);b.sortedIndex=function(a,b,d,e){d=l(d,e,1);b=d(b);e=0;for(var c=r(a);e<c;){var g=Math.floor((e+c)/2);d(a[g])<b?e=g+1:c=g}return e};b.indexOf=K(1,b.findIndex,b.sortedIndex);b.lastIndexOf=K(-1,b.findLastIndex);b.range=function(a,b,d){null==b&&(b=a||0,a=0);d=d||1;b=Math.max(Math.ceil((b-a)/d),0);for(var c=Array(b),f=0;f<b;f++,a+=d)c[f]=a;return c};var Q=function(a,c,d,e,f){if(!(e instanceof c))return a.apply(d,f);c=P(a.prototype);a=a.apply(c,f);return b.isObject(a)?a:c};b.bind=function(a,c){if(E&&
a.bind===E)return E.apply(a,q.call(arguments,1));if(!b.isFunction(a))throw new TypeError("Bind must be called on a function");var d=q.call(arguments,2),e=function(){return Q(a,e,c,this,d.concat(q.call(arguments)))};return e};b.partial=function(a){var c=q.call(arguments,1),d=function(){for(var e=0,f=c.length,g=Array(f),h=0;h<f;h++)g[h]=c[h]===b?arguments[e++]:c[h];for(;e<arguments.length;)g.push(arguments[e++]);return Q(a,d,this,this,g)};return d};b.bindAll=function(a){var c,d=arguments.length;if(1>=
d)throw Error("bindAll must be passed function names");for(c=1;c<d;c++){var e=arguments[c];a[e]=b.bind(a[e],a)}return a};b.memoize=function(a,c){var d=function(e){var f=d.cache,g=""+(c?c.apply(this,arguments):e);b.has(f,g)||(f[g]=a.apply(this,arguments));return f[g]};d.cache={};return d};b.delay=function(a,b){var c=q.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)};b.defer=b.partial(b.delay,b,1);b.throttle=function(a,c,d){var e,f,g,h=null,k=0;d||(d={});var p=function(){k=
!1===d.leading?0:b.now();h=null;g=a.apply(e,f);h||(e=f=null)};return function(){var m=b.now();k||!1!==d.leading||(k=m);var l=c-(m-k);e=this;f=arguments;0>=l||l>c?(h&&(clearTimeout(h),h=null),k=m,g=a.apply(e,f),h||(e=f=null)):h||!1===d.trailing||(h=setTimeout(p,l));return g}};b.debounce=function(a,c,d){var e,f,g,h,k,l=function(){var m=b.now()-h;m<c&&0<=m?e=setTimeout(l,c-m):(e=null,d||(k=a.apply(g,f),e||(g=f=null)))};return function(){g=this;f=arguments;h=b.now();var m=d&&!e;e||(e=setTimeout(l,c));
m&&(k=a.apply(g,f),g=f=null);return k}};b.wrap=function(a,c){return b.partial(c,a)};b.negate=function(a){return function(){return!a.apply(this,arguments)}};b.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,e=a[b].apply(this,arguments);c--;)e=a[c].call(this,e);return e}};b.after=function(a,b){return function(){if(1>--a)return b.apply(this,arguments)}};b.before=function(a,b){var c;return function(){0<--a&&(c=b.apply(this,arguments));1>=a&&(b=null);return c}};b.once=b.partial(b.before,
2);var R=!{toString:null}.propertyIsEnumerable("toString"),M="valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");b.keys=function(a){if(!b.isObject(a))return[];if(N)return N(a);var c=[],d;for(d in a)b.has(a,d)&&c.push(d);R&&L(a,c);return c};b.allKeys=function(a){if(!b.isObject(a))return[];var c=[],d;for(d in a)c.push(d);R&&L(a,c);return c};b.values=function(a){for(var c=b.keys(a),d=c.length,e=Array(d),f=0;f<d;f++)e[f]=a[c[f]];return e};b.mapObject=function(a,
c,d){c=l(c,d);d=b.keys(a);for(var e=d.length,f={},g,h=0;h<e;h++)g=d[h],f[g]=c(a[g],g,a);return f};b.pairs=function(a){for(var c=b.keys(a),d=c.length,e=Array(d),f=0;f<d;f++)e[f]=[c[f],a[c[f]]];return e};b.invert=function(a){for(var c={},d=b.keys(a),e=0,f=d.length;e<f;e++)c[a[d[e]]]=d[e];return c};b.functions=b.methods=function(a){var c=[],d;for(d in a)b.isFunction(a[d])&&c.push(d);return c.sort()};b.extend=x(b.allKeys);b.extendOwn=b.assign=x(b.keys);b.findKey=function(a,c,d){c=l(c,d);d=b.keys(a);for(var e,
f=0,g=d.length;f<g;f++)if(e=d[f],c(a[e],e,a))return e};b.pick=function(a,c,d){var e={},f=a;if(null==f)return e;if(b.isFunction(c)){var g=b.allKeys(f);var h=v(c,d)}else g=t(arguments,!1,!1,1),h=function(a,b,c){return b in c},f=Object(f);for(var k=0,l=g.length;k<l;k++){var m=g[k],n=f[m];h(n,m,f)&&(e[m]=n)}return e};b.omit=function(a,c,d){if(b.isFunction(c))c=b.negate(c);else{var e=b.map(t(arguments,!1,!1,1),String);c=function(a,c){return!b.contains(e,c)}}return b.pick(a,c,d)};b.defaults=x(b.allKeys,
!0);b.create=function(a,c){a=P(a);c&&b.extendOwn(a,c);return a};b.clone=function(a){return b.isObject(a)?b.isArray(a)?a.slice():b.extend({},a):a};b.tap=function(a,b){b(a);return a};b.isMatch=function(a,c){var d=b.keys(c),e=d.length;if(null==a)return!e;a=Object(a);for(var f=0;f<e;f++){var g=d[f];if(c[g]!==a[g]||!(g in a))return!1}return!0};var H=function(a,c,d,e){if(a===c)return 0!==a||1/a===1/c;if(null==a||null==c)return a===c;a instanceof b&&(a=a._wrapped);c instanceof b&&(c=c._wrapped);var f=w.call(a);
if(f!==w.call(c))return!1;switch(f){case "[object RegExp]":case "[object String]":return""+a===""+c;case "[object Number]":return+a!==+a?+c!==+c:0===+a?1/+a===1/c:+a===+c;case "[object Date]":case "[object Boolean]":return+a===+c}f="[object Array]"===f;if(!f){if("object"!=typeof a||"object"!=typeof c)return!1;var g=a.constructor,h=c.constructor;if(g!==h&&!(b.isFunction(g)&&g instanceof g&&b.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in c)return!1}d=d||[];e=e||[];for(g=d.length;g--;)if(d[g]===
a)return e[g]===c;d.push(a);e.push(c);if(f){g=a.length;if(g!==c.length)return!1;for(;g--;)if(!H(a[g],c[g],d,e))return!1}else{f=b.keys(a);g=f.length;if(b.keys(c).length!==g)return!1;for(;g--;)if(h=f[g],!b.has(c,h)||!H(a[h],c[h],d,e))return!1}d.pop();e.pop();return!0};b.isEqual=function(a,b){return H(a,b)};b.isEmpty=function(a){return null==a?!0:n(a)&&(b.isArray(a)||b.isString(a)||b.isArguments(a))?0===a.length:0===b.keys(a).length};b.isElement=function(a){return!(!a||1!==a.nodeType)};b.isArray=B||
function(a){return"[object Array]"===w.call(a)};b.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a};b.each("Arguments Function String Number Date RegExp Error".split(" "),function(a){b["is"+a]=function(b){return w.call(b)==="[object "+a+"]"}});b.isArguments(arguments)||(b.isArguments=function(a){return b.has(a,"callee")});"function"!=typeof/./&&"object"!=typeof Int8Array&&(b.isFunction=function(a){return"function"==typeof a||!1});b.isFinite=function(a){return isFinite(a)&&
!isNaN(parseFloat(a))};b.isNaN=function(a){return b.isNumber(a)&&a!==+a};b.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"===w.call(a)};b.isNull=function(a){return null===a};b.isUndefined=function(a){return void 0===a};b.has=function(a,b){return null!=a&&U.call(a,b)};b.noConflict=function(){D._=S;return this};b.identity=function(a){return a};b.constant=function(a){return function(){return a}};b.noop=function(){};b.property=y;b.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}};
b.matcher=b.matches=function(a){a=b.extendOwn({},a);return function(c){return b.isMatch(c,a)}};b.times=function(a,b,d){var c=Array(Math.max(0,a));b=v(b,d,1);for(d=0;d<a;d++)c[d]=b(d);return c};b.random=function(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};b.now=Date.now||function(){return(new Date).getTime()};B={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","`":"\x26#x60;"};x=b.invert(B);y=function(a){var c=function(b){return a[b]},d="(?:"+
b.keys(a).join("|")+")",e=RegExp(d),f=RegExp(d,"g");return function(a){a=null==a?"":""+a;return e.test(a)?a.replace(f,c):a}};b.escape=y(B);b.unescape=y(x);b.result=function(a,c,d){c=null==a?void 0:a[c];void 0===c&&(c=d);return b.isFunction(c)?c.call(a):c};var W=0;b.uniqueId=function(a){var b=++W+"";return a?a+b:b};b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,X={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},
Y=/\\|'|\r|\n|\u2028|\u2029/g,Z=function(a){return"\\"+X[a]};b.template=function(a,c,d){!c&&d&&(c=d);c=b.defaults({},c,b.templateSettings);d=RegExp([(c.escape||I).source,(c.interpolate||I).source,(c.evaluate||I).source].join("|")+"|$","g");var e=0,f="__p+\x3d'";a.replace(d,function(b,c,d,g,l){f+=a.slice(e,l).replace(Y,Z);e=l+b.length;c?f+="'+\n((__t\x3d("+c+"))\x3d\x3dnull?'':_.escape(__t))+\n'":d?f+="'+\n((__t\x3d("+d+"))\x3d\x3dnull?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+\x3d'");return b});f+="';\n";
c.variable||(f="with(obj||{}){\n"+f+"}\n");f="var __t,__p\x3d'',__j\x3dArray.prototype.join,print\x3dfunction(){__p+\x3d__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(c.variable||"obj","_",f)}catch(h){throw h.source=f,h;}d=function(a){return g.call(this,a,b)};d.source="function("+(c.variable||"obj")+"){\n"+f+"}";return d};b.chain=function(a){a=b(a);a._chain=!0;return a};var J=function(a,c){return a._chain?b(c).chain():c};b.mixin=function(a){b.each(b.functions(a),function(c){var d=
b[c]=a[c];b.prototype[c]=function(){var a=[this._wrapped];T.apply(a,arguments);return J(this,d.apply(b,a))}})};b.mixin(b);b.each("pop push reverse shift sort splice unshift".split(" "),function(a){var c=A[a];b.prototype[a]=function(){var b=this._wrapped;c.apply(b,arguments);"shift"!==a&&"splice"!==a||0!==b.length||delete b[0];return J(this,b)}});b.each(["concat","join","slice"],function(a){var c=A[a];b.prototype[a]=function(){return J(this,c.apply(this._wrapped,arguments))}});b.prototype.value=function(){return this._wrapped};
b.prototype.valueOf=b.prototype.toJSON=b.prototype.value;b.prototype.toString=function(){return""+this._wrapped};"function"===typeof define&&define.amd&&define("underscore",[],function(){return b})}).call(this)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugin.jslibs:backbone-1.3.3-factory', location = 'factories/backbone/1.3.3/backbone-1.3.3-factory.js' */
'use strict';(function(x){define("atlassian/libs/factories/backbone-1.3.3",function(){return function(h,d){return x({},{},h,d).noConflict()}})})(function(x,h,d,k){var K=x.Backbone,B=Array.prototype.slice;h.VERSION="1.3.3";h.$=k;h.noConflict=function(){x.Backbone=K;return this};h.emulateHTTP=!1;h.emulateJSON=!1;var L=function(a,b,c){switch(a){case 1:return function(){return d[b](this[c])};case 2:return function(a){return d[b](this[c],a)};case 3:return function(a,f){return d[b](this[c],C(a,this),f)};
case 4:return function(a,f,g){return d[b](this[c],C(a,this),f,g)};default:return function(){var a=B.call(arguments);a.unshift(this[c]);return d[b].apply(d,a)}}},p=function(a,b,c){d.each(b,function(b,f){d[f]&&(a.prototype[f]=L(b,f,c))})},C=function(a,b){return d.isFunction(a)?a:d.isObject(a)&&!b._isModel(a)?M(a):d.isString(a)?function(b){return b.get(a)}:a},M=function(a){var b=d.matches(a);return function(a){return b(a.attributes)}};k=h.Events={};var D=/\s+/,v=function(a,b,c,e,f){var g=0,t;if(c&&"object"===
typeof c)for(void 0!==e&&("context"in f)&&void 0===f.context&&(f.context=e),t=d.keys(c);g<t.length;g++)b=v(a,b,t[g],c[t[g]],f);else if(c&&D.test(c))for(t=c.split(D);g<t.length;g++)b=a(b,t[g],e,f);else b=a(b,c,e,f);return b};k.on=function(a,b,c){return E(this,a,b,c)};var E=function(a,b,c,e,f){a._events=v(N,a._events||{},b,c,{context:e,ctx:a,listening:f});f&&((a._listeners||(a._listeners={}))[f.id]=f);return a};k.listenTo=function(a,b,c){if(!a)return this;var e=a._listenId||(a._listenId=d.uniqueId("l")),
f=this._listeningTo||(this._listeningTo={}),g=f[e];g||(g=this._listenId||(this._listenId=d.uniqueId("l")),g=f[e]={obj:a,objId:e,id:g,listeningTo:f,count:0});E(a,b,c,this,g);return this};var N=function(a,b,c,e){if(c){b=a[b]||(a[b]=[]);var f=e.context,d=e.ctx;(e=e.listening)&&e.count++;b.push({callback:c,context:f,ctx:f||d,listening:e})}return a};k.off=function(a,b,c){if(!this._events)return this;this._events=v(O,this._events,a,b,{context:c,listeners:this._listeners});return this};k.stopListening=function(a,
b,c){var e=this._listeningTo;if(!e)return this;a=a?[a._listenId]:d.keys(e);for(var f=0;f<a.length;f++){var g=e[a[f]];if(!g)break;g.obj.off(b,c,this)}return this};var O=function(a,b,c,e){if(a){var f=0,g=e.context;e=e.listeners;if(b||c||g){for(var t=b?[b]:d.keys(a);f<t.length;f++){b=t[f];var h=a[b];if(!h)break;for(var q=[],k=0;k<h.length;k++){var l=h[k];c&&c!==l.callback&&c!==l.callback._callback||g&&g!==l.context?q.push(l):(l=l.listening)&&0===--l.count&&(delete e[l.id],delete l.listeningTo[l.objId])}q.length?
a[b]=q:delete a[b]}return a}for(a=d.keys(e);f<a.length;f++)l=e[a[f]],delete e[l.id],delete l.listeningTo[l.objId]}};k.once=function(a,b,c){var e=v(F,{},a,b,d.bind(this.off,this));"string"===typeof a&&null==c&&(b=void 0);return this.on(e,b,c)};k.listenToOnce=function(a,b,c){b=v(F,{},b,c,d.bind(this.stopListening,this,a));return this.listenTo(a,b)};var F=function(a,b,c,e){if(c){var f=a[b]=d.once(function(){e(b,f);c.apply(this,arguments)});f._callback=c}return a};k.trigger=function(a){if(!this._events)return this;
for(var b=Math.max(0,arguments.length-1),c=Array(b),e=0;e<b;e++)c[e]=arguments[e+1];v(Q,this._events,a,void 0,c);return this};var Q=function(a,b,c,e){if(a){c=a[b];var f=a.all;c&&f&&(f=f.slice());c&&G(c,e);f&&G(f,[b].concat(e))}return a},G=function(a,b){var c,e=-1,f=a.length,d=b[0],h=b[1],y=b[2];switch(b.length){case 0:for(;++e<f;)(c=a[e]).callback.call(c.ctx);break;case 1:for(;++e<f;)(c=a[e]).callback.call(c.ctx,d);break;case 2:for(;++e<f;)(c=a[e]).callback.call(c.ctx,d,h);break;case 3:for(;++e<f;)(c=
a[e]).callback.call(c.ctx,d,h,y);break;default:for(;++e<f;)(c=a[e]).callback.apply(c.ctx,b)}};k.bind=k.on;k.unbind=k.off;d.extend(h,k);var w=h.Model=function(a,b){var c=a||{};b||(b={});this.cid=d.uniqueId(this.cidPrefix);this.attributes={};b.collection&&(this.collection=b.collection);b.parse&&(c=this.parse(c,b)||{});var e=d.result(this,"defaults");c=d.defaults(d.extend({},e,c),e);this.set(c,b);this.changed={};this.initialize.apply(this,arguments)};d.extend(w.prototype,k,{changed:null,validationError:null,
idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(a){return d.clone(this.attributes)},sync:function(){return h.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return d.escape(this.get(a))},has:function(a){return null!=this.get(a)},matches:function(a){return!!d.iteratee(a,this)(this.attributes)},set:function(a,b,c){if(null==a)return this;if("object"===typeof a){var e=a;c=b}else(e={})[a]=b;c||(c={});if(!this._validate(e,c))return!1;var f=
c.unset;a=c.silent;var g=[],h=this._changing;this._changing=!0;h||(this._previousAttributes=d.clone(this.attributes),this.changed={});var y=this.attributes,k=this.changed,P=this._previousAttributes,l;for(l in e)b=e[l],d.isEqual(y[l],b)||g.push(l),d.isEqual(P[l],b)?delete k[l]:k[l]=b,f?delete y[l]:y[l]=b;this.idAttribute in e&&(this.id=this.get(this.idAttribute));if(!a)for(g.length&&(this._pending=c),b=0;b<g.length;b++)this.trigger("change:"+g[b],this,y[g[b]],c);if(h)return this;if(!a)for(;this._pending;)c=
this._pending,this._pending=!1,this.trigger("change",this,c);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,d.extend({},b,{unset:!0}))},clear:function(a){var b={},c;for(c in this.attributes)b[c]=void 0;return this.set(b,d.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!d.isEmpty(this.changed):d.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?d.clone(this.changed):!1;var b=this._changing?this._previousAttributes:
this.attributes,c={},e;for(e in a){var f=a[e];d.isEqual(b[e],f)||(c[e]=f)}return d.size(c)?c:!1},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return d.clone(this._previousAttributes)},fetch:function(a){a=d.extend({parse:!0},a);var b=this,c=a.success;a.success=function(e){var f=a.parse?b.parse(e,a):e;if(!b.set(f,a))return!1;c&&c.call(a.context,b,e,a);b.trigger("sync",b,e,a)};z(this,a);return this.sync("read",this,a)},
save:function(a,b,c){if(null==a||"object"===typeof a){var e=a;c=b}else(e={})[a]=b;c=d.extend({validate:!0,parse:!0},c);var f=c.wait;if(e&&!f){if(!this.set(e,c))return!1}else if(!this._validate(e,c))return!1;var g=this,h=c.success,k=this.attributes;c.success=function(a){g.attributes=k;var b=c.parse?g.parse(a,c):a;f&&(b=d.extend({},e,b));if(b&&!g.set(b,c))return!1;h&&h.call(c.context,g,a,c);g.trigger("sync",g,a,c)};z(this,c);e&&f&&(this.attributes=d.extend({},k,e));a=this.isNew()?"create":c.patch?"patch":
"update";"patch"!==a||c.attrs||(c.attrs=e);a=this.sync(a,this,c);this.attributes=k;return a},destroy:function(a){a=a?d.clone(a):{};var b=this,c=a.success,e=a.wait,f=function(){b.stopListening();b.trigger("destroy",b,b.collection,a)};a.success=function(d){e&&f();c&&c.call(a.context,b,d,a);b.isNew()||b.trigger("sync",b,d,a)};var g=!1;this.isNew()?d.defer(a.success):(z(this,a),g=this.sync("delete",this,a));e||f();return g},url:function(){var a=d.result(this,"urlRoot")||d.result(this.collection,"url")||
H();if(this.isNew())return a;var b=this.get(this.idAttribute);return a.replace(/[^\/]$/,"$\x26/")+encodeURIComponent(b)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},d.extend({},a,{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=d.extend({},this.attributes,a);a=this.validationError=this.validate(a,b)||null;if(!a)return!0;
this.trigger("invalid",this,a,d.extend(b,{validationError:a}));return!1}});p(w,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var A=h.Collection=function(a,b){b||(b={});b.model&&(this.model=b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,d.extend({silent:!0},b))},R={add:!0,remove:!0,merge:!0},S={add:!0,remove:!1},I=function(a,b,c){c=Math.min(Math.max(c,0),a.length);var e=Array(a.length-
c),f=b.length,d;for(d=0;d<e.length;d++)e[d]=a[d+c];for(d=0;d<f;d++)a[d+c]=b[d];for(d=0;d<e.length;d++)a[d+f+c]=e[d]};d.extend(A.prototype,k,{model:w,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return h.sync.apply(this,arguments)},add:function(a,b){return this.set(a,d.extend({merge:!1},b,S))},remove:function(a,b){b=d.extend({},b);var c=!d.isArray(a);a=c?[a]:a.slice();a=this._removeModels(a,b);!b.silent&&a.length&&(b.changes={added:[],
merged:[],removed:a},this.trigger("update",this,b));return c?a[0]:a},set:function(a,b){if(null!=a){b=d.extend({},R,b);b.parse&&!this._isModel(a)&&(a=this.parse(a,b)||[]);var c=!d.isArray(a);a=c?[a]:a.slice();var e=b.at;null!=e&&(e=+e);e>this.length&&(e=this.length);0>e&&(e+=this.length+1);var f=[],g=[],h=[],k=[],q={},r=b.add,l=b.merge,v=b.remove,p=!1,w=this.comparator&&null==e&&!1!==b.sort,x=d.isString(this.comparator)?this.comparator:null,n;for(n=0;n<a.length;n++){var m=a[n];var u=this.get(m);u?
(l&&m!==u&&(m=this._isModel(m)?m.attributes:m,b.parse&&(m=u.parse(m,b)),u.set(m,b),h.push(u),w&&!p&&(p=u.hasChanged(x))),q[u.cid]||(q[u.cid]=!0,f.push(u)),a[n]=u):r&&(m=a[n]=this._prepareModel(m,b))&&(g.push(m),this._addReference(m,b),q[m.cid]=!0,f.push(m))}if(v){for(n=0;n<this.length;n++)m=this.models[n],q[m.cid]||k.push(m);k.length&&this._removeModels(k,b)}q=!1;f.length&&!w&&r&&v?(q=this.length!==f.length||d.some(this.models,function(a,b){return a!==f[b]}),this.models.length=0,I(this.models,f,0),
this.length=this.models.length):g.length&&(w&&(p=!0),I(this.models,g,null==e?this.length:e),this.length=this.models.length);p&&this.sort({silent:!0});if(!b.silent){for(n=0;n<g.length;n++)null!=e&&(b.index=e+n),m=g[n],m.trigger("add",m,this,b);(p||q)&&this.trigger("sort",this,b);if(g.length||k.length||h.length)b.changes={added:g,removed:k,merged:h},this.trigger("update",this,b)}return c?a[0]:a}},reset:function(a,b){b=b?d.clone(b):{};for(var c=0;c<this.models.length;c++)this._removeReference(this.models[c],
b);b.previousModels=this.models;this._reset();a=this.add(a,d.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return a},push:function(a,b){return this.add(a,d.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a)},unshift:function(a,b){return this.add(a,d.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a)},slice:function(){return B.apply(this.models,arguments)},get:function(a){if(null!=a)return this._byId[a]||this._byId[this.modelId(a.attributes||
a)]||a.cid&&this._byId[a.cid]},has:function(a){return null!=this.get(a)},at:function(a){0>a&&(a+=this.length);return this.models[a]},where:function(a,b){return this[b?"find":"filter"](a)},findWhere:function(a){return this.where(a,!0)},sort:function(a){var b=this.comparator;if(!b)throw Error("Cannot sort a set without a comparator");a||(a={});var c=b.length;d.isFunction(b)&&(b=d.bind(b,this));1===c||d.isString(b)?this.models=this.sortBy(b):this.models.sort(b);a.silent||this.trigger("sort",this,a);
return this},pluck:function(a){return this.map(a+"")},fetch:function(a){a=d.extend({parse:!0},a);var b=a.success,c=this;a.success=function(e){c[a.reset?"reset":"set"](e,a);b&&b.call(a.context,c,e,a);c.trigger("sync",c,e,a)};z(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?d.clone(b):{};var c=b.wait;a=this._prepareModel(a,b);if(!a)return!1;c||this.add(a,b);var e=this,f=b.success;b.success=function(a,b,d){c&&e.add(a,d);f&&f.call(d.context,a,b,d)};a.save(null,b);return a},parse:function(a,
b){return a},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(a){return a[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(this._isModel(a))return a.collection||(a.collection=this),a;b=b?d.clone(b):{};b.collection=this;a=new this.model(a,b);if(!a.validationError)return a;this.trigger("invalid",this,a.validationError,b);return!1},_removeModels:function(a,
b){for(var c=[],e=0;e<a.length;e++){var d=this.get(a[e]);if(d){var g=this.indexOf(d);this.models.splice(g,1);this.length--;delete this._byId[d.cid];var h=this.modelId(d.attributes);null!=h&&delete this._byId[h];b.silent||(b.index=g,d.trigger("remove",d,this,b));c.push(d);this._removeReference(d,b)}}return c},_isModel:function(a){return a instanceof w},_addReference:function(a,b){this._byId[a.cid]=a;b=this.modelId(a.attributes);null!=b&&(this._byId[b]=a);a.on("all",this._onModelEvent,this)},_removeReference:function(a,
b){delete this._byId[a.cid];b=this.modelId(a.attributes);null!=b&&delete this._byId[b];this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,e){if(b){if(("add"===a||"remove"===a)&&c!==this)return;"destroy"===a&&this.remove(b,e);if("change"===a){var d=this.modelId(b.previousAttributes()),g=this.modelId(b.attributes);d!==g&&(null!=d&&delete this._byId[d],null!=g&&(this._byId[g]=b))}}this.trigger.apply(this,arguments)}});p(A,{forEach:3,each:3,map:3,
collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");p=h.View=function(a){this.cid=d.uniqueId("view");d.extend(this,d.pick(a,
T));this._ensureElement();this.initialize.apply(this,arguments)};var U=/^(\S+)\s*(.*)$/,T="model collection el id attributes className tagName events".split(" ");d.extend(p.prototype,k,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this._removeElement();this.stopListening();return this},_removeElement:function(){this.$el.remove()},setElement:function(a){this.undelegateEvents();this._setElement(a);this.delegateEvents();
return this},_setElement:function(a){this.$el=a instanceof h.$?a:h.$(a);this.el=this.$el[0]},delegateEvents:function(a){a||(a=d.result(this,"events"));if(!a)return this;this.undelegateEvents();for(var b in a){var c=a[b];d.isFunction(c)||(c=this[c]);if(c){var e=b.match(U);this.delegate(e[1],e[2],d.bind(c,this))}}return this},delegate:function(a,b,c){this.$el.on(a+".delegateEvents"+this.cid,b,c);return this},undelegateEvents:function(){this.$el&&this.$el.off(".delegateEvents"+this.cid);return this},
undelegate:function(a,b,c){this.$el.off(a+".delegateEvents"+this.cid,b,c);return this},_createElement:function(a){return document.createElement(a)},_ensureElement:function(){if(this.el)this.setElement(d.result(this,"el"));else{var a=d.extend({},d.result(this,"attributes"));this.id&&(a.id=d.result(this,"id"));this.className&&(a["class"]=d.result(this,"className"));this.setElement(this._createElement(d.result(this,"tagName")));this._setAttributes(a)}},_setAttributes:function(a){this.$el.attr(a)}});
h.sync=function(a,b,c){var e=V[a];d.defaults(c||(c={}),{emulateHTTP:h.emulateHTTP,emulateJSON:h.emulateJSON});var f={type:e,dataType:"json"};c.url||(f.url=d.result(b,"url")||H());null!=c.data||!b||"create"!==a&&"update"!==a&&"patch"!==a||(f.contentType="application/json",f.data=JSON.stringify(c.attrs||b.toJSON(c)));c.emulateJSON&&(f.contentType="application/x-www-form-urlencoded",f.data=f.data?{model:f.data}:{});if(c.emulateHTTP&&("PUT"===e||"DELETE"===e||"PATCH"===e)){f.type="POST";c.emulateJSON&&
(f.data._method=e);var g=c.beforeSend;c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",e);if(g)return g.apply(this,arguments)}}"GET"===f.type||c.emulateJSON||(f.processData=!1);var k=c.error;c.error=function(a,b,d){c.textStatus=b;c.errorThrown=d;k&&k.call(c.context,a,b,d)};a=c.xhr=h.ajax(d.extend(f,c));b.trigger("request",b,a,c);return a};var V={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};h.ajax=function(){return h.$.ajax.apply(h.$,arguments)};var J=
h.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},W=/\((.*?)\)/g,X=/(\(\?)?:\w+/g,Y=/\*\w+/g,Z=/[\-{}\[\]+?.,\\\^$|#\s]/g;d.extend(J.prototype,k,{initialize:function(){},route:function(a,b,c){d.isRegExp(a)||(a=this._routeToRegExp(a));d.isFunction(b)&&(c=b,b="");c||(c=this[b]);var e=this;h.history.route(a,function(d){d=e._extractParameters(a,d);!1!==e.execute(c,d,b)&&(e.trigger.apply(e,["route:"+b].concat(d)),e.trigger("route",
b,d),h.history.trigger("route",e,b,d))});return this},execute:function(a,b,c){a&&a.apply(this,b)},navigate:function(a,b){h.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes){this.routes=d.result(this,"routes");for(var a,b=d.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(Z,"\\$\x26").replace(W,"(?:$1)?").replace(X,function(a,c){return c?a:"([^/?]+)"}).replace(Y,"([^?]*?)");return new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},
_extractParameters:function(a,b){var c=a.exec(b).slice(1);return d.map(c,function(a,b){return b===c.length-1?a||null:a?decodeURIComponent(a):null})}});var r=h.History=function(){this.handlers=[];this.checkUrl=d.bind(this.checkUrl,this);"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},aa=/^[#\/]|\s+$/g,ba=/^\/+|\/+$/g,ca=/#.*$/;r.started=!1;d.extend(r.prototype,k,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$\x26/")===this.root&&
!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(a){return decodeURI(a.replace(/%25/g,"%2525"))},getSearch:function(){var a=this.location.href.replace(/#.*/,"").match(/\?.+/);return a?a[0]:""},getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getPath:function(){var a=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===
a.charAt(0)?a.slice(1):a},getFragment:function(a){null==a&&(a=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash());return a.replace(aa,"")},start:function(a){if(r.started)throw Error("Backbone.history has already been started");r.started=!0;this.options=d.extend({root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||7<document.documentMode);this._useHashChange=
this._wantsHashChange&&this._hasHashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.history||!this.history.pushState);this._usePushState=this._wantsPushState&&this._hasPushState;this.fragment=this.getFragment();this.root=("/"+this.root+"/").replace(ba,"/");if(this._wantsHashChange&&this._wantsPushState)if(this._hasPushState||this.atRoot())this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});else return a=this.root.slice(0,-1)||"/",this.location.replace(a+
"#"+this.getPath()),!0;this._hasHashChange||!this._wantsHashChange||this._usePushState||(this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1,a=document.body,a=a.insertBefore(this.iframe,a.firstChild).contentWindow,a.document.open(),a.document.close(),a.location.hash="#"+this.fragment);a=window.addEventListener||function(a,c){return attachEvent("on"+a,c)};this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&
!this.iframe?a("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));if(!this.options.silent)return this.loadUrl()},stop:function(){var a=window.removeEventListener||function(a,c){return detachEvent("on"+a,c)};this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&a("hashchange",this.checkUrl,!1);this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null);this._checkUrlInterval&&clearInterval(this._checkUrlInterval);
r.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getHash(this.iframe.contentWindow));if(a===this.fragment)return!1;this.iframe&&this.navigate(a);this.loadUrl()},loadUrl:function(a){if(!this.matchRoot())return!1;a=this.fragment=this.getFragment(a);return d.some(this.handlers,function(b){if(b.route.test(a))return b.callback(a),!0})},navigate:function(a,b){if(!r.started)return!1;b&&!0!==b||
(b={trigger:!!b});a=this.getFragment(a||"");var c=this.root;if(""===a||"?"===a.charAt(0))c=c.slice(0,-1)||"/";c+=a;a=this.decodeFragment(a.replace(ca,""));if(this.fragment!==a){this.fragment=a;if(this._usePushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else if(this._wantsHashChange)this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getHash(this.iframe.contentWindow)&&(c=this.iframe.contentWindow,b.replace||(c.document.open(),c.document.close()),this._updateHash(c.location,
a,b.replace));else return this.location.assign(c);if(b.trigger)return this.loadUrl(a)}},_updateHash:function(a,b,c){c?(c=a.href.replace(/(javascript:|#).*$/,""),a.replace(c+"#"+b)):a.hash="#"+b}});h.history=new r;w.extend=A.extend=J.extend=p.extend=r.extend=function(a,b){var c=this;var e=a&&d.has(a,"constructor")?a.constructor:function(){return c.apply(this,arguments)};d.extend(e,c,b);e.prototype=d.create(c.prototype,a);e.prototype.constructor=e;e.__super__=c.prototype;return e};var H=function(){throw Error('A "url" property or function must be specified');
},z=function(a,b){var c=b.error;b.error=function(d){c&&c.call(b.context,a,d,b);a.trigger("error",a,d,b)}};return h});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:backbone-1.3.3', location = '/static/lib/backbone/backbone-1.3.3.js' */
define("jira/backbone-1.3.3",["jquery","atlassian/libs/underscore-1.8.3","atlassian/libs/factories/backbone-1.3.3"],function(a,e,n){return n(e,a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-transition-triggers-plugin:dev-status-common-resources', location = 'js/workflow/TriggersPluginBackboneDefine.js' */
define("jira-triggers/backbone-define",["jira/backbone-1.3.3","underscore"],function(Backbone,_){if(Backbone&&!Backbone.define){Backbone.define=function(name,ctor){eval("Backbone['Class: "+name+"'] = function() { Backbone['Class: "+name+"'].__ctor.apply(this, arguments); }");var cls=Backbone["Class: "+name];cls.__ctor=ctor;ctor.prototype.name=name;cls.prototype=ctor.prototype;_.extend(cls,ctor);_.each(ctor.prototype,function(fn,fnName){if(typeof fn==="function"){fn.displayName=name+"."+fnName}});var context=window;var parts=name.split(".");_.each(parts,function(part,i){if(i===parts.length-1){context[part]=cls}else{context=context[part]==null?(context[part]={}):context[part]}});return cls}}return Backbone});require("jira-triggers/backbone-define");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-transition-triggers-plugin:dev-status-common-resources', location = 'js/devstatus/FeedbackDialog.js' */
require(["jira/backbone-1.3.3","jquery","underscore"],function(c,b,a){c.define("JIRA.DevStatus.FeedbackDialog",c.Model.extend({properties:["collectorId","summary"],defaults:{summary:"Tell us what you think.",collectorId:"effe8b72"},show:function(){var d=this.get("collectorId");window.ATL_JQ_PAGE_PROPS=window.ATL_JQ_PAGE_PROPS||{};window.ATL_JQ_PAGE_PROPS[d]={fieldValues:{summary:this.get("summary")},triggerFunction:function(e){a.defer(function(){e()})}};b.getScript(this._collectorUrlFor(d))},_collectorUrlFor:function(d){return"https://jira.atlassian.com/s/d41d8cd98f00b204e9800998ecf8427e/en_UK-7m3tmj-1988229788/6307/131/1.4.8/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?collectorId="+d}}))});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:0', location = 'templates/viewissue/review/devstatus-panel-review.soy' */
// This file was automatically generated from devstatus-panel-review.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.Review.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }
if (typeof JIRA.Templates.DevStatus.Review == 'undefined') { JIRA.Templates.DevStatus.Review = {}; }


JIRA.Templates.DevStatus.Review.summaryPanel = function(opt_data, opt_ignored) {
  return '<dl><dt>' + JIRA.Templates.DevStatus.transitionContainer({content: '<div class="summary-content"><a class="summary" href="#" title="' + soy.$$escapeHtml(AJS.format('Reviews related to {0}',opt_data.issueKey)) + '">' + JIRA.Templates.FusionWidget.Common.reviewsText(opt_data) + '</a> ' + JIRA.Templates.FusionWidget.Common.reviewsStateViewIssue(opt_data) + '</div>'}) + '</dt>' + JIRA.Templates.DevStatus.Review.reviewDate(soy.$$augmentMap(opt_data, {showUpdatedText: true})) + '</dl>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.Review.summaryPanel.soyTemplateName = 'JIRA.Templates.DevStatus.Review.summaryPanel';
}


JIRA.Templates.DevStatus.Review.reviewDate = function(opt_data, opt_ignored) {
  return '' + ((opt_data.dueDate && ! opt_data.completed) ? JIRA.Templates.DevStatus.lastUpdated({text: 'Due', lastUpdated: opt_data.dueDate, extraClass: opt_data.overDue ? 'overdue' : undefined, datetimeFormat: 'fullAge'}) : (opt_data.lastUpdated) ? JIRA.Templates.DevStatus.lastUpdated({text: opt_data.showUpdatedText ? 'Updated' : '', lastUpdated: opt_data.lastUpdated, datetimeFormat: 'fullAge'}) : '');
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.Review.reviewDate.soyTemplateName = 'JIRA.Templates.DevStatus.Review.reviewDate';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:0', location = 'templates/viewissue/pullrequest/devstatus-panel-pullrequest.soy' */
// This file was automatically generated from devstatus-panel-pullrequest.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.PullRequest.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }
if (typeof JIRA.Templates.DevStatus.PullRequest == 'undefined') { JIRA.Templates.DevStatus.PullRequest = {}; }


JIRA.Templates.DevStatus.PullRequest.summaryPanel = function(opt_data, opt_ignored) {
  return '<dl><dt>' + JIRA.Templates.DevStatus.transitionContainer({content: '<div class="summary-content"><a class="summary" href="#" title="' + soy.$$escapeHtml(AJS.format('Pull requests related to {0}',opt_data.issueKey)) + '">' + JIRA.Templates.FusionWidget.Common.pullRequestsText(opt_data) + '</a> ' + JIRA.Templates.FusionWidget.Common.pullRequestsStateViewIssue(opt_data) + '</div>'}) + '</dt>' + JIRA.Templates.DevStatus.lastUpdated({text: 'Updated', lastUpdated: opt_data.lastUpdated, datetimeFormat: 'fullAge'}) + '</dl>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.PullRequest.summaryPanel.soyTemplateName = 'JIRA.Templates.DevStatus.PullRequest.summaryPanel';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:0', location = 'templates/viewissue/devstatus-panel.soy' */
// This file was automatically generated from devstatus-panel.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }


JIRA.Templates.DevStatus.connectionProblemAsInfoWithoutIcon = function(opt_data, opt_ignored) {
  return '' + aui.message.info({content: '' + JIRA.Templates.DevStatus.connectionAndConfigErrorsMessages({errorInstances: opt_data.instances, notConfiguredInstances: opt_data.notConfiguredInstances, showContactAdminForm: opt_data.showContactAdminForm})});
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.connectionProblemAsInfoWithoutIcon.soyTemplateName = 'JIRA.Templates.DevStatus.connectionProblemAsInfoWithoutIcon';
}


JIRA.Templates.DevStatus.connectionProblemAsWarning = function(opt_data, opt_ignored) {
  return '' + aui.message.warning({content: '' + JIRA.Templates.DevStatus.connectionAndConfigErrorsMessages({errorInstances: opt_data.instances, notConfiguredInstances: opt_data.notConfiguredInstances, showContactAdminForm: opt_data.showContactAdminForm})});
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.connectionProblemAsWarning.soyTemplateName = 'JIRA.Templates.DevStatus.connectionProblemAsWarning';
}


JIRA.Templates.DevStatus.connectionAndConfigErrorsMessages = function(opt_data, opt_ignored) {
  return '' + (((! opt_data.errorInstances || opt_data.errorInstances.length == 0) && (! opt_data.notConfiguredInstances || opt_data.notConfiguredInstances.length == 0)) ? '<p class="connection-error">' + soy.$$filterNoAutoescape('Jira is having difficulty contacting the applications that supply development status information.') + ' ' + JIRA.Templates.DevStatus.contactAdmin(opt_data) + '</p>' : ((opt_data.errorInstances.length > 0) ? '<p class="connection-error">' + JIRA.Templates.DevStatus.connectionProblemMultipleInstances({instances: opt_data.errorInstances}) + ' ' + JIRA.Templates.DevStatus.contactAdmin(opt_data) + '</p>' : '') + ((opt_data.notConfiguredInstances && opt_data.notConfiguredInstances.length > 0) ? '<p class="config-errors">' + JIRA.Templates.DevStatus.configProblem(opt_data) + '</p>' : ''));
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.connectionAndConfigErrorsMessages.soyTemplateName = 'JIRA.Templates.DevStatus.connectionAndConfigErrorsMessages';
}


JIRA.Templates.DevStatus.contactAdmin = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + soy.$$filterNoAutoescape(AJS.format('If this condition persists, please contact your {0}Jira administrators{1}.',opt_data.showContactAdminForm ? '<a id="contact-admin" href="' + "" + '/secure/ContactAdministrators!default.jspa">' : '',opt_data.showContactAdminForm ? '</a>' : ''));
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.contactAdmin.soyTemplateName = 'JIRA.Templates.DevStatus.contactAdmin';
}


JIRA.Templates.DevStatus.connectionProblem = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.adminError) {
    output += JIRA.Templates.DevStatus.connectionProblemAdminError(opt_data);
  } else {
    output += '<p class="connection-error">' + ((! opt_data.instances || opt_data.instances.length == 0) ? soy.$$filterNoAutoescape('Jira is having difficulty contacting the applications that supply development status information.') : JIRA.Templates.DevStatus.connectionProblemMultipleInstances(opt_data)) + ' ';
    var contactAdminAnchor__soy57 = '<a id="contact-admin" href="' + soy.$$escapeHtml("") + '/secure/ContactAdministrators!default.jspa">';
    output += soy.$$filterNoAutoescape(AJS.format('If this condition persists, please contact your {0}Jira administrators{1}.',opt_data.showContactAdminForm ? contactAdminAnchor__soy57 : '',opt_data.showContactAdminForm ? '</a>' : '')) + '</p>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.connectionProblem.soyTemplateName = 'JIRA.Templates.DevStatus.connectionProblem';
}


JIRA.Templates.DevStatus.connectionProblemAdminError = function(opt_data, opt_ignored) {
  var output = '<p class="connection-error admin-error">' + soy.$$escapeHtml(opt_data.adminError.message) + '</p><p class="configure-applinks-link"><a href="' + soy.$$escapeHtml("") + '/plugins/servlet/applinks/listApplicationLinks">' + soy.$$escapeHtml('Configure Application Links') + '</a></p>';
  if (opt_data.adminError.details) {
    output += '<p class="connection-error"><a id="replace-text-trigger" data-replace-text="' + soy.$$escapeHtml('Hide error details') + '" class="aui-expander-trigger" aria-controls="expander-with-replace-text-content">' + soy.$$escapeHtml('Show error details') + '</a></p><div id="expander-with-replace-text-content" class="aui-expander-content admin-error-details"><ul>';
    var detailList79 = opt_data.adminError.details;
    var detailListLen79 = detailList79.length;
    for (var detailIndex79 = 0; detailIndex79 < detailListLen79; detailIndex79++) {
      var detailData79 = detailList79[detailIndex79];
      output += '<li>' + soy.$$escapeHtml(detailData79) + '</li>';
    }
    output += '</ul></div>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.connectionProblemAdminError.soyTemplateName = 'JIRA.Templates.DevStatus.connectionProblemAdminError';
}


JIRA.Templates.DevStatus.configProblem = function(opt_data, opt_ignored) {
  var output = '';
  var servers__soy86 = opt_data.notConfiguredInstances;
  output += '<span class="description">';
  var server0__soy88 = '' + JIRA.Templates.DevStatus.connectionProblemSingleInstance({instance: servers__soy86[0]});
  if (servers__soy86.length == 1) {
    output += soy.$$filterNoAutoescape(AJS.format('Couldn\x27\x27t read data from {0}.',server0__soy88));
  } else {
    var server1__soy96 = '' + JIRA.Templates.DevStatus.connectionProblemSingleInstance({instance: servers__soy86[1]});
    if (servers__soy86.length == 2) {
      output += soy.$$filterNoAutoescape(AJS.format('Couldn\x27\x27t read data from {0} and {1}.',server0__soy88,server1__soy96));
    } else {
      var server2__soy104 = '' + JIRA.Templates.DevStatus.connectionProblemSingleInstance({instance: servers__soy86[2]});
      output += (servers__soy86.length == 3) ? soy.$$filterNoAutoescape(AJS.format('Couldn\x27\x27t read data from {0}, {1}, and {2}.',server0__soy88,server1__soy96,server2__soy104)) : soy.$$filterNoAutoescape(AJS.format('Couldn\x27\x27t read data from {0}, {1}, {2}, and {3} other {3,choice,1#application|1\x3capplications}.',server0__soy88,server1__soy96,server2__soy104,servers__soy86.length - 3));
    }
  }
  output += '</span> <span class="hints">';
  var helpUrl__soy115 = ({"alt":"Get help!","title":"Jira Application Development panel displays error - Couldn''t read data","url":"https://confluence.atlassian.com/display/JIRAKB/JIRA+Application+Development+panel+displays+error+-+Couldn%27t+read+data"});
  output += soy.$$filterNoAutoescape(AJS.format('Learn {0}about this issue{1} or go to {2}application links{3} to fix it.','<a href="' + helpUrl__soy115.url + '" target="_blank">','</a>','<a href="' + "" + '/plugins/servlet/applinks/listApplicationLinks">','</a>')) + '</span>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.configProblem.soyTemplateName = 'JIRA.Templates.DevStatus.configProblem';
}


JIRA.Templates.DevStatus.connectionProblemMultipleInstances = function(opt_data, opt_ignored) {
  var output = '';
  var instance0__soy120 = '' + JIRA.Templates.DevStatus.connectionProblemSingleInstance({instance: opt_data.instances[0]});
  if (opt_data.instances.length == 1) {
    output += soy.$$filterNoAutoescape(AJS.format('Jira is having difficulty contacting {0}.',instance0__soy120));
  } else {
    var instance1__soy128 = '' + JIRA.Templates.DevStatus.connectionProblemSingleInstance({instance: opt_data.instances[1]});
    if (opt_data.instances.length == 2) {
      output += soy.$$filterNoAutoescape(AJS.format('Jira is having difficulty contacting {0} and {1}.',instance0__soy120,instance1__soy128));
    } else {
      var instance2__soy136 = '' + JIRA.Templates.DevStatus.connectionProblemSingleInstance({instance: opt_data.instances[2]});
      output += soy.$$filterNoAutoescape(AJS.format('Jira is having difficulty contacting {0}, {1}, {3,choice,0#and {2}|1#{2}, and another application|1\x3c{2}, and {3} more applications}.',instance0__soy120,instance1__soy128,instance2__soy136,opt_data.instances.length - 3));
    }
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.connectionProblemMultipleInstances.soyTemplateName = 'JIRA.Templates.DevStatus.connectionProblemMultipleInstances';
}


JIRA.Templates.DevStatus.connectionProblemSingleInstance = function(opt_data, opt_ignored) {
  return '<span class="instance" data-name="' + soy.$$escapeHtml(opt_data.instance.name) + '"><a href="' + soy.$$escapeHtml(opt_data.instance.baseUrl) + '" title="' + soy.$$escapeHtml(opt_data.instance.name) + '">' + soy.$$escapeHtml(opt_data.instance.name) + '</a></span>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.connectionProblemSingleInstance.soyTemplateName = 'JIRA.Templates.DevStatus.connectionProblemSingleInstance';
}


JIRA.Templates.DevStatus.labsOnOff = function(opt_data, opt_ignored) {
  return '' + ((! opt_data.isOptedInByAdmin && ! opt_data.isOptedIn) ? '<div class="on-off-panel aui-message closeable"><h2 class="title">' + soy.$$escapeHtml('Jira Labs') + '</h2><p>' + soy.$$escapeHtml('The new way to see your related commits and pull requests as they occur.') + '</p><span class="aui-icon icon-close labs-close" role="button" tabindex="0" title="' + soy.$$escapeHtml('Close the Jira Labs panel') + '"></span><div class="aui-group"><div class="aui-item"><button class="toggle-labs aui-button" title="' + soy.$$escapeHtml('Enable Jira Labs for development panel') + '">' + soy.$$escapeHtml('Enable Labs') + '</button></div></div>' : '<div class="on-off-panel opted-in">' + ((! opt_data.isOptedInByAdmin) ? ' | <span class="disable-labs"><a class="toggle-labs" href="#" title="' + soy.$$escapeHtml('Disable Jira Labs for the development panel') + '">' + soy.$$escapeHtml('Disable Labs') + '</span></span>' : '') + '</div>');
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.labsOnOff.soyTemplateName = 'JIRA.Templates.DevStatus.labsOnOff';
}


JIRA.Templates.DevStatus.tryLabs = function(opt_data, opt_ignored) {
  return '<span href="#" class="try-labs" title="' + soy.$$escapeHtml('Show the Jira Labs panel') + '">' + soy.$$escapeHtml('Try Labs') + '</span>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.tryLabs.soyTemplateName = 'JIRA.Templates.DevStatus.tryLabs';
}


JIRA.Templates.DevStatus.lastUpdated = function(opt_data, opt_ignored) {
  return '' + ((opt_data.lastUpdated) ? '<dd class="sub-text' + ((opt_data.extraClass) ? ' ' + soy.$$escapeHtml(opt_data.extraClass) : '') + '">' + JIRA.Templates.DevStatus.transitionContainer({content: '<div>' + soy.$$escapeHtml(opt_data.text) + ' <time class="livestamp date user-tz allow-future" ' + ((opt_data.datetimeFormat) ? 'data-datetime-format="' + soy.$$escapeHtml(opt_data.datetimeFormat) + '" ' : '') + 'datetime="' + soy.$$escapeHtml(opt_data.lastUpdated) + '">$' + soy.$$escapeHtml(opt_data.lastUpdated) + '</time></div>'}) + '</dd>' : '');
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.lastUpdated.soyTemplateName = 'JIRA.Templates.DevStatus.lastUpdated';
}


JIRA.Templates.DevStatus.transitionContainer = function(opt_data, opt_ignored) {
  return '<div class="rolling-container sliding-container"><div class="rolling-content">' + soy.$$filterNoAutoescape(opt_data.content) + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.transitionContainer.soyTemplateName = 'JIRA.Templates.DevStatus.transitionContainer';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:0', location = 'templates/viewissue/devstatus-cta-tooltips.soy' */
// This file was automatically generated from devstatus-cta-tooltips.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.Tooltip.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }
if (typeof JIRA.Templates.DevStatus.Tooltip == 'undefined') { JIRA.Templates.DevStatus.Tooltip = {}; }


JIRA.Templates.DevStatus.Tooltip.createBranch = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.DevStatus.Tooltip.tooltipLayout({extraClasses: 'create-branch', content: '<span class="branch-illustration"></span><div class="branch-text"><p>' + soy.$$escapeHtml('Create a branch for this issue in your source repository') + '.<br /> <a class="cta-learn-more-link" href="https://www.atlassian.com/git/workflows" target="_blank">' + soy.$$escapeHtml('Learn more about branching strategies') + '.</a></p></div>'});
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.Tooltip.createBranch.soyTemplateName = 'JIRA.Templates.DevStatus.Tooltip.createBranch';
}


JIRA.Templates.DevStatus.Tooltip.automaticTransitions = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.DevStatus.Tooltip.tooltipLayout({extraClasses: 'dev-summary-automatic-transitions', content: '<p>' + soy.$$escapeHtml('Now Jira can automatically update your issue status when pull requests and other actions occur.') + '</p><p><a href="' + soy.$$escapeHtml(opt_data.aitHelpLinkUrl.url) + '" id="trigger-docs-link" target="_blank" title="' + soy.$$escapeHtml('Learn about automating your workflow') + '">' + soy.$$escapeHtml('Learn about automating your workflow') + '</a></p>'});
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.Tooltip.automaticTransitions.soyTemplateName = 'JIRA.Templates.DevStatus.Tooltip.automaticTransitions';
}


JIRA.Templates.DevStatus.Tooltip.tooltipLayout = function(opt_data, opt_ignored) {
  return '<div class="cta-tooltip' + ((opt_data.extraClasses) ? ' ' + soy.$$escapeHtml(opt_data.extraClasses) : '') + '">' + soy.$$filterNoAutoescape(opt_data.content) + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.Tooltip.tooltipLayout.soyTemplateName = 'JIRA.Templates.DevStatus.Tooltip.tooltipLayout';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:0', location = 'templates/viewissue/deployment/devstatus-panel-deployment.soy' */
// This file was automatically generated from devstatus-panel-deployment.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.Deployment.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }
if (typeof JIRA.Templates.DevStatus.Deployment == 'undefined') { JIRA.Templates.DevStatus.Deployment = {}; }


JIRA.Templates.DevStatus.Deployment.summaryPanel = function(opt_data, opt_ignored) {
  return '<dl><dd>' + JIRA.Templates.DevStatus.transitionContainer({content: '<div class="summary-content" title="' + soy.$$escapeHtml(AJS.format('Deployments related to {0}',opt_data.issueKey)) + '">' + ((opt_data.topEnvironments.length) ? JIRA.Templates.FusionWidget.Common.deployments({anchorStart: '<a class="summary">', anchorEnd: '</a>', showProjects: opt_data.showProjects, successfulCount: opt_data.successfulCount, topEnvironments: opt_data.topEnvironments}) : soy.$$escapeHtml('No deployments contain latest commits')) + '</div>'}) + '</dd></dl>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.Deployment.summaryPanel.soyTemplateName = 'JIRA.Templates.DevStatus.Deployment.summaryPanel';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:0', location = 'templates/viewissue/commit/devstatus-panel-commit.soy' */
// This file was automatically generated from devstatus-panel-commit.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.Commit.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }
if (typeof JIRA.Templates.DevStatus.Commit == 'undefined') { JIRA.Templates.DevStatus.Commit = {}; }


JIRA.Templates.DevStatus.Commit.summaryPanel = function(opt_data, opt_ignored) {
  return '<dl><dt>' + JIRA.Templates.DevStatus.transitionContainer({content: '<div class="summary-content"><a class="summary" href="#" title="' + soy.$$escapeHtml(AJS.format('Commits related to {0}',opt_data.issueKey)) + '">' + JIRA.Templates.FusionWidget.Common.commits(opt_data) + '</a></div>'}) + '</dt>' + JIRA.Templates.DevStatus.lastUpdated({text: 'Latest', lastUpdated: opt_data.lastUpdated, datetimeFormat: 'fullAge'}) + '</dl>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.Commit.summaryPanel.soyTemplateName = 'JIRA.Templates.DevStatus.Commit.summaryPanel';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:0', location = 'templates/viewissue/build/devstatus-panel-build.soy' */
// This file was automatically generated from devstatus-panel-build.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.Build.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }
if (typeof JIRA.Templates.DevStatus.Build == 'undefined') { JIRA.Templates.DevStatus.Build = {}; }


JIRA.Templates.DevStatus.Build.summaryPanel = function(opt_data, opt_ignored) {
  var output = '<dl><dt>';
  var param4 = '<div class="summary-content"><a class="summary" href="#" title="' + soy.$$escapeHtml(AJS.format('Builds related to {0}',opt_data.issueKey)) + '">';
  var countText__soy8 = '' + JIRA.Templates.FusionWidget.Common.buildsText(opt_data);
  param4 += soy.$$filterNoAutoescape(countText__soy8) + '</a> ' + JIRA.Templates.DevStatus.Build.statusIcon(opt_data) + '</div>';
  output += JIRA.Templates.DevStatus.transitionContainer({content: param4});
  output += '</dt>' + JIRA.Templates.DevStatus.lastUpdated({text: 'Latest', lastUpdated: opt_data.lastUpdated, datetimeFormat: 'fullAge'}) + '</dl>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.Build.summaryPanel.soyTemplateName = 'JIRA.Templates.DevStatus.Build.summaryPanel';
}


JIRA.Templates.DevStatus.Build.statusIcon = function(opt_data, opt_ignored) {
  var output = '';
  var iconClass__soy27 = '' + JIRA.Templates.FusionWidget.Common.buildsIconClass(opt_data);
  output += '<span class="aui-icon aui-icon-small ' + soy.$$escapeHtml(iconClass__soy27) + '">' + soy.$$escapeHtml(opt_data.iconText) + '</span>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.Build.statusIcon.soyTemplateName = 'JIRA.Templates.DevStatus.Build.statusIcon';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:0', location = 'templates/viewissue/branch/devstatus-panel-branch.soy' */
// This file was automatically generated from devstatus-panel-branch.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.Branches.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }
if (typeof JIRA.Templates.DevStatus.Branches == 'undefined') { JIRA.Templates.DevStatus.Branches = {}; }


JIRA.Templates.DevStatus.Branches.summaryPanel = function(opt_data, opt_ignored) {
  return '<dl><dt>' + JIRA.Templates.DevStatus.transitionContainer({content: '<div class="summary-content"><a class="summary" href="#" title="' + soy.$$escapeHtml(AJS.format('Branches related to {0}',opt_data.issueKey)) + '">' + JIRA.Templates.FusionWidget.Common.branches(opt_data) + '</a></div>'}) + '</dt>' + JIRA.Templates.DevStatus.lastUpdated({text: 'Updated', lastUpdated: opt_data.lastUpdated, datetimeFormat: 'fullAge'}) + '</dl>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.Branches.summaryPanel.soyTemplateName = 'JIRA.Templates.DevStatus.Branches.summaryPanel';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:0', location = 'templates/fusion-widget/fusion-widget-common.soy' */
// This file was automatically generated from fusion-widget-common.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.FusionWidget.Common.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.FusionWidget == 'undefined') { JIRA.Templates.FusionWidget = {}; }
if (typeof JIRA.Templates.FusionWidget.Common == 'undefined') { JIRA.Templates.FusionWidget.Common = {}; }


JIRA.Templates.FusionWidget.Common.branches = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(AJS.format('{0}{1}{2} {1,choice,1#branch|1\x3cbranches}','<span class="count">',opt_data.count,'</span>'));
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.branches.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.branches';
}


JIRA.Templates.FusionWidget.Common.buildsText = function(opt_data, opt_ignored) {
  var output = '';
  var tagStart__soy6 = '<span class="count">';
  var tagEnd__soy7 = '</span>';
  output += (opt_data.successfulBuildCount > 0) ? (opt_data.failedBuildCount > 0) ? soy.$$filterNoAutoescape(AJS.format('{0}{1}{2} {1,choice,1#build|1\x3cbuilds} failed',tagStart__soy6,opt_data.failedBuildCount,tagEnd__soy7)) : (opt_data.unknownBuildCount > 0) ? soy.$$filterNoAutoescape(AJS.format('{0}{1}{2} {1,choice,1#build succeeded|1\x3cbuilds successful}',tagStart__soy6,opt_data.successfulBuildCount,tagEnd__soy7)) : soy.$$filterNoAutoescape(AJS.format('{0}{1}{2} {1,choice,1#build succeeded|1\x3cbuilds successful}',tagStart__soy6,opt_data.count,tagEnd__soy7)) : (opt_data.failedBuildCount > 0) ? (opt_data.unknownBuildCount > 0) ? soy.$$filterNoAutoescape(AJS.format('{0}{1}{2} {1,choice,1#build|1\x3cbuilds} failed',tagStart__soy6,opt_data.failedBuildCount,tagEnd__soy7)) : soy.$$filterNoAutoescape(AJS.format('{0}{1}{2} {1,choice,1#build|1\x3cbuilds} failed',tagStart__soy6,opt_data.count,tagEnd__soy7)) : soy.$$filterNoAutoescape(AJS.format('{0}{1}{2} {1,choice,1#build|1\x3cbuilds} incomplete',tagStart__soy6,opt_data.count,tagEnd__soy7));
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.buildsText.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.buildsText';
}


JIRA.Templates.FusionWidget.Common.buildsIconClass = function(opt_data, opt_ignored) {
  return '' + ((opt_data.failedBuildCount > 0) ? 'aui-iconfont-error' : (opt_data.successfulBuildCount > 0) ? 'aui-iconfont-approve' : (opt_data.unknownBuildCount > 0) ? 'aui-iconfont-devtools-task-cancelled' : '');
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.buildsIconClass.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.buildsIconClass';
}


JIRA.Templates.FusionWidget.Common.commits = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(AJS.format('{0}{1}{2} {1,choice,1#commit|1\x3ccommits}','<span class="count">',opt_data.count,'</span>'));
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.commits.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.commits';
}


JIRA.Templates.FusionWidget.Common.deployments = function(opt_data, opt_ignored) {
  var output = '';
  var instanceOne__soy43 = '' + JIRA.Templates.FusionWidget.Common.deploymentsInstance({environment: opt_data.topEnvironments[0], showProjects: opt_data.showProjects});
  var instanceTwo__soy47 = '' + JIRA.Templates.FusionWidget.Common.deploymentsInstance({environment: opt_data.topEnvironments[1], showProjects: opt_data.showProjects});
  var instanceThree__soy51 = '' + JIRA.Templates.FusionWidget.Common.deploymentsInstance({environment: opt_data.topEnvironments[2], showProjects: opt_data.showProjects});
  output += soy.$$filterNoAutoescape(AJS.format('{5}Deployed{6} to {0,choice,1#{1}|2#{1} and {2}|3#{1}, {2} and {3}|3\x3c{1}, {2}, {3}, and {4} more}',opt_data.successfulCount,instanceOne__soy43,instanceTwo__soy47,instanceThree__soy51,opt_data.successfulCount - 3,opt_data.anchorStart,opt_data.anchorEnd));
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.deployments.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.deployments';
}


JIRA.Templates.FusionWidget.Common.deploymentsInstance = function(opt_data, opt_ignored) {
  return '' + ((opt_data.environment) ? '<span class="environment" ' + ((opt_data.showProjects) ? 'title="' + soy.$$escapeHtml(AJS.format('Project: {0}',opt_data.environment.project)) + '"' : '') + '>' + soy.$$escapeHtml(opt_data.environment.title) + '</span>' : '');
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.deploymentsInstance.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.deploymentsInstance';
}


JIRA.Templates.FusionWidget.Common.pullRequestsText = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(AJS.format('{0}{1}{2} {1,choice,1#pull request|1\x3cpull requests}','<span class="count">',opt_data.stateCount,'</span>'));
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.pullRequestsText.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.pullRequestsText';
}


JIRA.Templates.FusionWidget.Common.reviewsText = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(AJS.format('{0}{1}{2} {1,choice,1#review|1\x3creviews}','<span class="count">',opt_data.stateCount,'</span>'));
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.reviewsText.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.reviewsText';
}


JIRA.Templates.FusionWidget.Common.reviewsState = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.FusionWidget.Common.stateLozenge({isSubtle: opt_data.isSubtle, lozengeClass: opt_data.stateClasses[opt_data.state], text: opt_data.stateText[opt_data.state], classes: opt_data.classes, tooltip: opt_data.tooltip, tooltipClass: opt_data.tooltipClass, tooltipText: opt_data.tooltipText});
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.reviewsState.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.reviewsState';
}


JIRA.Templates.FusionWidget.Common.pullRequestsStateViewIssue = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.FusionWidget.Common.reviewsState({isSubtle: true, state: opt_data.state, stateClasses: {OPEN: 'aui-lozenge-current', MERGED: 'aui-lozenge-success', DECLINED: 'aui-lozenge-error'}, stateText: {OPEN: 'OPEN', MERGED: 'MERGED', DECLINED: 'DECLINED'}, classes: 'pullrequest-state'});
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.pullRequestsStateViewIssue.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.pullRequestsStateViewIssue';
}


JIRA.Templates.FusionWidget.Common.pullRequestsStateReleaseReport = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.FusionWidget.Common.reviewsState({isSubtle: true, state: opt_data.state, stateClasses: {OPEN: 'aui-lozenge-current', MERGED: 'aui-lozenge-success', DECLINED: 'aui-lozenge-error'}, stateText: {OPEN: 'Under Review', MERGED: 'MERGED', DECLINED: 'DECLINED'}, tooltip: true, tooltipClass: 'fusion-widget-tooltip', tooltipText: opt_data.tooltipText});
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.pullRequestsStateReleaseReport.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.pullRequestsStateReleaseReport';
}


JIRA.Templates.FusionWidget.Common.reviewsStateViewIssue = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.FusionWidget.Common.reviewsState({isSubtle: true, state: opt_data.state, stateClasses: {REVIEW: 'aui-lozenge-complete', CLOSED: 'aui-lozenge-success', DRAFT: 'aui-lozenge-complete', DEAD: 'aui-lozenge-error', REJECTED: 'aui-lozenge-error', UNKNOWN: 'aui-lozenge-error', APPROVAL: 'aui-lozenge-current', SUMMARIZE: 'aui-lozenge-complete'}, stateText: {REVIEW: 'Open', CLOSED: 'Closed', DRAFT: 'Draft', DEAD: 'Abandoned', REJECTED: 'Rejected', UNKNOWN: 'Unknown', APPROVAL: 'Approval', SUMMARIZE: 'Summarize'}});
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.reviewsStateViewIssue.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.reviewsStateViewIssue';
}


JIRA.Templates.FusionWidget.Common.reviewsStateReleaseReport = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.FusionWidget.Common.reviewsState({isSubtle: true, state: opt_data.state, stateClasses: {REVIEW: 'aui-lozenge-complete', CLOSED: 'aui-lozenge-success', DRAFT: 'aui-lozenge-complete', DEAD: 'aui-lozenge-error', REJECTED: 'aui-lozenge-error', UNKNOWN: 'aui-lozenge-error', APPROVAL: 'aui-lozenge-complete', SUMMARIZE: 'aui-lozenge-complete'}, stateText: {REVIEW: 'Under Review', CLOSED: 'Closed', DRAFT: 'Draft', DEAD: 'Abandoned', REJECTED: 'Rejected', UNKNOWN: 'Unknown', APPROVAL: 'Under Review', SUMMARIZE: 'Under Review'}, tooltip: true, tooltipClass: 'fusion-widget-tooltip', tooltipText: opt_data.tooltipText});
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.reviewsStateReleaseReport.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.reviewsStateReleaseReport';
}


JIRA.Templates.FusionWidget.Common.stateLozenge = function(opt_data, opt_ignored) {
  return '<span class="aui-lozenge aui-lozenge-overflow ' + ((opt_data.isSubtle) ? 'aui-lozenge-subtle' : '') + ' ' + soy.$$escapeHtml(opt_data.lozengeClass) + ' ' + ((opt_data.tooltip) ? soy.$$escapeHtml(opt_data.tooltipClass) : '') + ' ' + ((opt_data.classes) ? soy.$$escapeHtml(opt_data.classes) : '') + '"' + ((opt_data.tooltip) ? 'data-tooltip="' + soy.$$escapeHtml(opt_data.tooltipText) + '"' : '') + '>' + soy.$$escapeHtml(opt_data.text) + '</span>';
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.stateLozenge.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.stateLozenge';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:0', location = 'dist/0.075180f0a8e207fec1f8.js' */
jiraDevelopmentIntegrationPluginJsonp([0],{"./js/analytics/AnalyticsModel.js":function(e,i,a){"use strict";var s,t;s=[a("jira.webresources:ajs-backbone-amd-shim/require('backbone')"),a("jira.webresources:ajs-underscorejs-amd-shim/require('underscore')")],t=function(e,i){return e.Model.extend({TO_ANALYTIC_KEY_OVERRIDE:{repository:"commit"},properties:["issue","summary"],initialize:function(e){this.devStatusContainer=e.devStatusContainer,this.devStatusData=e.devStatusData,this._getAllAnalyticData()},getIssue:function(){return this.get("issue")},getSummary:function(){return this.get("summary")},_getAllAnalyticData:function(){this.set("issue",this._getAnalyticIssueData()),this._initListenerToData()},_getAnalyticIssueData:function(){return{isAssignee:this.devStatusContainer.data("is-assignee"),isAssignable:this.devStatusContainer.data("is-assignable"),issueStatus:this.devStatusContainer.data("issue-status"),issueType:this.devStatusContainer.data("issue-type")}},_getAnalyticSummaryData:function(e){var a=this,s={};return i.each(e.summary,function(e,i){s[a.TO_ANALYTIC_KEY_OVERRIDE[i]||i]=0<e.overall.count}),s},_initListenerToData:function(){var e=this;this.devStatusData.on("requestSuccess",function(){e.set("summary",e._getAnalyticSummaryData(e.devStatusData.get("aggregatedData")))})}})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/analytics/devstatus-analytics.js":function(e,i,a){"use strict";var s,t,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=[a("jira.webresources:jira-global/require('jira/ajs/dark-features')"),a("jira.webresources:ajs-underscorejs-amd-shim/require('underscore')"),a("jira.webresources:jquery/require('jquery')"),a,i],t=function(e,i,s,t,n){function l(){return!e.isEnabled("jira.plugin.devstatus.analytics.disabled")}var o=a("jira.webresources:jira-events/require('jira/util/events')"),d=a("jira.webresources:jira-events/require('jira/util/events/types')"),u=a("jira.webresources:jira-metadata/require('jira/util/data/meta')"),m=a("./js/util/analytics.js"),c=".edit-permission-link";n.Analytics={fireEvent:function(e,i){if(l()){m.sendEvent("devstatus."+e,i)}},fireAgileDevStatusLinkClicked:function(){return n.Analytics.fireEvent("panel.agile.icon.clicked")}},n.LabsAnalytics={fireLabsEvent:function(e){var i=e?"on":"off";return n.Analytics.fireEvent("labs.toggle."+i)}},n.SummaryAnalytics={fireSummaryShownEvent:function(e,a,s,t){var r=e?"assignee":"nonassignee",l=i.extend({},t);return n.Analytics.fireEvent("summary.shown."+r,l)},fireSummaryClickedEvent:function(e,i){var a=u.get("fusion-analytics-new-context-link"),t=".clicked";return a&&(u.set("fusion-analytics-new-context-link",void 0),t+=".newcontext"),n.Analytics.fireEvent(e+".summary"+t,s.extend({},i))},fireDetailTabClicked:function(e,i){return n.Analytics.fireEvent(i+".detail."+e+".tab.clicked")}},n.BuildsAnalytics={fireSummaryClickedEvent:function(e){return n.SummaryAnalytics.fireSummaryClickedEvent("builds",e)},fireDetailProjectClicked:function(){return n.Analytics.fireEvent("builds.detail.project.clicked")},fireDetailPlanClicked:function(){return n.Analytics.fireEvent("builds.detail.plan.clicked")},fireDetailBuildClicked:function(){return n.Analytics.fireEvent("builds.detail.build.clicked")}},n.DeploymentsAnalytics={fireSummaryClickedEvent:function(e){return n.SummaryAnalytics.fireSummaryClickedEvent("deployments",e)},fireDetailProjectClicked:function(){return n.Analytics.fireEvent("deployments.detail.project.clicked")},fireDetailEnvironmentClicked:function(){return n.Analytics.fireEvent("deployments.detail.environment.clicked")},fireDetailReleaseClicked:function(){return n.Analytics.fireEvent("deployments.detail.release.clicked")}},n.CommitsAnalytics={fireSummaryClickedEvent:function(e){return n.SummaryAnalytics.fireSummaryClickedEvent("commits",e)},fireDetailRepoClicked:function(e){return n.Analytics.fireEvent("commits.detail."+e+".repo.clicked")},fireDetailCommitClicked:function(e){return n.Analytics.fireEvent("commits.detail."+e+".commit.clicked")},fireDetailTabClicked:function(e){return n.SummaryAnalytics.fireDetailTabClicked(e,"commits")},fireDetailFileExpandedClicked:function(e){return n.Analytics.fireEvent("commits.detail."+e+".file.expanded.clicked")},fireDetailFilesExpandedClicked:function(e){return n.Analytics.fireEvent("commits.detail."+e+".files.expanded.clicked")},fireDetailFileClicked:function(e){return n.Analytics.fireEvent("commits.detail."+e+".file.clicked")},fireDetailReviewsShown:function(e){return n.Analytics.fireEvent("commits.detail."+e+".reviews.shown")},fireDetailReviewClicked:function(e){return n.Analytics.fireEvent("commits.detail."+e+".review.clicked")},fireDetailBranchesShown:function(e){return n.Analytics.fireEvent("commits.detail."+e+".branches.shown")},fireDetailCreateReviewClicked:function(e,i){return n.Analytics.fireEvent("commits.detail."+e+".review.create"+(i?".all":""))}},n.ReviewsAnalytics={fireSummaryClickedEvent:function(e){return n.SummaryAnalytics.fireSummaryClickedEvent("reviews",e)},fireDetailReviewClicked:function(){return n.Analytics.fireEvent("reviews.detail.review.clicked")}},n.BranchesAnalytics={fireSummaryClickedEvent:function(e){return n.SummaryAnalytics.fireSummaryClickedEvent("branches",e)},_fireDetailClickedEvent:function(e,i){return n.Analytics.fireEvent("branches.detail."+e+"."+i+".clicked")},_fireDetailClickedEventAssignable:function(e,i,a,s){"undefined"!=typeof a&&"undefined"!=typeof s&&(a?e+=".assignee":(e+=".nonassignee",e+=s?".assignable":".nonassignable")),this._fireDetailClickedEvent(i,e)},fireDetailRepoClicked:function(e){this._fireDetailClickedEvent(e,"repo")},fireDetailBranchClicked:function(e){this._fireDetailClickedEvent(e,"branch")},fireDetailPullRequestLozengeClick:function(e){this._fireDetailClickedEvent(e,"pullrequest.lozenge")},fireDetailReviewLozengeClick:function(e){this._fireDetailClickedEvent(e,"review.lozenge")},fireDetailTabClicked:function(e){return n.SummaryAnalytics.fireDetailTabClicked(e,"branches")},fireDetailCreatePullRequestClicked:function(e,i,a){this._fireDetailClickedEventAssignable("pullrequest.create",e,i,a)},fireDetailCreateReviewClicked:function(e,i,a){this._fireDetailClickedEventAssignable("review.create",e,i,a)}},n.PullRequestsAnalytics={fireSummaryClickedEvent:function(e){return n.SummaryAnalytics.fireSummaryClickedEvent("pullrequests",e)},fireDetailPullRequestClicked:function(e){return n.Analytics.fireEvent("pullrequests.detail."+e+".pullrequest.clicked")},fireDetailTabClicked:function(e){return n.SummaryAnalytics.fireDetailTabClicked(e,"pullrequests")}},n.LearnMoreAnalytics={fireLearnMoreEvent:function(e,i){return n.Analytics.fireEvent("learnmore."+e,i)}},n.CtaDialogAnalytics={issueDetails:{},fireCreateBranchEvent:function(e,i){return i="object"===("undefined"==typeof i?"undefined":r(i))?s.extend({},i):{},n.Analytics.fireEvent("createbranch."+e+"."+(this.issueDetails.isAssignee?"assignee":"nonassignee"),i)},_populateIssueDetails:function(e){this.issueDetails={status:""+e.data("issueStatus"),type:""+e.data("issueType"),isAssignee:e.data("isAssignee")}},_initHandler:function(i,e,a,t){if(a&&e.not(document).is(a)){var r=this;e.find(t).on("simpleClick",function(){var e=s(this);r._fireCreateBranchEvent(e)})}},_fireCreateBranchEvent:function(e){this._populateIssueDetails(e);var i="click",a=u.get("fusion-analytics-new-context-link");a&&(u.set("fusion-analytics-new-context-link",void 0),i+=".newcontext"),this.fireCreateBranchEvent(i)},initialize:function(a,t,e){if(l()){var r=this;o.bind(d.NEW_CONTENT_ADDED,i.bind(function(i,e){this._initHandler(i,e,a,t)},this)),o.bind("GH.DetailView.updated",i.bind(function(i){this._initHandler(i,s(a),a,t)},this)),s(t).on("simpleClick",function(){var e=s(this);r._fireCreateBranchEvent(e)}),s(document).on("click","#"+e+" .jira-dialog-content .target",function(){var e=s(this);r.fireCreateBranchEvent("dialog.click",{title:e.find(".title").attr("title"),applicationType:e.data("applicationType")})}),s(document).on("click","#"+e+" .jira-dialog-content button.cancel",function(){r.fireCreateBranchEvent("dialog.cancel")}),s(document).on("click",".cta-tooltip .cta-learn-more-link",function(){n.LearnMoreAnalytics.fireLearnMoreEvent("click.ctahelptipbranching")})}}},n.AdminAnalytics={fireAdminEvent:function(e,i){return n.Analytics.fireEvent("admin."+e,i)},initialize:function(){if(l()){var e=this,i=s("#project-config-panel-dev-status");i.find(c).on("click",function(){e.fireAdminEvent("editpermissionlink.config."+(0<s("ul.permissions-list li.devstatus-admin-permission-item").length?"withpermissions":"nopermissions"))}),i.find(".learn-more-link").on("click",function(){n.LearnMoreAnalytics.fireLearnMoreEvent("click.adminappvertisementlink")}),i.find("#project-config-applinks-connect").on("click",function(){e.fireAdminEvent("connect")}),i.find(".devstatus-admin-connect-button-option").on("click",function(){var i=s(this).data("key")||"unknown";e.fireAdminEvent("connect."+i)})}}},n.AdminSummaryAnalytics={initialize:function(){l()&&s("#project-config-webpanel-devstatus-admin-summary-panel").find(c).on("click",function(){n.AdminAnalytics.fireAdminEvent("editpermissionlink.summary.nopermissions")})}}}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/util/DateUtils.js":function(e,i,a){"use strict";var s,t;(function(){var r="LLL";s=[a("jira.webresources:jquery/require('jquery')"),a("jira.webresources:momentjs/require('jira/moment')")],t=function(e,i){return{addTooltip:function(a){var s=a.find("time.livestamp");s.livestamp(),s.each(function(){var a=e(this),s=a.attr("datetime");if(s){var t=isNaN(s)?i(s).utcOffset(s):i(parseInt(s,10));a.attr("title",t.format(r))}})},setFormat:function(e){r=e}}}.apply(i,s),!(void 0!==t&&(e.exports=t))})()},"./js/util/EventPublisher.js":function(e,i,a){"use strict";var s;s=function(){return{trigger:AJS.trigger}}.call(i,a,i,e),!(void 0!==s&&(e.exports=s))},"./js/util/Listeners.js":function(e,i,a){"use strict";var s,t;s=[a("jira.webresources:ajs-underscorejs-amd-shim/require('underscore')"),a("jira.webresources:jira-base-control/require('jira/lib/class')")],t=function(e,i){return i.extend({init:function(){this._listening=[]},startListening:function(e,i,a,s){this._listening.push({start:function(){return e.on(i,a,s),this},stop:function(){return e.off(i,a,s),this}}.start())},stopListening:function(){e.each(this._listening,function(e){e.stop()}),this._listening=[]}})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/util/analytics.js":function(e,i,a){"use strict";var s,t;s=[a("./js/util/EventPublisher.js"),i],t=function(e,i){i.sendEvent=function(i){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};e.trigger("analyticsEvent",{name:i,data:a})}}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/DevStatusApp.js":function(e,i,a){"use strict";var s,t;s=[a("jira.webresources:jira-events/require('jira/util/events/types')"),a("jira.webresources:jira-global/require('jira/ajs/dark-features')"),a("jira.webresources:jira-metadata/require('jira/util/data/meta')"),a("jira.webresources:ajs-underscorejs-amd-shim/require('underscore')"),a,i,a("jira.webresources:jquery/require('jquery')")],t=function(e,i,s,t,r,n,l){function o(e){return e.find("body").hasClass("page-type-dashboard")}function d(e){return e.find("body").hasClass("ghx-agile")}function u(e){return e.find("body").hasClass("ka ajax-issue-search-and-view")}function m(){return s.get("is-servicedesk-rendered")}function c(e,a,s){n.devStatusModule.initializePanel({container:e,showTooltip:n.showTooltip,headerSelector:a,devStatusPanelVisibilityToggler:s,phaseTwoDisabled:!i.isEnabled("jira.plugin.devstatus.phasetwo.enabled")})}function p(e,i,a,s){t.defer(function(){var t=a?1e3:0,r={duration:t,complete:s};i?e.slideDown(r):e.slideUp(r)})}var y=a("./js/analytics/devstatus-analytics.js"),j=a("jira.webresources:jira-events/require('jira/util/events')");n.showTooltip=!0,n.showAITTooltip=!0;var v={devStatusContainer:"#devstatus-container",parentContainer:"[id$='devstatus-panel']",link:".devstatus-cta-link",statusPanel:".status-panels",viewIssueHeader:".mod-header",agileHeader:".ghx-header",agileNavMenuLink:"a[href=\"#ghx-tab-com-atlassian-jira-plugins-jira-development-integration-plugin-greenhopper-devstatus-panel\"]"};n.documentReadyInit=function(i){var s=a("./js/viewissue/DevStatusModule.js");n.devStatusModule=new s({parentContainerSelector:v.parentContainer,linkSelector:v.link,panelSelector:v.devStatusContainer,statusPanelSelector:v.statusPanel,shouldShowAITTooltip:function(){return n.showAITTooltip}}),o(i)||d(i)?(i.find("body").on("click",v.agileNavMenuLink,y.Analytics.fireAgileDevStatusLinkClicked),n.showTooltip=!1,n.showAITTooltip=!1):u(i)?l(function(){if(JIRA.Issues.Api.isFullScreenIssueVisible()){var e=l(v.devStatusContainer);0<e.length&&c(e,v.viewIssueHeader,p)}}):l(v.parentContainer).length&&(c(i.find(v.devStatusContainer),v.viewIssueHeader,p),n.showTooltip=!1),m()&&(n.showTooltip=!1,n.showAITTooltip=!1),j.bind(e.NEW_CONTENT_ADDED,function(i,e){return!!e.not(document).is(v.parentContainer)&&(c(e.find(v.devStatusContainer),v.viewIssueHeader,p),n.showTooltip=!1,!0)}),j.bind("GH.DetailView.updated",function(){c(l(v.devStatusContainer),v.agileHeader)})}}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/DevStatusData.js":function(e,i,a){"use strict";var s,t;s=[a("jira.webresources:wrm-context-path/require('wrm/context-path')"),a("jira.webresources:ajs-backbone-amd-shim/require('backbone')"),a("jira.webresources:jquery/require('jquery')"),a("jira.webresources:ajs-underscorejs-amd-shim/require('underscore')")],t=function(e,i,a,s){return i.Model.extend({properties:["aggregatedData"],namedEvents:["beforeRequest","requestFail","requestSuccess"],initialize:function(e){this.issueId=e.issueId,this.issueKey=e.issueKey},retrieveAggregateData:function(){var i=e()+"/rest/dev-status/1.0/issue/summary?issueId="+this.issueId;return this.trigger("beforeRequest"),a.ajax(i).done(s.bind(this.setAggregateData,this)).fail(s.bind(this.setAggregateDataError,this)).promise()},setAggregateData:function(e,i,a){this.set("aggregatedData",e),this.trigger("requestSuccess",this,!0===i,!!a)},setAggregateDataError:function(e){this.set("aggregatedData",void 0),this.trigger("requestFail",this,e)}})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/DevStatusModule.js":function(e,i,a){"use strict";var s,t;a(25),s=[a("jira.webresources:jira-formatter/require('jira/util/formatter')"),a("jira.webresources:ajs-backbone-amd-shim/require('backbone')"),a("jira.webresources:jquery/require('jquery')"),a,a("jira.webresources:ajs-underscorejs-amd-shim/require('underscore')"),a("jira.webresources:jira-metadata/require('jira/util/data/meta')"),a("./js/util/analytics.js")],t=function(e,i,s,t,r,n,l){var o=a("./js/util/DevStatusURLUtils.js"),d=a("./js/analytics/devstatus-analytics.js"),u=a("com.atlassian.plugins.helptips.jira-help-tips:help-tip/require('jira-help-tips/feature/help-tip')"),m=a("com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager/require('jira-help-tips/feature/help-tip-manager')"),c=a("./js/analytics/AnalyticsModel.js"),p=a("./js/util/Listeners.js"),y=a("./js/viewissue/summary/SummaryErrorModule.js"),j=a("./js/viewissue/DevStatusData.js"),v=a("./js/viewissue/labs/LabsOptInModel.js"),g=a("./js/viewissue/labs/LabsOptInView.js"),w=a("./js/viewissue/labs/TryLabsView.js"),h=a("./js/viewissue/summary/branch/BranchModule.js"),b=a("./js/viewissue/summary/build/BuildModule.js"),D=a("./js/viewissue/summary/commit/CommitModule.js"),f=a("./js/viewissue/summary/deployment/DeploymentModule.js"),S=a("./js/viewissue/summary/pullrequest/PullRequestModule.js"),C=a("./js/viewissue/summary/review/ReviewModule.js"),k=a("./js/viewissue/summary/CreateBranchView.js"),_=a("./js/viewissue/dialog/CreateBranchFormDialog.js"),A=i.Model.extend({initialize:function(e){r.defaults(this,e),this._listeners=new p,this.createBranchFormDialog=new _(e),this.devSummaryJson=null,this.triggerHelpTipShown=!1,this.aitHelptip=null,this._initFocusHandler()},initializePanel:function(e){return this._listeners.stopListening(),this._renderedData=null,this._getContainers(e),this.labsOptIn=v.createFromDOM(this.parentContainer),e.showTooltip=e.showTooltip&&(!this.labsOptIn.isAllowed()||this.labsOptIn.isOptedIn()||this.labsOptIn.isDismissed()),this._createCreateBranchView(e),this.devSummaryJson=this.devStatusContainer.find(".dev-summary.json-blob").data("json"),this._initLabsOptInView(),this._initTryLabsView(),this._createDevStatusData(e),this._createAnalyticsModel(e),this._createSummaryViews(e,A.moduleMap),this._setupDataEventHandlers(),this.devStatusPanelVisibilityToggler=e.devStatusPanelVisibilityToggler,e.phaseTwoDisabled?this._postRender(!1,!0):this._startDevStatus(),this.labsOptIn.on("change:optedIn",this._onChangeLabsOptIn,this),this.labsOptIn.isAllowed()&&this.labsOptIn.isOptedIn()&&this._onChangeLabsOptIn(this.labsOptIn,!0),this},_createCreateBranchView:function(e){this.createBranchView=new k({el:this.createBranchContainer,showTooltip:e.showTooltip})},_createDevStatusData:function(){this.devStatusData=new j({issueId:this.devStatusContainer.data("issue-id"),issueKey:this.devStatusContainer.data("issue-key")})},_createSummaryViews:function(e,i){var a=this,t=this.devStatusContainer.data();this._summaryModules=r.clone(this.statusPanelContainer.find(".status-panel").map(function(){var e=s(this),r=i[e.data("module")];return new r({dataAttrs:t,el:e,labsOptIn:a.labsOptIn,analyticsModel:a.analyticsModel})})),this._errorModule=new y({el:this.messagePanelContainer,dataAttrs:t})},_createAnalyticsModel:function(){this.analyticsModel=new c({devStatusContainer:this.devStatusContainer,devStatusData:this.devStatusData})},_getContainers:function(e){this.devStatusContainer=e.container,this.parentContainer=e.container.closest(this.parentContainerSelector),this.createBranchContainer=e.container.find(this.linkSelector),this.statusPanelContainer=e.container.find(this.statusPanelSelector),this.headerContainer=this.parentContainer.find(e.headerSelector),this.messagePanelContainer=e.container.find(".message-panel")},_onLoadingStarted:function(){this._startLoadingModuleData()},_onLoadingSuccess:function(e,i,a){var s=this.devStatusData.get("aggregatedData");this._renderModules({success:!0,renderData:s}),this._postRender(!i,a,s)},_onLoadingFailure:function(){this._renderModules({success:!1}),this._postRender(!1,!0)},_setupDataEventHandlers:function(){this._listeners.startListening(this.devStatusData,"beforeRequest",this._onLoadingStarted,this),this._listeners.startListening(this.devStatusData,"requestSuccess",this._onLoadingSuccess,this),this._listeners.startListening(this.devStatusData,"requestFail",this._onLoadingFailure,this)},_startDevStatus:function(){var e=!this.devSummaryJson||!0===this.devSummaryJson.isStale;this.devSummaryJson&&this.devStatusData.setAggregateData(this.devSummaryJson.cachedValue,!0,!e),e&&(this._startLoadingModuleData(),this.devStatusData.retrieveAggregateData())},_initFocusHandler:function(){s(window).on("focus",r.throttle(r.bind(this.refreshSummaryData,this),3e4,{trailing:!1}))},refreshSummaryData:function(){this.devStatusData&&this.devStatusData.retrieveAggregateData()},_onChangeLabsOptIn:function(e,i){},_initLabsOptInView:function(){this.labsOptInView=new g({el:this.parentContainer.find(".labs-on-off-container"),labsOptIn:this.labsOptIn}).render()},_initTryLabsView:function(){var e=s("<div class=\"try-labs-container\"></div>").appendTo(this.headerContainer);new w({el:e,labsOptIn:this.labsOptIn}).render()},_postRender:function(e,i,a){function s(){i&&(l.addClass("js-animation-completed"),r._attachAutomaticTransitionsHelpTip(a))}var t=this._isAnySummaryViewVisibleOnPanel()||this._isAnyErrorViewVisible(),r=this;if(t){var n=this.analyticsModel.getIssue();d.SummaryAnalytics.fireSummaryShownEvent(n.isAssignee,n.issueType,n.issueStatus,this.analyticsModel.getSummary()),this._openDetailDialogUrlLink()}this._togglePanelEmptyStatus(!this._isAnySummaryViewVisibleOnPanel());var l=this.parentContainer,o=t||0<this.createBranchContainer.size();this.devStatusPanelVisibilityToggler&&l.is(":visible")!==o?(this.devStatusPanelVisibilityToggler(this.parentContainer,o,e,s),!o&&this.aitHelptip&&this.aitHelptip.isVisible()&&this.aitHelptip.hide()):s()},_attachAutomaticTransitionsHelpTip:function(i){var a=this.parentContainer.is(":visible"),t=this._shouldRenderAITTooltip(i);!t&&this.aitHelptip&&this.aitHelptip.isVisible()?this.aitHelptip.hide():t&&!this.triggerHelpTipShown&&this.shouldShowAITTooltip()&&a&&(r.defer(r.bind(function(){this.aitHelptip=new u({id:"automaticTransitionDevSummaryTooltip",title:"Automate your status updates",bodyHtml:JIRA.Templates.DevStatus.Tooltip.automaticTransitions({aitHelpLinkUrl:this.devStatusContainer.data("ait-help-url-json")}),anchor:"#viewissue-devstatus-panel_heading .toggle-title",isSequence:!0,callbacks:{init:function(){s("#trigger-docs-link").on("click",function(){l.sendEvent("devstatus.automatic.transitions.learn.more.clicked")})}},inlineDialogOpts:{width:400}}),m.showSequences()},this)),this.triggerHelpTipShown=!0)},_shouldRenderAITTooltip:function(e){return!!e&&(0<e.summary.branch.overall.count||0<e.summary.repository.overall.count||0<e.summary.pullrequest.overall.count||0<e.summary.review.overall.count)},_getModuleByType:function(e){return r.find(this._summaryModules,function(i){return i.data&&i.data.getType&&r.isEqual(i.data.getType(),e)})},_openDetailDialogUrlLink:function(){var e=n.get("fusion-open-detail-dialog");if(e){var i;if(o.isCreateReviewDetailDialogLink(e)?i=this._getModuleByType("repository"):(i=this._getModuleByType(e),i&&n.set("fusion-open-detail-dialog",void 0)),i){var a=i.view;a&&a.isVisible()&&(n.set("fusion-analytics-new-context-link",!0),a.getSummaryLink().click())}}},_togglePanelEmptyStatus:function(e){this.statusPanelContainer&&this.statusPanelContainer.toggleClass("empty-status",e)},_isAnySummaryViewVisibleOnPanel:function(){return!!r.find(this._summaryModules,function(e){return e.isViewVisible()})},_isAnyErrorViewVisible:function(){return this._errorModule.isViewVisible()},_renderModules:function(e){var i=this._renderedData=e.renderData||this._renderedData;r.each(this._summaryModules,function(e){e.render(i)}),this._errorModule.render(e.success?i:void 0)},_startLoadingModuleData:function(){r.each(this._summaryModules,function(e){e.startLoading()})}},{moduleMap:{BranchModule:h,BuildModule:b,CommitModule:D,DeploymentModule:f,PullRequestModule:S,ReviewModule:C}});return A}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/dialog/CreateBranchFormDialog.js":function(e,i,a){"use strict";var s,t;a(5),s=[a("jira.webresources:ajs-backbone-amd-shim/require('backbone')"),a("jira.webresources:jquery/require('jquery')"),a("jira.webresources:dialogs/require('jira/dialog/form-dialog')"),a("./js/analytics/devstatus-analytics.js")],t=function(e,i,s,t){return e.View.extend({initialize:function(e){this.parentContainerSelector=e.parentContainerSelector,this.panelSelector=e.panelSelector,this.linkSelector=e.linkSelector,this.dialogId="devstatus-cta-dialog",t.CtaDialogAnalytics.initialize(this.parentContainerSelector,this.linkSelector,this.dialogId),this._initFormDialog()},_initFormDialog:function(){var e=this,r=new s({id:this.dialogId,width:560,content:function(s){var n=this;a.e(9).then(function(){var l=[a("./js/viewissue/dialog/InstancePickerView.js")];(function(a){n.pickerView=new a({el:n.$popup,activeTrigger:n.$activeTrigger,cta:e._getCta(n.$activeTrigger)}),n.pickerView.render().always(function(e){s(e),i(r.$popup).find(".target").eq(0).focus(),t.CtaDialogAnalytics.fireCreateBranchEvent("dialog.open")})}).apply(null,l)}).catch(a.oe)},trigger:this.linkSelector,autoClose:!0})},_getCta:function(e){var i=e.data("cta");if(i)return i;var a=e.attr("href"),s=a&&/\#([a-zA-Z\.]+)/.exec(a);return s&&s[1]}})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/labs/LabsOptInModel.js":function(e,i,a){"use strict";var s,t;s=[a("jira.webresources:wrm-context-path/require('wrm/context-path')"),a("jira.webresources:ajs-backbone-amd-shim/require('backbone')"),a("jira.webresources:jquery/require('jquery')"),a],t=function(e,i,s){var t=a("./js/analytics/devstatus-analytics.js"),r=i.Model.extend({defaults:{allowed:!1,optedIn:!1,optedInByAdmin:!1,dismissed:!1,id:1},isAllowed:function(){return this.get("allowed")},isOptedIn:function(){return this.get("optedIn")},isOptedInByAdmin:function(){return this.get("optedInByAdmin")},setOptedIn:function(e){return this.save({optedIn:e},{wait:!0}).done(function(){t.LabsAnalytics.fireLabsEvent(e)})},toggleOptedIn:function(){var e=this.isOptedIn();return this.setOptedIn(!e)},setDismissed:function(e){return this.save({dismissed:e},{wait:!0})},isDismissed:function(){return this.get("dismissed")},url:function(){return e()+"/rest/dev-status/1.0/labs-opt-in/"}},{createFromDOM:function(e){var i=s(e).find("#devstatus-container");return new r(i.data("labs-json"))}});return r}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/labs/LabsOptInView.js":function(e,i,a){"use strict";var s,t;a(2),s=[a("jira.webresources:ajs-backbone-amd-shim/require('backbone')")],t=function(e){return e.View.extend({events:{"click .toggle-labs":"_onClickToggle","click .labs-close":"_onClickDismiss"},initialize:function(e){this.labsOptIn=e.labsOptIn,this.labsOptIn.on("change",this.render,this),this.labsOptIn.on("change:optedIn",this._onChangeOptedIn,this)},render:function(){var e=this.labsOptIn;return e.isAllowed()&&(e.isOptedInByAdmin()||!e.isDismissed())?this._show():this._hide(),this},_onClickToggle:function(i){i.preventDefault(),this.labsOptIn.toggleOptedIn()},_onClickDismiss:function(i){i.preventDefault(),this.labsOptIn.setDismissed(!0)},_show:function(){this.$el.html(JIRA.Templates.DevStatus.labsOnOff({isOptedIn:this.labsOptIn.isOptedIn(),isOptedInByAdmin:this.labsOptIn.isOptedInByAdmin()})),this.$el.removeClass("hidden")},_hide:function(){this.$el.empty(),this.$el.addClass("hidden")}},{COLLECTOR_ID:"effe8b72"})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/labs/TryLabsView.js":function(e,i,a){"use strict";var s,t;a(2),s=[a("jira.webresources:ajs-backbone-amd-shim/require('backbone')")],t=function(e){return e.View.extend({events:{"click .try-labs":"_onClickTryLabs"},initialize:function(e){this.labsOptIn=e.labsOptIn,this.labsOptIn.on("change:dismissed",this.render,this)},render:function(){return this.labsOptIn.isAllowed()&&!this.labsOptIn.isOptedIn()&&this.labsOptIn.isDismissed()?this.$el.html(JIRA.Templates.DevStatus.tryLabs()):this.$el.empty(),this},_onClickTryLabs:function(i){i.preventDefault(),this.labsOptIn.setDismissed(!1)}})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/BasePanelModule.js":function(e,i,a){"use strict";var s,t;s=[a("jira.webresources:ajs-backbone-amd-shim/require('backbone')"),a("jira.webresources:ajs-underscorejs-amd-shim/require('underscore')")],t=function(e,i){return e.Model.extend({initialize:function(e){this.options=i.defaults({},e),this.data=this.createModel()},render:function(e){this.startViews(),this.data.updateData(e),this.view.render()},startLoading:function(){this.data.startLoadingData&&this.data.startLoadingData()},startViews:function(){this.view||(this.view=this.createView())},stopViews:function(){this.view&&(this.view.undelegateEvents(),this.view.$el.empty(),this.view.hide(),this.view=null)},isViewVisible:function(){return this.view&&this.view.isVisible()},createView:function(){},createModel:function(){}})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/BaseSummaryModel.js":function(e,i,a){"use strict";var s,t;s=[a("jira.webresources:ajs-backbone-amd-shim/require('backbone')")],t=function(e){return e.Model.extend({typeId:void 0,properties:["byInstanceType","overall","previousOverall","hasData","dataLoading"],startLoadingData:function(){this.set("dataLoading",!0)},updateData:function(e){if(this.set("hasData",void 0!==e),this.set("dataLoading",!1),this.set("previousOverall",this.getOverall()),e&&e.summary&&e.summary[this.typeId]){var i=e.summary[this.typeId];this.set("byInstanceType",i.byInstanceType),this.set("overall",i.overall)}else this.set("byInstanceType",{}),this.set("overall",{count:0})},getType:function(){return this.typeId},getOverall:function(){return this.get("overall")},getPreviousOverall:function(){return this.get("previousOverall")}})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/BaseSummaryModule.js":function(e,i,a){"use strict";var s,t;s=[a("jira.webresources:ajs-underscorejs-amd-shim/require('underscore')"),a("./js/viewissue/summary/BasePanelModule.js")],t=function(e,i){return i.extend({model:void 0,viewType:void 0,createModel:function(){return new this.model({})},createView:function(){return new this.viewType(e.extend(e.clone(this.options),{model:this.data}))}})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/BaseSummaryView.js":function(e,i,a){"use strict";var s,t;s=[a("jira.webresources:jira-logger/require('jira/util/logger')"),a("jira.webresources:ajs-backbone-amd-shim/require('backbone')"),a("jira.webresources:jquery/require('jquery')"),a("jira.webresources:ajs-underscorejs-amd-shim/require('underscore')"),a],t=function(i,e,s,t){var r=a("./js/util/DateUtils.js"),n=a("./js/util/DevStatusURLUtils.js"),l=a("./js/viewissue/summary/SummaryTransitionView.js");return e.View.extend({template:void 0,events:{"simpleClick .summary":"_onSummaryLinkClick"},initialize:function(e){this.options=t.clone(e),this.model.on("change:hasData",this._addOrRemoveHasDataClass,this),this.model.on("change:dataLoading",this._addOrRemoveDataLoadingClass,this),this.transitionView=new l({model:this.model,el:this.$el})},render:function(){var e=this.isVisible();if(e){var i=s(this.template(t.extend({issueKey:this.options.dataAttrs.issueKey},this.model.getOverall())));this._shouldAnimateDataTransition()?this.transitionView.renderVisible(i):(this.$el.html(i),r.addTooltip(i)),this._renderNavigableSummaryLink(),this.show()}else this._isHidden()||(this._shouldAnimateDataTransition()?this.transitionView.renderHidden(t.bind(this.hide,this)):this.hide());this._addOrRemoveDataLoadingClass(),this._addOrRemoveHasDataClass()},getDefaultDetailDialogParameters:function(){return{issueKey:this.options.dataAttrs.issueKey,issueId:this.options.dataAttrs.issueId,entityLinks:this.options.dataAttrs.entityLinks,tabs:this.model.get("byInstanceType"),dataType:this.model.getType(),showContactAdminForm:this.options.dataAttrs&&this.options.dataAttrs.showContactAdminForm}},getSummaryLink:function(){return this.$el.find("a.summary")},isVisible:function(){return 0<this.model.getOverall().count},_addOrRemoveHasDataClass:function(){var e=this.model.get("hasData");this.$el.toggleClass("js-has-data",e)},_renderNavigableSummaryLink:function(){this.getSummaryLink().attr("href",n.getUrlWithDetailDialogParam(this.model.getType()))},_addOrRemoveDataLoadingClass:function(){var e=this.model.get("dataLoading");this.$el.toggleClass("data-loading",e)},_onSummaryLinkClick:function(a){a.preventDefault(),i.log("Summary view not supported: ",this)},_shouldAnimateDataTransition:function(){return!!this.model.getPreviousOverall()},_isHidden:function(){return this.$el.hasClass("hidden")},show:function(){this.$el.removeClass("hidden")},hide:function(){this.$el.addClass("hidden")}})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/CreateBranchView.js":function(e,i,a){"use strict";var s,t;a(25),s=[a("jira.webresources:jira-formatter/require('jira/util/formatter')"),a("com.atlassian.plugins.helptips.jira-help-tips:help-tip/require('jira-help-tips/feature/help-tip')"),a("com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager/require('jira-help-tips/feature/help-tip-manager')"),a("jira.webresources:ajs-backbone-amd-shim/require('backbone')"),a("jira.webresources:ajs-underscorejs-amd-shim/require('underscore')"),a("jira.webresources:jira-metadata/require('jira/util/data/meta')"),a],t=function(e,i,s,t,r,n){var l=a("./js/util/DevStatusURLUtils.js");return t.View.extend({initialize:function(e){this.tooltipShown=!e.showTooltip,this.linkTextSelector=".devstatus-cta-link-text",this.issueContainer=".issue-container",this._processLinkForNavigableURL(),this._initTooltip(),r.defer(r.bind(this._openCreateBranchDialog,this))},getCreateBranchLink:function(){return this.$el},_processLinkForNavigableURL:function(){var e=this._getCta(this.$el);e&&this.getCreateBranchLink().data("cta",e),this.getCreateBranchLink().attr("href",l.getUrlWithDetailDialogParam("create-branch"))},_openCreateBranchDialog:function(){var e=n.get("fusion-open-detail-dialog");"create-branch"===e&&(n.set("fusion-open-detail-dialog",void 0),n.set("fusion-analytics-new-context-link",!0),this.getCreateBranchLink().click())},_initTooltip:function(){!this.tooltipShown&&0<this.$el.length&&r.defer(r.bind(function(){var a=this.$el.data("cta");a&&(new i({id:a+".tooltip",title:"Start development",bodyHtml:JIRA.Templates.DevStatus.Tooltip.createBranch(),anchor:this.$el.find(this.linkTextSelector),isSequence:!0,inlineDialogOpts:{container:this.issueContainer,width:400}}),this.tooltipShown=!0,s.showSequences())},this))},_getCta:function(e){var i=e.attr("href"),a=i&&/\#([a-zA-Z\.]+)/.exec(i);return a&&a[1]}})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/SummaryErrorModel.js":function(e,i,a){"use strict";var s,t;s=[a("jira.webresources:ajs-backbone-amd-shim/require('backbone')"),a("jira.webresources:ajs-underscorejs-amd-shim/require('underscore')")],t=function(e,i){return e.Model.extend({properties:["hasErrors","errorInstances","configInstances"],defaults:function(){return{hasErrors:!1,errorInstances:[],configInstances:[]}},updateData:function(e){var a=this._extractErrors(e&&e.errors),s=this._extractErrors(e&&e.configErrors);this.set("hasErrors",!e||!i.isEmpty(a)||!i.isEmpty(s)),this.set("errorInstances",a),this.set("configInstances",s)},_extractErrors:function(e){return e?i.map(i.filter(e,function(e){return e.error}),function(e){return e.instance}):[]}})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/SummaryErrorModule.js":function(e,i,a){"use strict";var s,t;s=[a("./js/viewissue/summary/BasePanelModule.js"),a],t=function(e){var i=a("./js/viewissue/summary/SummaryErrorModel.js"),s=a("./js/viewissue/summary/SummaryErrorView.js");return e.extend({createModel:function(){return new i({})},createView:function(){var e=this.options.dataAttrs&&this.options.dataAttrs.showContactAdminForm;return new s({model:this.data,el:this.options.el,showContactAdminForm:e})}})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/SummaryErrorView.js":function(e,i,a){"use strict";var s,t;a(2),s=[a("./js/viewissue/summary/BaseSummaryView.js")],t=function(e){return e.extend({initialize:function(e){this.showContactAdminForm=e.showContactAdminForm},render:function(){return this.isVisible()?(this.$el.html(JIRA.Templates.DevStatus.connectionProblemAsInfoWithoutIcon({instances:this.model.get("errorInstances"),notConfiguredInstances:this.model.get("configInstances"),showContactAdminForm:this.showContactAdminForm})),this.show()):this.hide(),this},isVisible:function(){return this.model.get("hasErrors")}})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/SummaryTransitionView.js":function(e,i,a){"use strict";var s,t;s=[a("jira.webresources:ajs-backbone-amd-shim/require('backbone')"),a("jira.webresources:jquery/require('jquery')"),a("jira.webresources:ajs-underscorejs-amd-shim/require('underscore')"),a("./js/util/DateUtils.js")],t=function(e,i,a,s){return e.View.extend({slideTransitionTime:500,initialize:function(){},renderVisible:function(e){var t=!i.contains(document,this.$el[0]);this._hasPreviousData()?this._hasDataChanged()&&(this._prepareContentsForTransition(e,this.$el),this.$el.addClass("roll-transition")):(this._preStartSlideTransition(),this.$el.addClass("slide-down-transition"),t=!0),this.$el.html(e),s.addTooltip(e),t?a.defer(a.bind(this._initiateTransition,this)):this._initiateTransition()},renderHidden:function(e){var i=this;this.$el.slideUp(this.slideTransitionTime,function(){i.$el.css("display",""),e()})},_initiateTransition:function(){if(this.$el.hasClass("slide-down-transition"))this._postStartSlideTransition(),this.$el.removeClass("slide-down-transition"),this._startSlideDownTransition(this.$el,0);else{this.$el.hasClass("roll-transition")&&(this.$el.removeClass("roll-transition"),this._startRollTransition());var e=this.$el.find(".sliding-container");if(0<e.length){var a=this;e.each(function(e,s){var t=i(s),r=t.data("prevHeight");a._startSlideDownTransition(t,r)})}}},_startSlideDownTransition:function(e,i){var a=e.height();i!==a&&e.height(i).animate({height:a},this.slideTransitionTime,function(){e.css("height","auto"),e.find(".rolling-content").removeClass("transit")})},_startRollTransition:function(){this.$el.find(".rolling-container").each(a.bind(function(e,a){var s=i(a),t=s.find(".rolling-content"),r=t.find(":not(.old-content)"),n=r.height();s.height(n),t.addClass("transit"),r.css("margin-top","-"+n+"px").animate({"margin-top":"0"},this.slideTransitionTime,function(){s.css("height","auto"),s.find(".old-content").remove(),t.removeClass("transit"),r.css("margin-top","")})},this))},_prepareContentsForTransition:function(e,a){e=i("<div></div>").append(e);var s=e.find(".sliding-container"),t=a.find(".sliding-container");s.each(function(e,a){var s=t.get(e);if(s){var r=i(s);i(a).data("prevHeight",r.height())}});var r=e.find(".rolling-container"),n=a.find(".rolling-container");r.each(function(e,a){var s=i(a).find(".rolling-content"),t=n.get(e);if(t){var r=i(t).find(".rolling-content").children();r.addClass("old-content"),s.append(r)}})},_hasPreviousData:function(){var e=this.model.getPreviousOverall();return e&&0<e.count},_hasDataChanged:function(){return!a.isEqual(this.model.getOverall(),this.model.getPreviousOverall())},_preStartSlideTransition:function(){this.$el.css("height","0"),this.$el.css("opacity","0")},_postStartSlideTransition:function(){this.$el.css("height",""),this.$el.css("opacity","")}})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/branch/BranchModel.js":function(e,i,a){"use strict";var s,t;s=[a("./js/viewissue/summary/BaseSummaryModel.js")],t=function(e){return e.extend({typeId:"branch"})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/branch/BranchModule.js":function(e,i,a){"use strict";var s,t;s=[a("./js/viewissue/summary/BaseSummaryModule.js"),a("./js/viewissue/summary/branch/BranchModel.js"),a("./js/viewissue/summary/branch/BranchView.js")],t=function(e,i,a){return e.extend({model:i,viewType:a})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/branch/BranchView.js":function(e,i,a){"use strict";var s,t;a(2),a(16),a(26),a(5),s=[a("jira.webresources:ajs-underscorejs-amd-shim/require('underscore')"),a("./js/viewissue/summary/BaseSummaryView.js"),a("./js/analytics/devstatus-analytics.js")],t=function(e,i,s){return i.extend({template:JIRA.Templates.DevStatus.Branches.summaryPanel,_onSummaryLinkClick:function(i){i.preventDefault();var t=this;a.e(14).then(function(){var i=[a("./js/viewissue/dialog/DetailDialogBranchView.js")];(function(i){t.detailDialogBranchView=new i(e.extend(t.getDefaultDetailDialogParameters(),{id:"devstatus-branch-detail-dialog",count:t.model.getOverall().count,analyticIssueData:t.options.analyticsModel.getIssue()})),s.BranchesAnalytics.fireSummaryClickedEvent(t.options.analyticsModel.getSummary()),t.detailDialogBranchView.show()}).apply(null,i)}).catch(a.oe)}})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/build/BuildModel.js":function(e,i,a){"use strict";var s,t;s=[a("./js/viewissue/summary/BaseSummaryModel.js")],t=function(e){return e.extend({typeId:"build"})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/build/BuildModule.js":function(e,i,a){"use strict";var s,t;s=[a("./js/viewissue/summary/BaseSummaryModule.js"),a("./js/viewissue/summary/build/BuildModel.js"),a("./js/viewissue/summary/build/BuildView.js")],t=function(e,i,a){return e.extend({model:i,viewType:a})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/build/BuildView.js":function(e,i,a){"use strict";var s,t;a(2),a(16),a(27),a(5),s=[a("jira.webresources:ajs-underscorejs-amd-shim/require('underscore')"),a("./js/viewissue/summary/BaseSummaryView.js"),a("./js/analytics/devstatus-analytics.js")],t=function(e,i,s){return i.extend({template:JIRA.Templates.DevStatus.Build.summaryPanel,_onSummaryLinkClick:function(i){i.preventDefault();var t=this;a.e(13).then(function(){var i=[a("./js/viewissue/dialog/build/DetailDialogBuildView.js")];(function(i){t.detailDialogBuildView=new i(e.extend(t.getDefaultDetailDialogParameters(),{id:"devstatus-build-detail-dialog",count:t.model.getOverall().count})),s.BuildsAnalytics.fireSummaryClickedEvent(t.options.analyticsModel.getSummary()),t.detailDialogBuildView.show()}).apply(null,i)}).catch(a.oe)}})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/commit/CommitModel.js":function(e,i,a){"use strict";var s,t;s=[a("./js/viewissue/summary/BaseSummaryModel.js")],t=function(e){return e.extend({typeId:"repository"})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/commit/CommitModule.js":function(e,i,a){"use strict";var s,t;s=[a("./js/viewissue/summary/BaseSummaryModule.js"),a("./js/viewissue/summary/commit/CommitModel.js"),a("./js/viewissue/summary/commit/CommitView.js")],t=function(e,i,a){return e.extend({model:i,viewType:a})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/commit/CommitView.js":function(e,i,a){"use strict";var s,t;a(2),a(16),a(28),a(5),s=[a("jira.webresources:ajs-underscorejs-amd-shim/require('underscore')"),a("./js/viewissue/summary/BaseSummaryView.js"),a("./js/analytics/devstatus-analytics.js")],t=function(e,i,s){return i.extend({template:JIRA.Templates.DevStatus.Commit.summaryPanel,_onSummaryLinkClick:function(i){i.preventDefault();var t=this;a.e(15).then(function(){var i=[a("./js/viewissue/dialog/DetailDialogCommitView.js")];(function(i){t.detailDialogCommitView=new i(e.extend(t.getDefaultDetailDialogParameters(),{id:"devstatus-commit-detail-dialog",count:t.model.getOverall().count})),s.CommitsAnalytics.fireSummaryClickedEvent(t.options.analyticsModel.getSummary()),t.detailDialogCommitView.show()}).apply(null,i)}).catch(a.oe)}})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/deployment/DeploymentModel.js":function(e,i,a){"use strict";var s,t;s=[a("./js/viewissue/summary/BaseSummaryModel.js")],t=function(e){return e.extend({typeId:"deployment-environment"})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/deployment/DeploymentModule.js":function(e,i,a){"use strict";var s,t;s=[a("./js/viewissue/summary/BaseSummaryModule.js"),a("./js/viewissue/summary/deployment/DeploymentModel.js"),a("./js/viewissue/summary/deployment/DeploymentView.js")],t=function(e,i,a){return e.extend({model:i,viewType:a})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/deployment/DeploymentView.js":function(e,i,a){"use strict";var s,t;a(2),a(16),a(30),a(5),s=[a("jira.webresources:ajs-underscorejs-amd-shim/require('underscore')"),a("./js/viewissue/summary/BaseSummaryView.js"),a("./js/analytics/devstatus-analytics.js")],t=function(e,i,s){return i.extend({template:JIRA.Templates.DevStatus.Deployment.summaryPanel,_onSummaryLinkClick:function(i){i.preventDefault();var t=this;a.e(12).then(function(){var i=[a("./js/viewissue/dialog/deployment/DetailDialogDeploymentView.js")];(function(i){t.detailDialogDeploymentView=new i(e.extend(t.getDefaultDetailDialogParameters(),{id:"devstatus-deployment-detail-dialog",count:t.model.getOverall().count})),s.DeploymentsAnalytics.fireSummaryClickedEvent(t.options.analyticsModel.getSummary()),t.detailDialogDeploymentView.show()}).apply(null,i)}).catch(a.oe)}})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/pullrequest/PullRequestModel.js":function(e,i,a){"use strict";var s,t;s=[a("./js/viewissue/summary/BaseSummaryModel.js")],t=function(e){return e.extend({typeId:"pullrequest"})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/pullrequest/PullRequestModule.js":function(e,i,a){"use strict";var s,t;s=[a("./js/viewissue/summary/BaseSummaryModule.js"),a("./js/viewissue/summary/pullrequest/PullRequestModel.js"),a("./js/viewissue/summary/pullrequest/PullRequestView.js")],t=function(e,i,a){return e.extend({model:i,viewType:a})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/pullrequest/PullRequestView.js":function(e,i,a){"use strict";var s,t;a(2),a(16),a(31),a(5),s=[a("jira.webresources:ajs-underscorejs-amd-shim/require('underscore')"),a("./js/viewissue/summary/BaseSummaryView.js"),a("./js/analytics/devstatus-analytics.js")],t=function(e,i,s){return i.extend({template:JIRA.Templates.DevStatus.PullRequest.summaryPanel,_onSummaryLinkClick:function(i){i.preventDefault();var t=this;a.e(11).then(function(){var i=[a("./js/viewissue/dialog/DetailDialogPullRequestView.js")];(function(i){t.detailDialogPullRequestView=new i(e.extend(t.getDefaultDetailDialogParameters(),{id:"devstatus-pullrequest-detail-dialog",count:t.model.getOverall().count,reviewersThreshold:2})),s.PullRequestsAnalytics.fireSummaryClickedEvent(t.options.analyticsModel.getSummary()),t.detailDialogPullRequestView.show()}).apply(null,i)}).catch(a.oe)}})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/review/ReviewModel.js":function(e,i,a){"use strict";var s,t;s=[a("./js/viewissue/summary/BaseSummaryModel.js")],t=function(e){return e.extend({typeId:"review"})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/review/ReviewModule.js":function(e,i,a){"use strict";var s,t;s=[a("./js/viewissue/summary/BaseSummaryModule.js"),a("./js/viewissue/summary/review/ReviewModel.js"),a("./js/viewissue/summary/review/ReviewView.js")],t=function(e,i,a){return e.extend({model:i,viewType:a})}.apply(i,s),!(void 0!==t&&(e.exports=t))},"./js/viewissue/summary/review/ReviewView.js":function(e,i,a){"use strict";var s,t;a(2),a(16),a(21),a(5),s=[a("jira.webresources:ajs-underscorejs-amd-shim/require('underscore')"),a("./js/viewissue/summary/BaseSummaryView.js"),a("./js/analytics/devstatus-analytics.js")],t=function(e,i,s){return i.extend({template:JIRA.Templates.DevStatus.Review.summaryPanel,_onSummaryLinkClick:function(i){i.preventDefault();var t=this;a.e(10).then(function(){var i=[a("./js/viewissue/dialog/DetailDialogReviewView.js")];(function(i){t.detailDialogReviewView=new i(e.extend(t.getDefaultDetailDialogParameters(),{id:"devstatus-review-detail-dialog",count:t.model.getOverall().count,reviewersThreshold:2,completed:t.model.getOverall().completed})),s.ReviewsAnalytics.fireSummaryClickedEvent(t.options.analyticsModel.getSummary()),t.detailDialogReviewView.show()}).apply(null,i)}).catch(a.oe)}})}.apply(i,s),!(void 0!==t&&(e.exports=t))},16:function(e){e.exports=void 0},2:function(e){e.exports=void 0},21:function(e){e.exports=void 0},25:function(e){e.exports=void 0},26:function(e){e.exports=void 0},27:function(e){e.exports=void 0},28:function(e){e.exports=void 0},30:function(e){e.exports=void 0},31:function(e){e.exports=void 0},5:function(e){e.exports=void 0},"com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager/require('jira-help-tips/feature/help-tip-manager')":function(e){e.exports=require("jira-help-tips/feature/help-tip-manager")},"com.atlassian.plugins.helptips.jira-help-tips:help-tip/require('jira-help-tips/feature/help-tip')":function(e){e.exports=require("jira-help-tips/feature/help-tip")},"jira.webresources:ajs-backbone-amd-shim/require('backbone')":function(e){e.exports=require("backbone")},"jira.webresources:dialogs/require('jira/dialog/form-dialog')":function(e){e.exports=require("jira/dialog/form-dialog")},"jira.webresources:jira-base-control/require('jira/lib/class')":function(e){e.exports=require("jira/lib/class")},"jira.webresources:jira-events/require('jira/util/events')":function(e){e.exports=require("jira/util/events")},"jira.webresources:jira-events/require('jira/util/events/types')":function(e){e.exports=require("jira/util/events/types")},"jira.webresources:jira-formatter/require('jira/util/formatter')":function(e){e.exports=require("jira/util/formatter")},"jira.webresources:jira-global/require('jira/ajs/dark-features')":function(e){e.exports=require("jira/ajs/dark-features")},"jira.webresources:jira-logger/require('jira/util/logger')":function(e){e.exports=require("jira/util/logger")},"jira.webresources:momentjs/require('jira/moment')":function(e){e.exports=require("jira/moment")}});
//# sourceMappingURL=0.075180f0a8e207fec1f8.js.map
}catch(e){WRMCB(e)};